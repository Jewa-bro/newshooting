function VR(o,s){for(var l=0;l<s.length;l++){const u=s[l];if(typeof u!="string"&&!Array.isArray(u)){for(const p in u)if(p!=="default"&&!(p in o)){const g=Object.getOwnPropertyDescriptor(u,p);g&&Object.defineProperty(o,p,g.get?g:{enumerable:!0,get:()=>u[p]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))u(p);new MutationObserver(p=>{for(const g of p)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&u(b)}).observe(document,{childList:!0,subtree:!0});function l(p){const g={};return p.integrity&&(g.integrity=p.integrity),p.referrerPolicy&&(g.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?g.credentials="include":p.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function u(p){if(p.ep)return;p.ep=!0;const g=l(p);fetch(p.href,g)}})();var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JE(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function UR(o){if(o.__esModule)return o;var s=o.default;if(typeof s=="function"){var l=function u(){return this instanceof u?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};l.prototype=s.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(o).forEach(function(u){var p=Object.getOwnPropertyDescriptor(o,u);Object.defineProperty(l,u,p.get?p:{enumerable:!0,get:function(){return o[u]}})}),l}var ZE={exports:{}},ju={},XE={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),HR=Symbol.for("react.portal"),$R=Symbol.for("react.fragment"),qR=Symbol.for("react.strict_mode"),WR=Symbol.for("react.profiler"),GR=Symbol.for("react.provider"),KR=Symbol.for("react.context"),YR=Symbol.for("react.forward_ref"),QR=Symbol.for("react.suspense"),JR=Symbol.for("react.memo"),ZR=Symbol.for("react.lazy"),g1=Symbol.iterator;function XR(o){return o===null||typeof o!="object"?null:(o=g1&&o[g1]||o["@@iterator"],typeof o=="function"?o:null)}var e2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t2=Object.assign,n2={};function Ys(o,s,l){this.props=o,this.context=s,this.refs=n2,this.updater=l||e2}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(o,s){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,s,"setState")};Ys.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function r2(){}r2.prototype=Ys.prototype;function Cf(o,s,l){this.props=o,this.context=s,this.refs=n2,this.updater=l||e2}var yf=Cf.prototype=new r2;yf.constructor=Cf;t2(yf,Ys.prototype);yf.isPureReactComponent=!0;var f1=Array.isArray,i2=Object.prototype.hasOwnProperty,xf={current:null},o2={key:!0,ref:!0,__self:!0,__source:!0};function s2(o,s,l){var u,p={},g=null,b=null;if(s!=null)for(u in s.ref!==void 0&&(b=s.ref),s.key!==void 0&&(g=""+s.key),s)i2.call(s,u)&&!o2.hasOwnProperty(u)&&(p[u]=s[u]);var _=arguments.length-2;if(_===1)p.children=l;else if(1<_){for(var k=Array(_),y=0;y<_;y++)k[y]=arguments[y+2];p.children=k}if(o&&o.defaultProps)for(u in _=o.defaultProps,_)p[u]===void 0&&(p[u]=_[u]);return{$$typeof:Vl,type:o,key:g,ref:b,props:p,_owner:xf.current}}function ez(o,s){return{$$typeof:Vl,type:o.type,key:s,ref:o.ref,props:o.props,_owner:o._owner}}function Ef(o){return typeof o=="object"&&o!==null&&o.$$typeof===Vl}function tz(o){var s={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(l){return s[l]})}var k1=/\/+/g;function Om(o,s){return typeof o=="object"&&o!==null&&o.key!=null?tz(""+o.key):s.toString(36)}function qd(o,s,l,u,p){var g=typeof o;(g==="undefined"||g==="boolean")&&(o=null);var b=!1;if(o===null)b=!0;else switch(g){case"string":case"number":b=!0;break;case"object":switch(o.$$typeof){case Vl:case HR:b=!0}}if(b)return b=o,p=p(b),o=u===""?"."+Om(b,0):u,f1(p)?(l="",o!=null&&(l=o.replace(k1,"$&/")+"/"),qd(p,s,l,"",function(y){return y})):p!=null&&(Ef(p)&&(p=ez(p,l+(!p.key||b&&b.key===p.key?"":(""+p.key).replace(k1,"$&/")+"/")+o)),s.push(p)),1;if(b=0,u=u===""?".":u+":",f1(o))for(var _=0;_<o.length;_++){g=o[_];var k=u+Om(g,_);b+=qd(g,s,l,k,p)}else if(k=XR(o),typeof k=="function")for(o=k.call(o),_=0;!(g=o.next()).done;)g=g.value,k=u+Om(g,_++),b+=qd(g,s,l,k,p);else if(g==="object")throw s=String(o),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return b}function yd(o,s,l){if(o==null)return o;var u=[],p=0;return qd(o,u,"","",function(g){return s.call(l,g,p++)}),u}function nz(o){if(o._status===-1){var s=o._result;s=s(),s.then(function(l){(o._status===0||o._status===-1)&&(o._status=1,o._result=l)},function(l){(o._status===0||o._status===-1)&&(o._status=2,o._result=l)}),o._status===-1&&(o._status=0,o._result=s)}if(o._status===1)return o._result.default;throw o._result}var qt={current:null},Wd={transition:null},rz={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:xf};function a2(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:yd,forEach:function(o,s,l){yd(o,function(){s.apply(this,arguments)},l)},count:function(o){var s=0;return yd(o,function(){s++}),s},toArray:function(o){return yd(o,function(s){return s})||[]},only:function(o){if(!Ef(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};ye.Component=Ys;ye.Fragment=$R;ye.Profiler=WR;ye.PureComponent=Cf;ye.StrictMode=qR;ye.Suspense=QR;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rz;ye.act=a2;ye.cloneElement=function(o,s,l){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var u=t2({},o.props),p=o.key,g=o.ref,b=o._owner;if(s!=null){if(s.ref!==void 0&&(g=s.ref,b=xf.current),s.key!==void 0&&(p=""+s.key),o.type&&o.type.defaultProps)var _=o.type.defaultProps;for(k in s)i2.call(s,k)&&!o2.hasOwnProperty(k)&&(u[k]=s[k]===void 0&&_!==void 0?_[k]:s[k])}var k=arguments.length-2;if(k===1)u.children=l;else if(1<k){_=Array(k);for(var y=0;y<k;y++)_[y]=arguments[y+2];u.children=_}return{$$typeof:Vl,type:o.type,key:p,ref:g,props:u,_owner:b}};ye.createContext=function(o){return o={$$typeof:KR,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:GR,_context:o},o.Consumer=o};ye.createElement=s2;ye.createFactory=function(o){var s=s2.bind(null,o);return s.type=o,s};ye.createRef=function(){return{current:null}};ye.forwardRef=function(o){return{$$typeof:YR,render:o}};ye.isValidElement=Ef;ye.lazy=function(o){return{$$typeof:ZR,_payload:{_status:-1,_result:o},_init:nz}};ye.memo=function(o,s){return{$$typeof:JR,type:o,compare:s===void 0?null:s}};ye.startTransition=function(o){var s=Wd.transition;Wd.transition={};try{o()}finally{Wd.transition=s}};ye.unstable_act=a2;ye.useCallback=function(o,s){return qt.current.useCallback(o,s)};ye.useContext=function(o){return qt.current.useContext(o)};ye.useDebugValue=function(){};ye.useDeferredValue=function(o){return qt.current.useDeferredValue(o)};ye.useEffect=function(o,s){return qt.current.useEffect(o,s)};ye.useId=function(){return qt.current.useId()};ye.useImperativeHandle=function(o,s,l){return qt.current.useImperativeHandle(o,s,l)};ye.useInsertionEffect=function(o,s){return qt.current.useInsertionEffect(o,s)};ye.useLayoutEffect=function(o,s){return qt.current.useLayoutEffect(o,s)};ye.useMemo=function(o,s){return qt.current.useMemo(o,s)};ye.useReducer=function(o,s,l){return qt.current.useReducer(o,s,l)};ye.useRef=function(o){return qt.current.useRef(o)};ye.useState=function(o){return qt.current.useState(o)};ye.useSyncExternalStore=function(o,s,l){return qt.current.useSyncExternalStore(o,s,l)};ye.useTransition=function(){return qt.current.useTransition()};ye.version="18.3.1";XE.exports=ye;var V=XE.exports;const ir=JE(V),iz=VR({__proto__:null,default:ir},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oz=V,sz=Symbol.for("react.element"),az=Symbol.for("react.fragment"),lz=Object.prototype.hasOwnProperty,cz=oz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dz={key:!0,ref:!0,__self:!0,__source:!0};function l2(o,s,l){var u,p={},g=null,b=null;l!==void 0&&(g=""+l),s.key!==void 0&&(g=""+s.key),s.ref!==void 0&&(b=s.ref);for(u in s)lz.call(s,u)&&!dz.hasOwnProperty(u)&&(p[u]=s[u]);if(o&&o.defaultProps)for(u in s=o.defaultProps,s)p[u]===void 0&&(p[u]=s[u]);return{$$typeof:sz,type:o,key:g,ref:b,props:p,_owner:cz.current}}ju.Fragment=az;ju.jsx=l2;ju.jsxs=l2;ZE.exports=ju;var A=ZE.exports,c2={exports:{}},yn={},d2={exports:{}},u2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function s(Z,ue){var me=Z.length;Z.push(ue);e:for(;0<me;){var Oe=me-1>>>1,$e=Z[Oe];if(0<p($e,ue))Z[Oe]=ue,Z[me]=$e,me=Oe;else break e}}function l(Z){return Z.length===0?null:Z[0]}function u(Z){if(Z.length===0)return null;var ue=Z[0],me=Z.pop();if(me!==ue){Z[0]=me;e:for(var Oe=0,$e=Z.length,Jr=$e>>>1;Oe<Jr;){var Un=2*(Oe+1)-1,Zr=Z[Un],Se=Un+1,lr=Z[Se];if(0>p(Zr,me))Se<$e&&0>p(lr,Zr)?(Z[Oe]=lr,Z[Se]=me,Oe=Se):(Z[Oe]=Zr,Z[Un]=me,Oe=Un);else if(Se<$e&&0>p(lr,me))Z[Oe]=lr,Z[Se]=me,Oe=Se;else break e}}return ue}function p(Z,ue){var me=Z.sortIndex-ue.sortIndex;return me!==0?me:Z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;o.unstable_now=function(){return g.now()}}else{var b=Date,_=b.now();o.unstable_now=function(){return b.now()-_}}var k=[],y=[],E=1,D=null,C=3,T=!1,j=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Z){for(var ue=l(y);ue!==null;){if(ue.callback===null)u(y);else if(ue.startTime<=Z)u(y),ue.sortIndex=ue.expirationTime,s(k,ue);else break;ue=l(y)}}function H(Z){if(O=!1,R(Z),!j)if(l(k)!==null)j=!0,De(q);else{var ue=l(y);ue!==null&&wt(H,ue.startTime-Z)}}function q(Z,ue){j=!1,O&&(O=!1,N($),$=-1),T=!0;var me=C;try{for(R(ue),D=l(k);D!==null&&(!(D.expirationTime>ue)||Z&&!be());){var Oe=D.callback;if(typeof Oe=="function"){D.callback=null,C=D.priorityLevel;var $e=Oe(D.expirationTime<=ue);ue=o.unstable_now(),typeof $e=="function"?D.callback=$e:D===l(k)&&u(k),R(ue)}else u(k);D=l(k)}if(D!==null)var Jr=!0;else{var Un=l(y);Un!==null&&wt(H,Un.startTime-ue),Jr=!1}return Jr}finally{D=null,C=me,T=!1}}var Y=!1,M=null,$=-1,re=5,oe=-1;function be(){return!(o.unstable_now()-oe<re)}function ae(){if(M!==null){var Z=o.unstable_now();oe=Z;var ue=!0;try{ue=M(!0,Z)}finally{ue?pe():(Y=!1,M=null)}}else Y=!1}var pe;if(typeof B=="function")pe=function(){B(ae)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,fe=xe.port2;xe.port1.onmessage=ae,pe=function(){fe.postMessage(null)}}else pe=function(){L(ae,0)};function De(Z){M=Z,Y||(Y=!0,pe())}function wt(Z,ue){$=L(function(){Z(o.unstable_now())},ue)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Z){Z.callback=null},o.unstable_continueExecution=function(){j||T||(j=!0,De(q))},o.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Z?Math.floor(1e3/Z):5},o.unstable_getCurrentPriorityLevel=function(){return C},o.unstable_getFirstCallbackNode=function(){return l(k)},o.unstable_next=function(Z){switch(C){case 1:case 2:case 3:var ue=3;break;default:ue=C}var me=C;C=ue;try{return Z()}finally{C=me}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var me=C;C=Z;try{return ue()}finally{C=me}},o.unstable_scheduleCallback=function(Z,ue,me){var Oe=o.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Oe+me:Oe):me=Oe,Z){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=me+$e,Z={id:E++,callback:ue,priorityLevel:Z,startTime:me,expirationTime:$e,sortIndex:-1},me>Oe?(Z.sortIndex=me,s(y,Z),l(k)===null&&Z===l(y)&&(O?(N($),$=-1):O=!0,wt(H,me-Oe))):(Z.sortIndex=$e,s(k,Z),j||T||(j=!0,De(q))),Z},o.unstable_shouldYield=be,o.unstable_wrapCallback=function(Z){var ue=C;return function(){var me=C;C=ue;try{return Z.apply(this,arguments)}finally{C=me}}}})(u2);d2.exports=u2;var uz=d2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hz=V,Cn=uz;function X(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h2=new Set,_l={};function To(o,s){Fs(o,s),Fs(o+"Capture",s)}function Fs(o,s){for(_l[o]=s,o=0;o<s.length;o++)h2.add(s[o])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bg=Object.prototype.hasOwnProperty,pz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},w1={};function mz(o){return bg.call(w1,o)?!0:bg.call(b1,o)?!1:pz.test(o)?w1[o]=!0:(b1[o]=!0,!1)}function gz(o,s,l,u){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function fz(o,s,l,u){if(s===null||typeof s>"u"||gz(o,s,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Wt(o,s,l,u,p,g,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=o,this.type=s,this.sanitizeURL=g,this.removeEmptyString=b}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){Mt[o]=new Wt(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];Mt[s]=new Wt(s,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){Mt[o]=new Wt(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){Mt[o]=new Wt(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){Mt[o]=new Wt(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){Mt[o]=new Wt(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){Mt[o]=new Wt(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){Mt[o]=new Wt(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){Mt[o]=new Wt(o,5,!1,o.toLowerCase(),null,!1,!1)});var Df=/[\-:]([a-z])/g;function Sf(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(Df,Sf);Mt[s]=new Wt(s,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(Df,Sf);Mt[s]=new Wt(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(Df,Sf);Mt[s]=new Wt(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){Mt[o]=new Wt(o,1,!1,o.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){Mt[o]=new Wt(o,1,!1,o.toLowerCase(),null,!0,!0)});function Tf(o,s,l,u){var p=Mt.hasOwnProperty(s)?Mt[s]:null;(p!==null?p.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(fz(s,l,p,u)&&(l=null),u||p===null?mz(s)&&(l===null?o.removeAttribute(s):o.setAttribute(s,""+l)):p.mustUseProperty?o[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,u=p.attributeNamespace,l===null?o.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,u?o.setAttributeNS(u,s,l):o.setAttribute(s,l))))}var Yr=hz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xd=Symbol.for("react.element"),_s=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),wg=Symbol.for("react.profiler"),p2=Symbol.for("react.provider"),m2=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),_g=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),g2=Symbol.for("react.offscreen"),_1=Symbol.iterator;function Ga(o){return o===null||typeof o!="object"?null:(o=_1&&o[_1]||o["@@iterator"],typeof o=="function"?o:null)}var rt=Object.assign,Lm;function rl(o){if(Lm===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Lm=s&&s[1]||""}return`
`+Lm+o}var Rm=!1;function zm(o,s){if(!o||Rm)return"";Rm=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(y){var u=y}Reflect.construct(o,[],s)}else{try{s.call()}catch(y){u=y}o.call(s.prototype)}else{try{throw Error()}catch(y){u=y}o()}}catch(y){if(y&&u&&typeof y.stack=="string"){for(var p=y.stack.split(`
`),g=u.stack.split(`
`),b=p.length-1,_=g.length-1;1<=b&&0<=_&&p[b]!==g[_];)_--;for(;1<=b&&0<=_;b--,_--)if(p[b]!==g[_]){if(b!==1||_!==1)do if(b--,_--,0>_||p[b]!==g[_]){var k=`
`+p[b].replace(" at new "," at ");return o.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",o.displayName)),k}while(1<=b&&0<=_);break}}}finally{Rm=!1,Error.prepareStackTrace=l}return(o=o?o.displayName||o.name:"")?rl(o):""}function kz(o){switch(o.tag){case 5:return rl(o.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return o=zm(o.type,!1),o;case 11:return o=zm(o.type.render,!1),o;case 1:return o=zm(o.type,!0),o;default:return""}}function vg(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case As:return"Fragment";case _s:return"Portal";case wg:return"Profiler";case If:return"StrictMode";case _g:return"Suspense";case Ag:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case m2:return(o.displayName||"Context")+".Consumer";case p2:return(o._context.displayName||"Context")+".Provider";case Mf:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Nf:return s=o.displayName||null,s!==null?s:vg(o.type)||"Memo";case fi:s=o._payload,o=o._init;try{return vg(o(s))}catch{}}return null}function bz(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vg(s);case 8:return s===If?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ji(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function f2(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wz(o){var s=f2(o)?"checked":"value",l=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),u=""+o[s];if(!o.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(o,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Ed(o){o._valueTracker||(o._valueTracker=wz(o))}function k2(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return o&&(u=f2(o)?o.checked?"true":"false":o.value),o=u,o!==l?(s.setValue(o),!0):!1}function iu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Cg(o,s){var l=s.checked;return rt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??o._wrapperState.initialChecked})}function A1(o,s){var l=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;l=ji(s.value!=null?s.value:l),o._wrapperState={initialChecked:u,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function b2(o,s){s=s.checked,s!=null&&Tf(o,"checked",s,!1)}function yg(o,s){b2(o,s);var l=ji(s.value),u=s.type;if(l!=null)u==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+l):o.value!==""+l&&(o.value=""+l);else if(u==="submit"||u==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?xg(o,s.type,l):s.hasOwnProperty("defaultValue")&&xg(o,s.type,ji(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function v1(o,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,l||s===o.value||(o.value=s),o.defaultValue=s}l=o.name,l!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,l!==""&&(o.name=l)}function xg(o,s,l){(s!=="number"||iu(o.ownerDocument)!==o)&&(l==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+l&&(o.defaultValue=""+l))}var il=Array.isArray;function Ns(o,s,l,u){if(o=o.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<o.length;l++)p=s.hasOwnProperty("$"+o[l].value),o[l].selected!==p&&(o[l].selected=p),p&&u&&(o[l].defaultSelected=!0)}else{for(l=""+ji(l),s=null,p=0;p<o.length;p++){if(o[p].value===l){o[p].selected=!0,u&&(o[p].defaultSelected=!0);return}s!==null||o[p].disabled||(s=o[p])}s!==null&&(s.selected=!0)}}function Eg(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(X(91));return rt({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function C1(o,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(X(92));if(il(l)){if(1<l.length)throw Error(X(93));l=l[0]}s=l}s==null&&(s=""),l=s}o._wrapperState={initialValue:ji(l)}}function w2(o,s){var l=ji(s.value),u=ji(s.defaultValue);l!=null&&(l=""+l,l!==o.value&&(o.value=l),s.defaultValue==null&&o.defaultValue!==l&&(o.defaultValue=l)),u!=null&&(o.defaultValue=""+u)}function y1(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function _2(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dg(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?_2(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Dd,A2=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,u,p){MSApp.execUnsafeLocalFunction(function(){return o(s,l,u,p)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(Dd=Dd||document.createElement("div"),Dd.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dd.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function Al(o,s){if(s){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=s;return}}o.textContent=s}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_z=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(o){_z.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),ll[s]=ll[o]})});function v2(o,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ll.hasOwnProperty(o)&&ll[o]?(""+s).trim():s+"px"}function C2(o,s){o=o.style;for(var l in s)if(s.hasOwnProperty(l)){var u=l.indexOf("--")===0,p=v2(l,s[l],u);l==="float"&&(l="cssFloat"),u?o.setProperty(l,p):o[l]=p}}var Az=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sg(o,s){if(s){if(Az[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(X(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(X(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(X(61))}if(s.style!=null&&typeof s.style!="object")throw Error(X(62))}}function Tg(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ig=null;function Bf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Mg=null,Bs=null,js=null;function x1(o){if(o=$l(o)){if(typeof Mg!="function")throw Error(X(280));var s=o.stateNode;s&&(s=zu(s),Mg(o.stateNode,o.type,s))}}function y2(o){Bs?js?js.push(o):js=[o]:Bs=o}function x2(){if(Bs){var o=Bs,s=js;if(js=Bs=null,x1(o),s)for(o=0;o<s.length;o++)x1(s[o])}}function E2(o,s){return o(s)}function D2(){}var Fm=!1;function S2(o,s,l){if(Fm)return o(s,l);Fm=!0;try{return E2(o,s,l)}finally{Fm=!1,(Bs!==null||js!==null)&&(D2(),x2())}}function vl(o,s){var l=o.stateNode;if(l===null)return null;var u=zu(l);if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(o=o.type,u=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!u;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(X(231,s,typeof l));return l}var Ng=!1;if(qr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Ng=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Ng=!1}function vz(o,s,l,u,p,g,b,_,k){var y=Array.prototype.slice.call(arguments,3);try{s.apply(l,y)}catch(E){this.onError(E)}}var cl=!1,ou=null,su=!1,Bg=null,Cz={onError:function(o){cl=!0,ou=o}};function yz(o,s,l,u,p,g,b,_,k){cl=!1,ou=null,vz.apply(Cz,arguments)}function xz(o,s,l,u,p,g,b,_,k){if(yz.apply(this,arguments),cl){if(cl){var y=ou;cl=!1,ou=null}else throw Error(X(198));su||(su=!0,Bg=y)}}function Io(o){var s=o,l=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,s.flags&4098&&(l=s.return),o=s.return;while(o)}return s.tag===3?l:null}function T2(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function E1(o){if(Io(o)!==o)throw Error(X(188))}function Ez(o){var s=o.alternate;if(!s){if(s=Io(o),s===null)throw Error(X(188));return s!==o?null:o}for(var l=o,u=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return E1(p),o;if(g===u)return E1(p),s;g=g.sibling}throw Error(X(188))}if(l.return!==u.return)l=p,u=g;else{for(var b=!1,_=p.child;_;){if(_===l){b=!0,l=p,u=g;break}if(_===u){b=!0,u=p,l=g;break}_=_.sibling}if(!b){for(_=g.child;_;){if(_===l){b=!0,l=g,u=p;break}if(_===u){b=!0,u=g,l=p;break}_=_.sibling}if(!b)throw Error(X(189))}}if(l.alternate!==u)throw Error(X(190))}if(l.tag!==3)throw Error(X(188));return l.stateNode.current===l?o:s}function I2(o){return o=Ez(o),o!==null?M2(o):null}function M2(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=M2(o);if(s!==null)return s;o=o.sibling}return null}var N2=Cn.unstable_scheduleCallback,D1=Cn.unstable_cancelCallback,Dz=Cn.unstable_shouldYield,Sz=Cn.unstable_requestPaint,ut=Cn.unstable_now,Tz=Cn.unstable_getCurrentPriorityLevel,jf=Cn.unstable_ImmediatePriority,B2=Cn.unstable_UserBlockingPriority,au=Cn.unstable_NormalPriority,Iz=Cn.unstable_LowPriority,j2=Cn.unstable_IdlePriority,Pu=null,Cr=null;function Mz(o){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Pu,o,void 0,(o.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:jz,Nz=Math.log,Bz=Math.LN2;function jz(o){return o>>>=0,o===0?32:31-(Nz(o)/Bz|0)|0}var Sd=64,Td=4194304;function ol(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function lu(o,s){var l=o.pendingLanes;if(l===0)return 0;var u=0,p=o.suspendedLanes,g=o.pingedLanes,b=l&268435455;if(b!==0){var _=b&~p;_!==0?u=ol(_):(g&=b,g!==0&&(u=ol(g)))}else b=l&~p,b!==0?u=ol(b):g!==0&&(u=ol(g));if(u===0)return 0;if(s!==0&&s!==u&&!(s&p)&&(p=u&-u,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(u&4&&(u|=l&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=u;0<s;)l=31-or(s),p=1<<l,u|=o[l],s&=~p;return u}function Pz(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oz(o,s){for(var l=o.suspendedLanes,u=o.pingedLanes,p=o.expirationTimes,g=o.pendingLanes;0<g;){var b=31-or(g),_=1<<b,k=p[b];k===-1?(!(_&l)||_&u)&&(p[b]=Pz(_,s)):k<=s&&(o.expiredLanes|=_),g&=~_}}function jg(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function P2(){var o=Sd;return Sd<<=1,!(Sd&4194240)&&(Sd=64),o}function Vm(o){for(var s=[],l=0;31>l;l++)s.push(o);return s}function Ul(o,s,l){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-or(s),o[s]=l}function Lz(o,s){var l=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var u=o.eventTimes;for(o=o.expirationTimes;0<l;){var p=31-or(l),g=1<<p;s[p]=0,u[p]=-1,o[p]=-1,l&=~g}}function Pf(o,s){var l=o.entangledLanes|=s;for(o=o.entanglements;l;){var u=31-or(l),p=1<<u;p&s|o[u]&s&&(o[u]|=s),l&=~p}}var Fe=0;function O2(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var L2,Of,R2,z2,F2,Pg=!1,Id=[],xi=null,Ei=null,Di=null,Cl=new Map,yl=new Map,wi=[],Rz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S1(o,s){switch(o){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(s.pointerId)}}function Ya(o,s,l,u,p,g){return o===null||o.nativeEvent!==g?(o={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=$l(s),s!==null&&Of(s)),o):(o.eventSystemFlags|=u,s=o.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),o)}function zz(o,s,l,u,p){switch(s){case"focusin":return xi=Ya(xi,o,s,l,u,p),!0;case"dragenter":return Ei=Ya(Ei,o,s,l,u,p),!0;case"mouseover":return Di=Ya(Di,o,s,l,u,p),!0;case"pointerover":var g=p.pointerId;return Cl.set(g,Ya(Cl.get(g)||null,o,s,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,yl.set(g,Ya(yl.get(g)||null,o,s,l,u,p)),!0}return!1}function V2(o){var s=wo(o.target);if(s!==null){var l=Io(s);if(l!==null){if(s=l.tag,s===13){if(s=T2(l),s!==null){o.blockedOn=s,F2(o.priority,function(){R2(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gd(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var l=Og(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(l===null){l=o.nativeEvent;var u=new l.constructor(l.type,l);Ig=u,l.target.dispatchEvent(u),Ig=null}else return s=$l(l),s!==null&&Of(s),o.blockedOn=l,!1;s.shift()}return!0}function T1(o,s,l){Gd(o)&&l.delete(s)}function Fz(){Pg=!1,xi!==null&&Gd(xi)&&(xi=null),Ei!==null&&Gd(Ei)&&(Ei=null),Di!==null&&Gd(Di)&&(Di=null),Cl.forEach(T1),yl.forEach(T1)}function Qa(o,s){o.blockedOn===s&&(o.blockedOn=null,Pg||(Pg=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,Fz)))}function xl(o){function s(p){return Qa(p,o)}if(0<Id.length){Qa(Id[0],o);for(var l=1;l<Id.length;l++){var u=Id[l];u.blockedOn===o&&(u.blockedOn=null)}}for(xi!==null&&Qa(xi,o),Ei!==null&&Qa(Ei,o),Di!==null&&Qa(Di,o),Cl.forEach(s),yl.forEach(s),l=0;l<wi.length;l++)u=wi[l],u.blockedOn===o&&(u.blockedOn=null);for(;0<wi.length&&(l=wi[0],l.blockedOn===null);)V2(l),l.blockedOn===null&&wi.shift()}var Ps=Yr.ReactCurrentBatchConfig,cu=!0;function Vz(o,s,l,u){var p=Fe,g=Ps.transition;Ps.transition=null;try{Fe=1,Lf(o,s,l,u)}finally{Fe=p,Ps.transition=g}}function Uz(o,s,l,u){var p=Fe,g=Ps.transition;Ps.transition=null;try{Fe=4,Lf(o,s,l,u)}finally{Fe=p,Ps.transition=g}}function Lf(o,s,l,u){if(cu){var p=Og(o,s,l,u);if(p===null)Jm(o,s,u,du,l),S1(o,u);else if(zz(p,o,s,l,u))u.stopPropagation();else if(S1(o,u),s&4&&-1<Rz.indexOf(o)){for(;p!==null;){var g=$l(p);if(g!==null&&L2(g),g=Og(o,s,l,u),g===null&&Jm(o,s,u,du,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else Jm(o,s,u,null,l)}}var du=null;function Og(o,s,l,u){if(du=null,o=Bf(u),o=wo(o),o!==null)if(s=Io(o),s===null)o=null;else if(l=s.tag,l===13){if(o=T2(s),o!==null)return o;o=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return du=o,null}function U2(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tz()){case jf:return 1;case B2:return 4;case au:case Iz:return 16;case j2:return 536870912;default:return 16}default:return 16}}var vi=null,Rf=null,Kd=null;function H2(){if(Kd)return Kd;var o,s=Rf,l=s.length,u,p="value"in vi?vi.value:vi.textContent,g=p.length;for(o=0;o<l&&s[o]===p[o];o++);var b=l-o;for(u=1;u<=b&&s[l-u]===p[g-u];u++);return Kd=p.slice(o,1<u?1-u:void 0)}function Yd(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Md(){return!0}function I1(){return!1}function xn(o){function s(l,u,p,g,b){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var _ in o)o.hasOwnProperty(_)&&(l=o[_],this[_]=l?l(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Md:I1,this.isPropagationStopped=I1,this}return rt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Md)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Md)},persist:function(){},isPersistent:Md}),s}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zf=xn(Qs),Hl=rt({},Qs,{view:0,detail:0}),Hz=xn(Hl),Um,Hm,Ja,Ou=rt({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ja&&(Ja&&o.type==="mousemove"?(Um=o.screenX-Ja.screenX,Hm=o.screenY-Ja.screenY):Hm=Um=0,Ja=o),Um)},movementY:function(o){return"movementY"in o?o.movementY:Hm}}),M1=xn(Ou),$z=rt({},Ou,{dataTransfer:0}),qz=xn($z),Wz=rt({},Hl,{relatedTarget:0}),$m=xn(Wz),Gz=rt({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Kz=xn(Gz),Yz=rt({},Qs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Qz=xn(Yz),Jz=rt({},Qs,{data:0}),N1=xn(Jz),Zz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t6(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=e6[o])?!!s[o]:!1}function Ff(){return t6}var n6=rt({},Hl,{key:function(o){if(o.key){var s=Zz[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Yd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Xz[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(o){return o.type==="keypress"?Yd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Yd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),r6=xn(n6),i6=rt({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B1=xn(i6),o6=rt({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),s6=xn(o6),a6=rt({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),l6=xn(a6),c6=rt({},Ou,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),d6=xn(c6),u6=[9,13,27,32],Vf=qr&&"CompositionEvent"in window,dl=null;qr&&"documentMode"in document&&(dl=document.documentMode);var h6=qr&&"TextEvent"in window&&!dl,$2=qr&&(!Vf||dl&&8<dl&&11>=dl),j1=" ",P1=!1;function q2(o,s){switch(o){case"keyup":return u6.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var vs=!1;function p6(o,s){switch(o){case"compositionend":return W2(s);case"keypress":return s.which!==32?null:(P1=!0,j1);case"textInput":return o=s.data,o===j1&&P1?null:o;default:return null}}function m6(o,s){if(vs)return o==="compositionend"||!Vf&&q2(o,s)?(o=H2(),Kd=Rf=vi=null,vs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $2&&s.locale!=="ko"?null:s.data;default:return null}}var g6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O1(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!g6[o.type]:s==="textarea"}function G2(o,s,l,u){y2(u),s=uu(s,"onChange"),0<s.length&&(l=new zf("onChange","change",null,l,u),o.push({event:l,listeners:s}))}var ul=null,El=null;function f6(o){iD(o,0)}function Lu(o){var s=xs(o);if(k2(s))return o}function k6(o,s){if(o==="change")return s}var K2=!1;if(qr){var qm;if(qr){var Wm="oninput"in document;if(!Wm){var L1=document.createElement("div");L1.setAttribute("oninput","return;"),Wm=typeof L1.oninput=="function"}qm=Wm}else qm=!1;K2=qm&&(!document.documentMode||9<document.documentMode)}function R1(){ul&&(ul.detachEvent("onpropertychange",Y2),El=ul=null)}function Y2(o){if(o.propertyName==="value"&&Lu(El)){var s=[];G2(s,El,o,Bf(o)),S2(f6,s)}}function b6(o,s,l){o==="focusin"?(R1(),ul=s,El=l,ul.attachEvent("onpropertychange",Y2)):o==="focusout"&&R1()}function w6(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Lu(El)}function _6(o,s){if(o==="click")return Lu(s)}function A6(o,s){if(o==="input"||o==="change")return Lu(s)}function v6(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var ar=typeof Object.is=="function"?Object.is:v6;function Dl(o,s){if(ar(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var l=Object.keys(o),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!bg.call(s,p)||!ar(o[p],s[p]))return!1}return!0}function z1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function F1(o,s){var l=z1(o);o=0;for(var u;l;){if(l.nodeType===3){if(u=o+l.textContent.length,o<=s&&u>=s)return{node:l,offset:s-o};o=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=z1(l)}}function Q2(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Q2(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function J2(){for(var o=window,s=iu();s instanceof o.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)o=s.contentWindow;else break;s=iu(o.document)}return s}function Uf(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function C6(o){var s=J2(),l=o.focusedElem,u=o.selectionRange;if(s!==l&&l&&l.ownerDocument&&Q2(l.ownerDocument.documentElement,l)){if(u!==null&&Uf(l)){if(s=u.start,o=u.end,o===void 0&&(o=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(o,l.value.length);else if(o=(s=l.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var p=l.textContent.length,g=Math.min(u.start,p);u=u.end===void 0?g:Math.min(u.end,p),!o.extend&&g>u&&(p=u,u=g,g=p),p=F1(l,g);var b=F1(l,u);p&&b&&(o.rangeCount!==1||o.anchorNode!==p.node||o.anchorOffset!==p.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),o.removeAllRanges(),g>u?(o.addRange(s),o.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),o.addRange(s)))}}for(s=[],o=l;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)o=s[l],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var y6=qr&&"documentMode"in document&&11>=document.documentMode,Cs=null,Lg=null,hl=null,Rg=!1;function V1(o,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rg||Cs==null||Cs!==iu(u)||(u=Cs,"selectionStart"in u&&Uf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hl&&Dl(hl,u)||(hl=u,u=uu(Lg,"onSelect"),0<u.length&&(s=new zf("onSelect","select",null,s,l),o.push({event:s,listeners:u}),s.target=Cs)))}function Nd(o,s){var l={};return l[o.toLowerCase()]=s.toLowerCase(),l["Webkit"+o]="webkit"+s,l["Moz"+o]="moz"+s,l}var ys={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},Gm={},Z2={};qr&&(Z2=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Ru(o){if(Gm[o])return Gm[o];if(!ys[o])return o;var s=ys[o],l;for(l in s)if(s.hasOwnProperty(l)&&l in Z2)return Gm[o]=s[l];return o}var X2=Ru("animationend"),eD=Ru("animationiteration"),tD=Ru("animationstart"),nD=Ru("transitionend"),rD=new Map,U1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(o,s){rD.set(o,s),To(s,[o])}for(var Km=0;Km<U1.length;Km++){var Ym=U1[Km],x6=Ym.toLowerCase(),E6=Ym[0].toUpperCase()+Ym.slice(1);Li(x6,"on"+E6)}Li(X2,"onAnimationEnd");Li(eD,"onAnimationIteration");Li(tD,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(nD,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D6=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function H1(o,s,l){var u=o.type||"unknown-event";o.currentTarget=l,xz(u,s,void 0,o),o.currentTarget=null}function iD(o,s){s=(s&4)!==0;for(var l=0;l<o.length;l++){var u=o[l],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var _=u[b],k=_.instance,y=_.currentTarget;if(_=_.listener,k!==g&&p.isPropagationStopped())break e;H1(p,_,y),g=k}else for(b=0;b<u.length;b++){if(_=u[b],k=_.instance,y=_.currentTarget,_=_.listener,k!==g&&p.isPropagationStopped())break e;H1(p,_,y),g=k}}}if(su)throw o=Bg,su=!1,Bg=null,o}function Ze(o,s){var l=s[Hg];l===void 0&&(l=s[Hg]=new Set);var u=o+"__bubble";l.has(u)||(oD(s,o,2,!1),l.add(u))}function Qm(o,s,l){var u=0;s&&(u|=4),oD(l,o,u,s)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function Sl(o){if(!o[Bd]){o[Bd]=!0,h2.forEach(function(l){l!=="selectionchange"&&(D6.has(l)||Qm(l,!1,o),Qm(l,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Bd]||(s[Bd]=!0,Qm("selectionchange",!1,s))}}function oD(o,s,l,u){switch(U2(s)){case 1:var p=Vz;break;case 4:p=Uz;break;default:p=Lf}l=p.bind(null,s,l,o),p=void 0,!Ng||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?o.addEventListener(s,l,{capture:!0,passive:p}):o.addEventListener(s,l,!0):p!==void 0?o.addEventListener(s,l,{passive:p}):o.addEventListener(s,l,!1)}function Jm(o,s,l,u,p){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var _=u.stateNode.containerInfo;if(_===p||_.nodeType===8&&_.parentNode===p)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&(k=b.stateNode.containerInfo,k===p||k.nodeType===8&&k.parentNode===p))return;b=b.return}for(;_!==null;){if(b=wo(_),b===null)return;if(k=b.tag,k===5||k===6){u=g=b;continue e}_=_.parentNode}}u=u.return}S2(function(){var y=g,E=Bf(l),D=[];e:{var C=rD.get(o);if(C!==void 0){var T=zf,j=o;switch(o){case"keypress":if(Yd(l)===0)break e;case"keydown":case"keyup":T=r6;break;case"focusin":j="focus",T=$m;break;case"focusout":j="blur",T=$m;break;case"beforeblur":case"afterblur":T=$m;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=qz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=s6;break;case X2:case eD:case tD:T=Kz;break;case nD:T=l6;break;case"scroll":T=Hz;break;case"wheel":T=d6;break;case"copy":case"cut":case"paste":T=Qz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=B1}var O=(s&4)!==0,L=!O&&o==="scroll",N=O?C!==null?C+"Capture":null:C;O=[];for(var B=y,R;B!==null;){R=B;var H=R.stateNode;if(R.tag===5&&H!==null&&(R=H,N!==null&&(H=vl(B,N),H!=null&&O.push(Tl(B,H,R)))),L)break;B=B.return}0<O.length&&(C=new T(C,j,null,l,E),D.push({event:C,listeners:O}))}}if(!(s&7)){e:{if(C=o==="mouseover"||o==="pointerover",T=o==="mouseout"||o==="pointerout",C&&l!==Ig&&(j=l.relatedTarget||l.fromElement)&&(wo(j)||j[Wr]))break e;if((T||C)&&(C=E.window===E?E:(C=E.ownerDocument)?C.defaultView||C.parentWindow:window,T?(j=l.relatedTarget||l.toElement,T=y,j=j?wo(j):null,j!==null&&(L=Io(j),j!==L||j.tag!==5&&j.tag!==6)&&(j=null)):(T=null,j=y),T!==j)){if(O=M1,H="onMouseLeave",N="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(O=B1,H="onPointerLeave",N="onPointerEnter",B="pointer"),L=T==null?C:xs(T),R=j==null?C:xs(j),C=new O(H,B+"leave",T,l,E),C.target=L,C.relatedTarget=R,H=null,wo(E)===y&&(O=new O(N,B+"enter",j,l,E),O.target=R,O.relatedTarget=L,H=O),L=H,T&&j)t:{for(O=T,N=j,B=0,R=O;R;R=gs(R))B++;for(R=0,H=N;H;H=gs(H))R++;for(;0<B-R;)O=gs(O),B--;for(;0<R-B;)N=gs(N),R--;for(;B--;){if(O===N||N!==null&&O===N.alternate)break t;O=gs(O),N=gs(N)}O=null}else O=null;T!==null&&$1(D,C,T,O,!1),j!==null&&L!==null&&$1(D,L,j,O,!0)}}e:{if(C=y?xs(y):window,T=C.nodeName&&C.nodeName.toLowerCase(),T==="select"||T==="input"&&C.type==="file")var q=k6;else if(O1(C))if(K2)q=A6;else{q=w6;var Y=b6}else(T=C.nodeName)&&T.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(q=_6);if(q&&(q=q(o,y))){G2(D,q,l,E);break e}Y&&Y(o,C,y),o==="focusout"&&(Y=C._wrapperState)&&Y.controlled&&C.type==="number"&&xg(C,"number",C.value)}switch(Y=y?xs(y):window,o){case"focusin":(O1(Y)||Y.contentEditable==="true")&&(Cs=Y,Lg=y,hl=null);break;case"focusout":hl=Lg=Cs=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,V1(D,l,E);break;case"selectionchange":if(y6)break;case"keydown":case"keyup":V1(D,l,E)}var M;if(Vf)e:{switch(o){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else vs?q2(o,l)&&($="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&($="onCompositionStart");$&&($2&&l.locale!=="ko"&&(vs||$!=="onCompositionStart"?$==="onCompositionEnd"&&vs&&(M=H2()):(vi=E,Rf="value"in vi?vi.value:vi.textContent,vs=!0)),Y=uu(y,$),0<Y.length&&($=new N1($,o,null,l,E),D.push({event:$,listeners:Y}),M?$.data=M:(M=W2(l),M!==null&&($.data=M)))),(M=h6?p6(o,l):m6(o,l))&&(y=uu(y,"onBeforeInput"),0<y.length&&(E=new N1("onBeforeInput","beforeinput",null,l,E),D.push({event:E,listeners:y}),E.data=M))}iD(D,s)})}function Tl(o,s,l){return{instance:o,listener:s,currentTarget:l}}function uu(o,s){for(var l=s+"Capture",u=[];o!==null;){var p=o,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=vl(o,l),g!=null&&u.unshift(Tl(o,g,p)),g=vl(o,s),g!=null&&u.push(Tl(o,g,p))),o=o.return}return u}function gs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function $1(o,s,l,u,p){for(var g=s._reactName,b=[];l!==null&&l!==u;){var _=l,k=_.alternate,y=_.stateNode;if(k!==null&&k===u)break;_.tag===5&&y!==null&&(_=y,p?(k=vl(l,g),k!=null&&b.unshift(Tl(l,k,_))):p||(k=vl(l,g),k!=null&&b.push(Tl(l,k,_)))),l=l.return}b.length!==0&&o.push({event:s,listeners:b})}var S6=/\r\n?/g,T6=/\u0000|\uFFFD/g;function q1(o){return(typeof o=="string"?o:""+o).replace(S6,`
`).replace(T6,"")}function jd(o,s,l){if(s=q1(s),q1(o)!==s&&l)throw Error(X(425))}function hu(){}var zg=null,Fg=null;function Vg(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ug=typeof setTimeout=="function"?setTimeout:void 0,I6=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,M6=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(o){return W1.resolve(null).then(o).catch(N6)}:Ug;function N6(o){setTimeout(function(){throw o})}function Zm(o,s){var l=s,u=0;do{var p=l.nextSibling;if(o.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(u===0){o.removeChild(p),xl(s);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=p}while(l);xl(s)}function Si(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function G1(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return o;s--}else l==="/$"&&s++}o=o.previousSibling}return null}var Js=Math.random().toString(36).slice(2),vr="__reactFiber$"+Js,Il="__reactProps$"+Js,Wr="__reactContainer$"+Js,Hg="__reactEvents$"+Js,B6="__reactListeners$"+Js,j6="__reactHandles$"+Js;function wo(o){var s=o[vr];if(s)return s;for(var l=o.parentNode;l;){if(s=l[Wr]||l[vr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(o=G1(o);o!==null;){if(l=o[vr])return l;o=G1(o)}return s}o=l,l=o.parentNode}return null}function $l(o){return o=o[vr]||o[Wr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function xs(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(X(33))}function zu(o){return o[Il]||null}var $g=[],Es=-1;function Ri(o){return{current:o}}function Xe(o){0>Es||(o.current=$g[Es],$g[Es]=null,Es--)}function Ye(o,s){Es++,$g[Es]=o.current,o.current=s}var Pi={},Rt=Ri(Pi),dn=Ri(!1),yo=Pi;function Vs(o,s){var l=o.type.contextTypes;if(!l)return Pi;var u=o.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=s[g];return u&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=p),p}function un(o){return o=o.childContextTypes,o!=null}function pu(){Xe(dn),Xe(Rt)}function K1(o,s,l){if(Rt.current!==Pi)throw Error(X(168));Ye(Rt,s),Ye(dn,l)}function sD(o,s,l){var u=o.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var p in u)if(!(p in s))throw Error(X(108,bz(o)||"Unknown",p));return rt({},l,u)}function mu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Pi,yo=Rt.current,Ye(Rt,o),Ye(dn,dn.current),!0}function Y1(o,s,l){var u=o.stateNode;if(!u)throw Error(X(169));l?(o=sD(o,s,yo),u.__reactInternalMemoizedMergedChildContext=o,Xe(dn),Xe(Rt),Ye(Rt,o)):Xe(dn),Ye(dn,l)}var Vr=null,Fu=!1,Xm=!1;function aD(o){Vr===null?Vr=[o]:Vr.push(o)}function P6(o){Fu=!0,aD(o)}function zi(){if(!Xm&&Vr!==null){Xm=!0;var o=0,s=Fe;try{var l=Vr;for(Fe=1;o<l.length;o++){var u=l[o];do u=u(!0);while(u!==null)}Vr=null,Fu=!1}catch(p){throw Vr!==null&&(Vr=Vr.slice(o+1)),N2(jf,zi),p}finally{Fe=s,Xm=!1}}return null}var Ds=[],Ss=0,gu=null,fu=0,Pn=[],On=0,xo=null,Ur=1,Hr="";function mo(o,s){Ds[Ss++]=fu,Ds[Ss++]=gu,gu=o,fu=s}function lD(o,s,l){Pn[On++]=Ur,Pn[On++]=Hr,Pn[On++]=xo,xo=o;var u=Ur;o=Hr;var p=32-or(u)-1;u&=~(1<<p),l+=1;var g=32-or(s)+p;if(30<g){var b=p-p%5;g=(u&(1<<b)-1).toString(32),u>>=b,p-=b,Ur=1<<32-or(s)+p|l<<p|u,Hr=g+o}else Ur=1<<g|l<<p|u,Hr=o}function Hf(o){o.return!==null&&(mo(o,1),lD(o,1,0))}function $f(o){for(;o===gu;)gu=Ds[--Ss],Ds[Ss]=null,fu=Ds[--Ss],Ds[Ss]=null;for(;o===xo;)xo=Pn[--On],Pn[On]=null,Hr=Pn[--On],Pn[On]=null,Ur=Pn[--On],Pn[On]=null}var vn=null,An=null,et=!1,rr=null;function cD(o,s){var l=Ln(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=o,s=o.deletions,s===null?(o.deletions=[l],o.flags|=16):s.push(l)}function Q1(o,s){switch(o.tag){case 5:var l=o.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,vn=o,An=Si(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,vn=o,An=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=xo!==null?{id:Ur,overflow:Hr}:null,o.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Ln(18,null,null,0),l.stateNode=s,l.return=o,o.child=l,vn=o,An=null,!0):!1;default:return!1}}function qg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Wg(o){if(et){var s=An;if(s){var l=s;if(!Q1(o,s)){if(qg(o))throw Error(X(418));s=Si(l.nextSibling);var u=vn;s&&Q1(o,s)?cD(u,l):(o.flags=o.flags&-4097|2,et=!1,vn=o)}}else{if(qg(o))throw Error(X(418));o.flags=o.flags&-4097|2,et=!1,vn=o}}}function J1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;vn=o}function Pd(o){if(o!==vn)return!1;if(!et)return J1(o),et=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!Vg(o.type,o.memoizedProps)),s&&(s=An)){if(qg(o))throw dD(),Error(X(418));for(;s;)cD(o,s),s=Si(s.nextSibling)}if(J1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"){if(s===0){An=Si(o.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}o=o.nextSibling}An=null}}else An=vn?Si(o.stateNode.nextSibling):null;return!0}function dD(){for(var o=An;o;)o=Si(o.nextSibling)}function Us(){An=vn=null,et=!1}function qf(o){rr===null?rr=[o]:rr.push(o)}var O6=Yr.ReactCurrentBatchConfig;function Za(o,s,l){if(o=l.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(X(309));var u=l.stateNode}if(!u)throw Error(X(147,o));var p=u,g=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(b){var _=p.refs;b===null?delete _[g]:_[g]=b},s._stringRef=g,s)}if(typeof o!="string")throw Error(X(284));if(!l._owner)throw Error(X(290,o))}return o}function Od(o,s){throw o=Object.prototype.toString.call(s),Error(X(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function Z1(o){var s=o._init;return s(o._payload)}function uD(o){function s(N,B){if(o){var R=N.deletions;R===null?(N.deletions=[B],N.flags|=16):R.push(B)}}function l(N,B){if(!o)return null;for(;B!==null;)s(N,B),B=B.sibling;return null}function u(N,B){for(N=new Map;B!==null;)B.key!==null?N.set(B.key,B):N.set(B.index,B),B=B.sibling;return N}function p(N,B){return N=Ni(N,B),N.index=0,N.sibling=null,N}function g(N,B,R){return N.index=R,o?(R=N.alternate,R!==null?(R=R.index,R<B?(N.flags|=2,B):R):(N.flags|=2,B)):(N.flags|=1048576,B)}function b(N){return o&&N.alternate===null&&(N.flags|=2),N}function _(N,B,R,H){return B===null||B.tag!==6?(B=sg(R,N.mode,H),B.return=N,B):(B=p(B,R),B.return=N,B)}function k(N,B,R,H){var q=R.type;return q===As?E(N,B,R.props.children,H,R.key):B!==null&&(B.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===fi&&Z1(q)===B.type)?(H=p(B,R.props),H.ref=Za(N,B,R),H.return=N,H):(H=nu(R.type,R.key,R.props,null,N.mode,H),H.ref=Za(N,B,R),H.return=N,H)}function y(N,B,R,H){return B===null||B.tag!==4||B.stateNode.containerInfo!==R.containerInfo||B.stateNode.implementation!==R.implementation?(B=ag(R,N.mode,H),B.return=N,B):(B=p(B,R.children||[]),B.return=N,B)}function E(N,B,R,H,q){return B===null||B.tag!==7?(B=Co(R,N.mode,H,q),B.return=N,B):(B=p(B,R),B.return=N,B)}function D(N,B,R){if(typeof B=="string"&&B!==""||typeof B=="number")return B=sg(""+B,N.mode,R),B.return=N,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case xd:return R=nu(B.type,B.key,B.props,null,N.mode,R),R.ref=Za(N,null,B),R.return=N,R;case _s:return B=ag(B,N.mode,R),B.return=N,B;case fi:var H=B._init;return D(N,H(B._payload),R)}if(il(B)||Ga(B))return B=Co(B,N.mode,R,null),B.return=N,B;Od(N,B)}return null}function C(N,B,R,H){var q=B!==null?B.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return q!==null?null:_(N,B,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case xd:return R.key===q?k(N,B,R,H):null;case _s:return R.key===q?y(N,B,R,H):null;case fi:return q=R._init,C(N,B,q(R._payload),H)}if(il(R)||Ga(R))return q!==null?null:E(N,B,R,H,null);Od(N,R)}return null}function T(N,B,R,H,q){if(typeof H=="string"&&H!==""||typeof H=="number")return N=N.get(R)||null,_(B,N,""+H,q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case xd:return N=N.get(H.key===null?R:H.key)||null,k(B,N,H,q);case _s:return N=N.get(H.key===null?R:H.key)||null,y(B,N,H,q);case fi:var Y=H._init;return T(N,B,R,Y(H._payload),q)}if(il(H)||Ga(H))return N=N.get(R)||null,E(B,N,H,q,null);Od(B,H)}return null}function j(N,B,R,H){for(var q=null,Y=null,M=B,$=B=0,re=null;M!==null&&$<R.length;$++){M.index>$?(re=M,M=null):re=M.sibling;var oe=C(N,M,R[$],H);if(oe===null){M===null&&(M=re);break}o&&M&&oe.alternate===null&&s(N,M),B=g(oe,B,$),Y===null?q=oe:Y.sibling=oe,Y=oe,M=re}if($===R.length)return l(N,M),et&&mo(N,$),q;if(M===null){for(;$<R.length;$++)M=D(N,R[$],H),M!==null&&(B=g(M,B,$),Y===null?q=M:Y.sibling=M,Y=M);return et&&mo(N,$),q}for(M=u(N,M);$<R.length;$++)re=T(M,N,$,R[$],H),re!==null&&(o&&re.alternate!==null&&M.delete(re.key===null?$:re.key),B=g(re,B,$),Y===null?q=re:Y.sibling=re,Y=re);return o&&M.forEach(function(be){return s(N,be)}),et&&mo(N,$),q}function O(N,B,R,H){var q=Ga(R);if(typeof q!="function")throw Error(X(150));if(R=q.call(R),R==null)throw Error(X(151));for(var Y=q=null,M=B,$=B=0,re=null,oe=R.next();M!==null&&!oe.done;$++,oe=R.next()){M.index>$?(re=M,M=null):re=M.sibling;var be=C(N,M,oe.value,H);if(be===null){M===null&&(M=re);break}o&&M&&be.alternate===null&&s(N,M),B=g(be,B,$),Y===null?q=be:Y.sibling=be,Y=be,M=re}if(oe.done)return l(N,M),et&&mo(N,$),q;if(M===null){for(;!oe.done;$++,oe=R.next())oe=D(N,oe.value,H),oe!==null&&(B=g(oe,B,$),Y===null?q=oe:Y.sibling=oe,Y=oe);return et&&mo(N,$),q}for(M=u(N,M);!oe.done;$++,oe=R.next())oe=T(M,N,$,oe.value,H),oe!==null&&(o&&oe.alternate!==null&&M.delete(oe.key===null?$:oe.key),B=g(oe,B,$),Y===null?q=oe:Y.sibling=oe,Y=oe);return o&&M.forEach(function(ae){return s(N,ae)}),et&&mo(N,$),q}function L(N,B,R,H){if(typeof R=="object"&&R!==null&&R.type===As&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case xd:e:{for(var q=R.key,Y=B;Y!==null;){if(Y.key===q){if(q=R.type,q===As){if(Y.tag===7){l(N,Y.sibling),B=p(Y,R.props.children),B.return=N,N=B;break e}}else if(Y.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===fi&&Z1(q)===Y.type){l(N,Y.sibling),B=p(Y,R.props),B.ref=Za(N,Y,R),B.return=N,N=B;break e}l(N,Y);break}else s(N,Y);Y=Y.sibling}R.type===As?(B=Co(R.props.children,N.mode,H,R.key),B.return=N,N=B):(H=nu(R.type,R.key,R.props,null,N.mode,H),H.ref=Za(N,B,R),H.return=N,N=H)}return b(N);case _s:e:{for(Y=R.key;B!==null;){if(B.key===Y)if(B.tag===4&&B.stateNode.containerInfo===R.containerInfo&&B.stateNode.implementation===R.implementation){l(N,B.sibling),B=p(B,R.children||[]),B.return=N,N=B;break e}else{l(N,B);break}else s(N,B);B=B.sibling}B=ag(R,N.mode,H),B.return=N,N=B}return b(N);case fi:return Y=R._init,L(N,B,Y(R._payload),H)}if(il(R))return j(N,B,R,H);if(Ga(R))return O(N,B,R,H);Od(N,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,B!==null&&B.tag===6?(l(N,B.sibling),B=p(B,R),B.return=N,N=B):(l(N,B),B=sg(R,N.mode,H),B.return=N,N=B),b(N)):l(N,B)}return L}var Hs=uD(!0),hD=uD(!1),ku=Ri(null),bu=null,Ts=null,Wf=null;function Gf(){Wf=Ts=bu=null}function Kf(o){var s=ku.current;Xe(ku),o._currentValue=s}function Gg(o,s,l){for(;o!==null;){var u=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),o===l)break;o=o.return}}function Os(o,s){bu=o,Wf=Ts=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&s&&(cn=!0),o.firstContext=null)}function zn(o){var s=o._currentValue;if(Wf!==o)if(o={context:o,memoizedValue:s,next:null},Ts===null){if(bu===null)throw Error(X(308));Ts=o,bu.dependencies={lanes:0,firstContext:o}}else Ts=Ts.next=o;return s}var _o=null;function Yf(o){_o===null?_o=[o]:_o.push(o)}function pD(o,s,l,u){var p=s.interleaved;return p===null?(l.next=l,Yf(s)):(l.next=p.next,p.next=l),s.interleaved=l,Gr(o,u)}function Gr(o,s){o.lanes|=s;var l=o.alternate;for(l!==null&&(l.lanes|=s),l=o,o=o.return;o!==null;)o.childLanes|=s,l=o.alternate,l!==null&&(l.childLanes|=s),l=o,o=o.return;return l.tag===3?l.stateNode:null}var ki=!1;function Qf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mD(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function $r(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function Ti(o,s,l){var u=o.updateQueue;if(u===null)return null;if(u=u.shared,je&2){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,Gr(o,l)}return p=u.interleaved,p===null?(s.next=s,Yf(u)):(s.next=p.next,p.next=s),u.interleaved=s,Gr(o,l)}function Qd(o,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var u=s.lanes;u&=o.pendingLanes,l|=u,s.lanes=l,Pf(o,l)}}function X1(o,s){var l=o.updateQueue,u=o.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,effects:u.effects},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=s:o.next=s,l.lastBaseUpdate=s}function wu(o,s,l,u){var p=o.updateQueue;ki=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var k=_,y=k.next;k.next=null,b===null?g=y:b.next=y,b=k;var E=o.alternate;E!==null&&(E=E.updateQueue,_=E.lastBaseUpdate,_!==b&&(_===null?E.firstBaseUpdate=y:_.next=y,E.lastBaseUpdate=k))}if(g!==null){var D=p.baseState;b=0,E=y=k=null,_=g;do{var C=_.lane,T=_.eventTime;if((u&C)===C){E!==null&&(E=E.next={eventTime:T,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var j=o,O=_;switch(C=s,T=l,O.tag){case 1:if(j=O.payload,typeof j=="function"){D=j.call(T,D,C);break e}D=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=O.payload,C=typeof j=="function"?j.call(T,D,C):j,C==null)break e;D=rt({},D,C);break e;case 2:ki=!0}}_.callback!==null&&_.lane!==0&&(o.flags|=64,C=p.effects,C===null?p.effects=[_]:C.push(_))}else T={eventTime:T,lane:C,tag:_.tag,payload:_.payload,callback:_.callback,next:null},E===null?(y=E=T,k=D):E=E.next=T,b|=C;if(_=_.next,_===null){if(_=p.shared.pending,_===null)break;C=_,_=C.next,C.next=null,p.lastBaseUpdate=C,p.shared.pending=null}}while(!0);if(E===null&&(k=D),p.baseState=k,p.firstBaseUpdate=y,p.lastBaseUpdate=E,s=p.shared.interleaved,s!==null){p=s;do b|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);Do|=b,o.lanes=b,o.memoizedState=D}}function eE(o,s,l){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var u=o[s],p=u.callback;if(p!==null){if(u.callback=null,u=l,typeof p!="function")throw Error(X(191,p));p.call(u)}}}var ql={},yr=Ri(ql),Ml=Ri(ql),Nl=Ri(ql);function Ao(o){if(o===ql)throw Error(X(174));return o}function Jf(o,s){switch(Ye(Nl,s),Ye(Ml,o),Ye(yr,ql),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Dg(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=Dg(s,o)}Xe(yr),Ye(yr,s)}function $s(){Xe(yr),Xe(Ml),Xe(Nl)}function gD(o){Ao(Nl.current);var s=Ao(yr.current),l=Dg(s,o.type);s!==l&&(Ye(Ml,o),Ye(yr,l))}function Zf(o){Ml.current===o&&(Xe(yr),Xe(Ml))}var tt=Ri(0);function _u(o){for(var s=o;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var eg=[];function Xf(){for(var o=0;o<eg.length;o++)eg[o]._workInProgressVersionPrimary=null;eg.length=0}var Jd=Yr.ReactCurrentDispatcher,tg=Yr.ReactCurrentBatchConfig,Eo=0,nt=null,kt=null,yt=null,Au=!1,pl=!1,Bl=0,L6=0;function Bt(){throw Error(X(321))}function ek(o,s){if(s===null)return!1;for(var l=0;l<s.length&&l<o.length;l++)if(!ar(o[l],s[l]))return!1;return!0}function tk(o,s,l,u,p,g){if(Eo=g,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Jd.current=o===null||o.memoizedState===null?V6:U6,o=l(u,p),pl){g=0;do{if(pl=!1,Bl=0,25<=g)throw Error(X(301));g+=1,yt=kt=null,s.updateQueue=null,Jd.current=H6,o=l(u,p)}while(pl)}if(Jd.current=vu,s=kt!==null&&kt.next!==null,Eo=0,yt=kt=nt=null,Au=!1,s)throw Error(X(300));return o}function nk(){var o=Bl!==0;return Bl=0,o}function Ar(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?nt.memoizedState=yt=o:yt=yt.next=o,yt}function Fn(){if(kt===null){var o=nt.alternate;o=o!==null?o.memoizedState:null}else o=kt.next;var s=yt===null?nt.memoizedState:yt.next;if(s!==null)yt=s,kt=o;else{if(o===null)throw Error(X(310));kt=o,o={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},yt===null?nt.memoizedState=yt=o:yt=yt.next=o}return yt}function jl(o,s){return typeof s=="function"?s(o):s}function ng(o){var s=Fn(),l=s.queue;if(l===null)throw Error(X(311));l.lastRenderedReducer=o;var u=kt,p=u.baseQueue,g=l.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}u.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,u=u.baseState;var _=b=null,k=null,y=g;do{var E=y.lane;if((Eo&E)===E)k!==null&&(k=k.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),u=y.hasEagerState?y.eagerState:o(u,y.action);else{var D={lane:E,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};k===null?(_=k=D,b=u):k=k.next=D,nt.lanes|=E,Do|=E}y=y.next}while(y!==null&&y!==g);k===null?b=u:k.next=_,ar(u,s.memoizedState)||(cn=!0),s.memoizedState=u,s.baseState=b,s.baseQueue=k,l.lastRenderedState=u}if(o=l.interleaved,o!==null){p=o;do g=p.lane,nt.lanes|=g,Do|=g,p=p.next;while(p!==o)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function rg(o){var s=Fn(),l=s.queue;if(l===null)throw Error(X(311));l.lastRenderedReducer=o;var u=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do g=o(g,b.action),b=b.next;while(b!==p);ar(g,s.memoizedState)||(cn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function fD(){}function kD(o,s){var l=nt,u=Fn(),p=s(),g=!ar(u.memoizedState,p);if(g&&(u.memoizedState=p,cn=!0),u=u.queue,rk(_D.bind(null,l,u,o),[o]),u.getSnapshot!==s||g||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Pl(9,wD.bind(null,l,u,p,s),void 0,null),xt===null)throw Error(X(349));Eo&30||bD(l,s,p)}return p}function bD(o,s,l){o.flags|=16384,o={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[o]):(l=s.stores,l===null?s.stores=[o]:l.push(o))}function wD(o,s,l,u){s.value=l,s.getSnapshot=u,AD(s)&&vD(o)}function _D(o,s,l){return l(function(){AD(s)&&vD(o)})}function AD(o){var s=o.getSnapshot;o=o.value;try{var l=s();return!ar(o,l)}catch{return!0}}function vD(o){var s=Gr(o,1);s!==null&&sr(s,o,1,-1)}function tE(o){var s=Ar();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:o},s.queue=o,o=o.dispatch=F6.bind(null,nt,o),[s.memoizedState,o]}function Pl(o,s,l,u){return o={tag:o,create:s,destroy:l,deps:u,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=o.next=o):(l=s.lastEffect,l===null?s.lastEffect=o.next=o:(u=l.next,l.next=o,o.next=u,s.lastEffect=o)),o}function CD(){return Fn().memoizedState}function Zd(o,s,l,u){var p=Ar();nt.flags|=o,p.memoizedState=Pl(1|s,l,void 0,u===void 0?null:u)}function Vu(o,s,l,u){var p=Fn();u=u===void 0?null:u;var g=void 0;if(kt!==null){var b=kt.memoizedState;if(g=b.destroy,u!==null&&ek(u,b.deps)){p.memoizedState=Pl(s,l,g,u);return}}nt.flags|=o,p.memoizedState=Pl(1|s,l,g,u)}function nE(o,s){return Zd(8390656,8,o,s)}function rk(o,s){return Vu(2048,8,o,s)}function yD(o,s){return Vu(4,2,o,s)}function xD(o,s){return Vu(4,4,o,s)}function ED(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function DD(o,s,l){return l=l!=null?l.concat([o]):null,Vu(4,4,ED.bind(null,s,o),l)}function ik(){}function SD(o,s){var l=Fn();s=s===void 0?null:s;var u=l.memoizedState;return u!==null&&s!==null&&ek(s,u[1])?u[0]:(l.memoizedState=[o,s],o)}function TD(o,s){var l=Fn();s=s===void 0?null:s;var u=l.memoizedState;return u!==null&&s!==null&&ek(s,u[1])?u[0]:(o=o(),l.memoizedState=[o,s],o)}function ID(o,s,l){return Eo&21?(ar(l,s)||(l=P2(),nt.lanes|=l,Do|=l,o.baseState=!0),s):(o.baseState&&(o.baseState=!1,cn=!0),o.memoizedState=l)}function R6(o,s){var l=Fe;Fe=l!==0&&4>l?l:4,o(!0);var u=tg.transition;tg.transition={};try{o(!1),s()}finally{Fe=l,tg.transition=u}}function MD(){return Fn().memoizedState}function z6(o,s,l){var u=Mi(o);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},ND(o))BD(s,l);else if(l=pD(o,s,l,u),l!==null){var p=$t();sr(l,o,u,p),jD(l,s,u)}}function F6(o,s,l){var u=Mi(o),p={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(ND(o))BD(s,p);else{var g=o.alternate;if(o.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,_=g(b,l);if(p.hasEagerState=!0,p.eagerState=_,ar(_,b)){var k=s.interleaved;k===null?(p.next=p,Yf(s)):(p.next=k.next,k.next=p),s.interleaved=p;return}}catch{}finally{}l=pD(o,s,p,u),l!==null&&(p=$t(),sr(l,o,u,p),jD(l,s,u))}}function ND(o){var s=o.alternate;return o===nt||s!==null&&s===nt}function BD(o,s){pl=Au=!0;var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}function jD(o,s,l){if(l&4194240){var u=s.lanes;u&=o.pendingLanes,l|=u,s.lanes=l,Pf(o,l)}}var vu={readContext:zn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},V6={readContext:zn,useCallback:function(o,s){return Ar().memoizedState=[o,s===void 0?null:s],o},useContext:zn,useEffect:nE,useImperativeHandle:function(o,s,l){return l=l!=null?l.concat([o]):null,Zd(4194308,4,ED.bind(null,s,o),l)},useLayoutEffect:function(o,s){return Zd(4194308,4,o,s)},useInsertionEffect:function(o,s){return Zd(4,2,o,s)},useMemo:function(o,s){var l=Ar();return s=s===void 0?null:s,o=o(),l.memoizedState=[o,s],o},useReducer:function(o,s,l){var u=Ar();return s=l!==void 0?l(s):s,u.memoizedState=u.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},u.queue=o,o=o.dispatch=z6.bind(null,nt,o),[u.memoizedState,o]},useRef:function(o){var s=Ar();return o={current:o},s.memoizedState=o},useState:tE,useDebugValue:ik,useDeferredValue:function(o){return Ar().memoizedState=o},useTransition:function(){var o=tE(!1),s=o[0];return o=R6.bind(null,o[1]),Ar().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,l){var u=nt,p=Ar();if(et){if(l===void 0)throw Error(X(407));l=l()}else{if(l=s(),xt===null)throw Error(X(349));Eo&30||bD(u,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,nE(_D.bind(null,u,g,o),[o]),u.flags|=2048,Pl(9,wD.bind(null,u,g,l,s),void 0,null),l},useId:function(){var o=Ar(),s=xt.identifierPrefix;if(et){var l=Hr,u=Ur;l=(u&~(1<<32-or(u)-1)).toString(32)+l,s=":"+s+"R"+l,l=Bl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=L6++,s=":"+s+"r"+l.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},U6={readContext:zn,useCallback:SD,useContext:zn,useEffect:rk,useImperativeHandle:DD,useInsertionEffect:yD,useLayoutEffect:xD,useMemo:TD,useReducer:ng,useRef:CD,useState:function(){return ng(jl)},useDebugValue:ik,useDeferredValue:function(o){var s=Fn();return ID(s,kt.memoizedState,o)},useTransition:function(){var o=ng(jl)[0],s=Fn().memoizedState;return[o,s]},useMutableSource:fD,useSyncExternalStore:kD,useId:MD,unstable_isNewReconciler:!1},H6={readContext:zn,useCallback:SD,useContext:zn,useEffect:rk,useImperativeHandle:DD,useInsertionEffect:yD,useLayoutEffect:xD,useMemo:TD,useReducer:rg,useRef:CD,useState:function(){return rg(jl)},useDebugValue:ik,useDeferredValue:function(o){var s=Fn();return kt===null?s.memoizedState=o:ID(s,kt.memoizedState,o)},useTransition:function(){var o=rg(jl)[0],s=Fn().memoizedState;return[o,s]},useMutableSource:fD,useSyncExternalStore:kD,useId:MD,unstable_isNewReconciler:!1};function er(o,s){if(o&&o.defaultProps){s=rt({},s),o=o.defaultProps;for(var l in o)s[l]===void 0&&(s[l]=o[l]);return s}return s}function Kg(o,s,l,u){s=o.memoizedState,l=l(u,s),l=l==null?s:rt({},s,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Uu={isMounted:function(o){return(o=o._reactInternals)?Io(o)===o:!1},enqueueSetState:function(o,s,l){o=o._reactInternals;var u=$t(),p=Mi(o),g=$r(u,p);g.payload=s,l!=null&&(g.callback=l),s=Ti(o,g,p),s!==null&&(sr(s,o,p,u),Qd(s,o,p))},enqueueReplaceState:function(o,s,l){o=o._reactInternals;var u=$t(),p=Mi(o),g=$r(u,p);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Ti(o,g,p),s!==null&&(sr(s,o,p,u),Qd(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var l=$t(),u=Mi(o),p=$r(l,u);p.tag=2,s!=null&&(p.callback=s),s=Ti(o,p,u),s!==null&&(sr(s,o,u,l),Qd(s,o,u))}};function rE(o,s,l,u,p,g,b){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Dl(l,u)||!Dl(p,g):!0}function PD(o,s,l){var u=!1,p=Pi,g=s.contextType;return typeof g=="object"&&g!==null?g=zn(g):(p=un(s)?yo:Rt.current,u=s.contextTypes,g=(u=u!=null)?Vs(o,p):Pi),s=new s(l,g),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Uu,o.stateNode=s,s._reactInternals=o,u&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=p,o.__reactInternalMemoizedMaskedChildContext=g),s}function iE(o,s,l,u){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==o&&Uu.enqueueReplaceState(s,s.state,null)}function Yg(o,s,l,u){var p=o.stateNode;p.props=l,p.state=o.memoizedState,p.refs={},Qf(o);var g=s.contextType;typeof g=="object"&&g!==null?p.context=zn(g):(g=un(s)?yo:Rt.current,p.context=Vs(o,g)),p.state=o.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Kg(o,s,g,l),p.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Uu.enqueueReplaceState(p,p.state,null),wu(o,l,p,u),p.state=o.memoizedState),typeof p.componentDidMount=="function"&&(o.flags|=4194308)}function qs(o,s){try{var l="",u=s;do l+=kz(u),u=u.return;while(u);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:o,source:s,stack:p,digest:null}}function ig(o,s,l){return{value:o,source:null,stack:l??null,digest:s??null}}function Qg(o,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var $6=typeof WeakMap=="function"?WeakMap:Map;function OD(o,s,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var u=s.value;return l.callback=function(){yu||(yu=!0,af=u),Qg(o,s)},l}function LD(o,s,l){l=$r(-1,l),l.tag=3;var u=o.type.getDerivedStateFromError;if(typeof u=="function"){var p=s.value;l.payload=function(){return u(p)},l.callback=function(){Qg(o,s)}}var g=o.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Qg(o,s),typeof u!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),l}function oE(o,s,l){var u=o.pingCache;if(u===null){u=o.pingCache=new $6;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(p.add(l),o=iF.bind(null,o,s,l),s.then(o,o))}function sE(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function aE(o,s,l,u,p){return o.mode&1?(o.flags|=65536,o.lanes=p,o):(o===s?o.flags|=65536:(o.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=$r(-1,1),s.tag=2,Ti(l,s,1))),l.lanes|=1),o)}var q6=Yr.ReactCurrentOwner,cn=!1;function Ht(o,s,l,u){s.child=o===null?hD(s,null,l,u):Hs(s,o.child,l,u)}function lE(o,s,l,u,p){l=l.render;var g=s.ref;return Os(s,p),u=tk(o,s,l,u,g,p),l=nk(),o!==null&&!cn?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~p,Kr(o,s,p)):(et&&l&&Hf(s),s.flags|=1,Ht(o,s,u,p),s.child)}function cE(o,s,l,u,p){if(o===null){var g=l.type;return typeof g=="function"&&!hk(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,RD(o,s,g,u,p)):(o=nu(l.type,null,u,s,s.mode,p),o.ref=s.ref,o.return=s,s.child=o)}if(g=o.child,!(o.lanes&p)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:Dl,l(b,u)&&o.ref===s.ref)return Kr(o,s,p)}return s.flags|=1,o=Ni(g,u),o.ref=s.ref,o.return=s,s.child=o}function RD(o,s,l,u,p){if(o!==null){var g=o.memoizedProps;if(Dl(g,u)&&o.ref===s.ref)if(cn=!1,s.pendingProps=u=g,(o.lanes&p)!==0)o.flags&131072&&(cn=!0);else return s.lanes=o.lanes,Kr(o,s,p)}return Jg(o,s,l,u,p)}function zD(o,s,l){var u=s.pendingProps,p=u.children,g=o!==null?o.memoizedState:null;if(u.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ms,_n),_n|=l;else{if(!(l&1073741824))return o=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,Ye(Ms,_n),_n|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:l,Ye(Ms,_n),_n|=u}else g!==null?(u=g.baseLanes|l,s.memoizedState=null):u=l,Ye(Ms,_n),_n|=u;return Ht(o,s,p,l),s.child}function FD(o,s){var l=s.ref;(o===null&&l!==null||o!==null&&o.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Jg(o,s,l,u,p){var g=un(l)?yo:Rt.current;return g=Vs(s,g),Os(s,p),l=tk(o,s,l,u,g,p),u=nk(),o!==null&&!cn?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~p,Kr(o,s,p)):(et&&u&&Hf(s),s.flags|=1,Ht(o,s,l,p),s.child)}function dE(o,s,l,u,p){if(un(l)){var g=!0;mu(s)}else g=!1;if(Os(s,p),s.stateNode===null)Xd(o,s),PD(s,l,u),Yg(s,l,u,p),u=!0;else if(o===null){var b=s.stateNode,_=s.memoizedProps;b.props=_;var k=b.context,y=l.contextType;typeof y=="object"&&y!==null?y=zn(y):(y=un(l)?yo:Rt.current,y=Vs(s,y));var E=l.getDerivedStateFromProps,D=typeof E=="function"||typeof b.getSnapshotBeforeUpdate=="function";D||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==u||k!==y)&&iE(s,b,u,y),ki=!1;var C=s.memoizedState;b.state=C,wu(s,u,b,p),k=s.memoizedState,_!==u||C!==k||dn.current||ki?(typeof E=="function"&&(Kg(s,l,E,u),k=s.memoizedState),(_=ki||rE(s,l,_,u,C,k,y))?(D||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=k),b.props=u,b.state=k,b.context=y,u=_):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{b=s.stateNode,mD(o,s),_=s.memoizedProps,y=s.type===s.elementType?_:er(s.type,_),b.props=y,D=s.pendingProps,C=b.context,k=l.contextType,typeof k=="object"&&k!==null?k=zn(k):(k=un(l)?yo:Rt.current,k=Vs(s,k));var T=l.getDerivedStateFromProps;(E=typeof T=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==D||C!==k)&&iE(s,b,u,k),ki=!1,C=s.memoizedState,b.state=C,wu(s,u,b,p);var j=s.memoizedState;_!==D||C!==j||dn.current||ki?(typeof T=="function"&&(Kg(s,l,T,u),j=s.memoizedState),(y=ki||rE(s,l,y,u,C,j,k)||!1)?(E||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,j,k),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,j,k)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&C===o.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&C===o.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=j),b.props=u,b.state=j,b.context=k,u=y):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&C===o.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&C===o.memoizedState||(s.flags|=1024),u=!1)}return Zg(o,s,l,u,g,p)}function Zg(o,s,l,u,p,g){FD(o,s);var b=(s.flags&128)!==0;if(!u&&!b)return p&&Y1(s,l,!1),Kr(o,s,g);u=s.stateNode,q6.current=s;var _=b&&typeof l.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,o!==null&&b?(s.child=Hs(s,o.child,null,g),s.child=Hs(s,null,_,g)):Ht(o,s,_,g),s.memoizedState=u.state,p&&Y1(s,l,!0),s.child}function VD(o){var s=o.stateNode;s.pendingContext?K1(o,s.pendingContext,s.pendingContext!==s.context):s.context&&K1(o,s.context,!1),Jf(o,s.containerInfo)}function uE(o,s,l,u,p){return Us(),qf(p),s.flags|=256,Ht(o,s,l,u),s.child}var Xg={dehydrated:null,treeContext:null,retryLane:0};function ef(o){return{baseLanes:o,cachePool:null,transitions:null}}function UD(o,s,l){var u=s.pendingProps,p=tt.current,g=!1,b=(s.flags&128)!==0,_;if((_=b)||(_=o!==null&&o.memoizedState===null?!1:(p&2)!==0),_?(g=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(p|=1),Ye(tt,p&1),o===null)return Wg(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(s.mode&1?o.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(b=u.children,o=u.fallback,g?(u=s.mode,g=s.child,b={mode:"hidden",children:b},!(u&1)&&g!==null?(g.childLanes=0,g.pendingProps=b):g=qu(b,u,0,null),o=Co(o,u,l,null),g.return=s,o.return=s,g.sibling=o,s.child=g,s.child.memoizedState=ef(l),s.memoizedState=Xg,o):ok(s,b));if(p=o.memoizedState,p!==null&&(_=p.dehydrated,_!==null))return W6(o,s,b,u,_,p,l);if(g){g=u.fallback,b=s.mode,p=o.child,_=p.sibling;var k={mode:"hidden",children:u.children};return!(b&1)&&s.child!==p?(u=s.child,u.childLanes=0,u.pendingProps=k,s.deletions=null):(u=Ni(p,k),u.subtreeFlags=p.subtreeFlags&14680064),_!==null?g=Ni(_,g):(g=Co(g,b,l,null),g.flags|=2),g.return=s,u.return=s,u.sibling=g,s.child=u,u=g,g=s.child,b=o.child.memoizedState,b=b===null?ef(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=o.childLanes&~l,s.memoizedState=Xg,u}return g=o.child,o=g.sibling,u=Ni(g,{mode:"visible",children:u.children}),!(s.mode&1)&&(u.lanes=l),u.return=s,u.sibling=null,o!==null&&(l=s.deletions,l===null?(s.deletions=[o],s.flags|=16):l.push(o)),s.child=u,s.memoizedState=null,u}function ok(o,s){return s=qu({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function Ld(o,s,l,u){return u!==null&&qf(u),Hs(s,o.child,null,l),o=ok(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function W6(o,s,l,u,p,g,b){if(l)return s.flags&256?(s.flags&=-257,u=ig(Error(X(422))),Ld(o,s,b,u)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(g=u.fallback,p=s.mode,u=qu({mode:"visible",children:u.children},p,0,null),g=Co(g,p,b,null),g.flags|=2,u.return=s,g.return=s,u.sibling=g,s.child=u,s.mode&1&&Hs(s,o.child,null,b),s.child.memoizedState=ef(b),s.memoizedState=Xg,g);if(!(s.mode&1))return Ld(o,s,b,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var _=u.dgst;return u=_,g=Error(X(419)),u=ig(g,u,void 0),Ld(o,s,b,u)}if(_=(b&o.childLanes)!==0,cn||_){if(u=xt,u!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(u.suspendedLanes|b)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Gr(o,p),sr(u,o,p,-1))}return uk(),u=ig(Error(X(421))),Ld(o,s,b,u)}return p.data==="$?"?(s.flags|=128,s.child=o.child,s=oF.bind(null,o),p._reactRetry=s,null):(o=g.treeContext,An=Si(p.nextSibling),vn=s,et=!0,rr=null,o!==null&&(Pn[On++]=Ur,Pn[On++]=Hr,Pn[On++]=xo,Ur=o.id,Hr=o.overflow,xo=s),s=ok(s,u.children),s.flags|=4096,s)}function hE(o,s,l){o.lanes|=s;var u=o.alternate;u!==null&&(u.lanes|=s),Gg(o.return,s,l)}function og(o,s,l,u,p){var g=o.memoizedState;g===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=p)}function HD(o,s,l){var u=s.pendingProps,p=u.revealOrder,g=u.tail;if(Ht(o,s,u.children,l),u=tt.current,u&2)u=u&1|2,s.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hE(o,l,s);else if(o.tag===19)hE(o,l,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}u&=1}if(Ye(tt,u),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)o=l.alternate,o!==null&&_u(o)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),og(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(o=p.alternate,o!==null&&_u(o)===null){s.child=p;break}o=p.sibling,p.sibling=l,l=p,p=o}og(s,!0,l,null,g);break;case"together":og(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xd(o,s){!(s.mode&1)&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function Kr(o,s,l){if(o!==null&&(s.dependencies=o.dependencies),Do|=s.lanes,!(l&s.childLanes))return null;if(o!==null&&s.child!==o.child)throw Error(X(153));if(s.child!==null){for(o=s.child,l=Ni(o,o.pendingProps),s.child=l,l.return=s;o.sibling!==null;)o=o.sibling,l=l.sibling=Ni(o,o.pendingProps),l.return=s;l.sibling=null}return s.child}function G6(o,s,l){switch(s.tag){case 3:VD(s),Us();break;case 5:gD(s);break;case 1:un(s.type)&&mu(s);break;case 4:Jf(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,p=s.memoizedProps.value;Ye(ku,u._currentValue),u._currentValue=p;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(Ye(tt,tt.current&1),s.flags|=128,null):l&s.child.childLanes?UD(o,s,l):(Ye(tt,tt.current&1),o=Kr(o,s,l),o!==null?o.sibling:null);Ye(tt,tt.current&1);break;case 19:if(u=(l&s.childLanes)!==0,o.flags&128){if(u)return HD(o,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(tt,tt.current),u)break;return null;case 22:case 23:return s.lanes=0,zD(o,s,l)}return Kr(o,s,l)}var $D,tf,qD,WD;$D=function(o,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)o.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}};tf=function(){};qD=function(o,s,l,u){var p=o.memoizedProps;if(p!==u){o=s.stateNode,Ao(yr.current);var g=null;switch(l){case"input":p=Cg(o,p),u=Cg(o,u),g=[];break;case"select":p=rt({},p,{value:void 0}),u=rt({},u,{value:void 0}),g=[];break;case"textarea":p=Eg(o,p),u=Eg(o,u),g=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(o.onclick=hu)}Sg(l,u);var b;l=null;for(y in p)if(!u.hasOwnProperty(y)&&p.hasOwnProperty(y)&&p[y]!=null)if(y==="style"){var _=p[y];for(b in _)_.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(_l.hasOwnProperty(y)?g||(g=[]):(g=g||[]).push(y,null));for(y in u){var k=u[y];if(_=p!=null?p[y]:void 0,u.hasOwnProperty(y)&&k!==_&&(k!=null||_!=null))if(y==="style")if(_){for(b in _)!_.hasOwnProperty(b)||k&&k.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in k)k.hasOwnProperty(b)&&_[b]!==k[b]&&(l||(l={}),l[b]=k[b])}else l||(g||(g=[]),g.push(y,l)),l=k;else y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,_=_?_.__html:void 0,k!=null&&_!==k&&(g=g||[]).push(y,k)):y==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(y,""+k):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(_l.hasOwnProperty(y)?(k!=null&&y==="onScroll"&&Ze("scroll",o),g||_===k||(g=[])):(g=g||[]).push(y,k))}l&&(g=g||[]).push("style",l);var y=g;(s.updateQueue=y)&&(s.flags|=4)}};WD=function(o,s,l,u){l!==u&&(s.flags|=4)};function Xa(o,s){if(!et)switch(o.tailMode){case"hidden":s=o.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:u.sibling=null}}function jt(o){var s=o.alternate!==null&&o.alternate.child===o.child,l=0,u=0;if(s)for(var p=o.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=o,p=p.sibling;else for(p=o.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=o,p=p.sibling;return o.subtreeFlags|=u,o.childLanes=l,s}function K6(o,s,l){var u=s.pendingProps;switch($f(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return un(s.type)&&pu(),jt(s),null;case 3:return u=s.stateNode,$s(),Xe(dn),Xe(Rt),Xf(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(Pd(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,rr!==null&&(df(rr),rr=null))),tf(o,s),jt(s),null;case 5:Zf(s);var p=Ao(Nl.current);if(l=s.type,o!==null&&s.stateNode!=null)qD(o,s,l,u,p),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(X(166));return jt(s),null}if(o=Ao(yr.current),Pd(s)){u=s.stateNode,l=s.type;var g=s.memoizedProps;switch(u[vr]=s,u[Il]=g,o=(s.mode&1)!==0,l){case"dialog":Ze("cancel",u),Ze("close",u);break;case"iframe":case"object":case"embed":Ze("load",u);break;case"video":case"audio":for(p=0;p<sl.length;p++)Ze(sl[p],u);break;case"source":Ze("error",u);break;case"img":case"image":case"link":Ze("error",u),Ze("load",u);break;case"details":Ze("toggle",u);break;case"input":A1(u,g),Ze("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},Ze("invalid",u);break;case"textarea":C1(u,g),Ze("invalid",u)}Sg(l,g),p=null;for(var b in g)if(g.hasOwnProperty(b)){var _=g[b];b==="children"?typeof _=="string"?u.textContent!==_&&(g.suppressHydrationWarning!==!0&&jd(u.textContent,_,o),p=["children",_]):typeof _=="number"&&u.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&jd(u.textContent,_,o),p=["children",""+_]):_l.hasOwnProperty(b)&&_!=null&&b==="onScroll"&&Ze("scroll",u)}switch(l){case"input":Ed(u),v1(u,g,!0);break;case"textarea":Ed(u),y1(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=hu)}u=p,s.updateQueue=u,u!==null&&(s.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=_2(l)),o==="http://www.w3.org/1999/xhtml"?l==="script"?(o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof u.is=="string"?o=b.createElement(l,{is:u.is}):(o=b.createElement(l),l==="select"&&(b=o,u.multiple?b.multiple=!0:u.size&&(b.size=u.size))):o=b.createElementNS(o,l),o[vr]=s,o[Il]=u,$D(o,s,!1,!1),s.stateNode=o;e:{switch(b=Tg(l,u),l){case"dialog":Ze("cancel",o),Ze("close",o),p=u;break;case"iframe":case"object":case"embed":Ze("load",o),p=u;break;case"video":case"audio":for(p=0;p<sl.length;p++)Ze(sl[p],o);p=u;break;case"source":Ze("error",o),p=u;break;case"img":case"image":case"link":Ze("error",o),Ze("load",o),p=u;break;case"details":Ze("toggle",o),p=u;break;case"input":A1(o,u),p=Cg(o,u),Ze("invalid",o);break;case"option":p=u;break;case"select":o._wrapperState={wasMultiple:!!u.multiple},p=rt({},u,{value:void 0}),Ze("invalid",o);break;case"textarea":C1(o,u),p=Eg(o,u),Ze("invalid",o);break;default:p=u}Sg(l,p),_=p;for(g in _)if(_.hasOwnProperty(g)){var k=_[g];g==="style"?C2(o,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&A2(o,k)):g==="children"?typeof k=="string"?(l!=="textarea"||k!=="")&&Al(o,k):typeof k=="number"&&Al(o,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(_l.hasOwnProperty(g)?k!=null&&g==="onScroll"&&Ze("scroll",o):k!=null&&Tf(o,g,k,b))}switch(l){case"input":Ed(o),v1(o,u,!1);break;case"textarea":Ed(o),y1(o);break;case"option":u.value!=null&&o.setAttribute("value",""+ji(u.value));break;case"select":o.multiple=!!u.multiple,g=u.value,g!=null?Ns(o,!!u.multiple,g,!1):u.defaultValue!=null&&Ns(o,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(o.onclick=hu)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return jt(s),null;case 6:if(o&&s.stateNode!=null)WD(o,s,o.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(X(166));if(l=Ao(Nl.current),Ao(yr.current),Pd(s)){if(u=s.stateNode,l=s.memoizedProps,u[vr]=s,(g=u.nodeValue!==l)&&(o=vn,o!==null))switch(o.tag){case 3:jd(u.nodeValue,l,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&jd(u.nodeValue,l,(o.mode&1)!==0)}g&&(s.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[vr]=s,s.stateNode=u}return jt(s),null;case 13:if(Xe(tt),u=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(et&&An!==null&&s.mode&1&&!(s.flags&128))dD(),Us(),s.flags|=98560,g=!1;else if(g=Pd(s),u!==null&&u.dehydrated!==null){if(o===null){if(!g)throw Error(X(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(X(317));g[vr]=s}else Us(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;jt(s),g=!1}else rr!==null&&(df(rr),rr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(u=u!==null,u!==(o!==null&&o.memoizedState!==null)&&u&&(s.child.flags|=8192,s.mode&1&&(o===null||tt.current&1?bt===0&&(bt=3):uk())),s.updateQueue!==null&&(s.flags|=4),jt(s),null);case 4:return $s(),tf(o,s),o===null&&Sl(s.stateNode.containerInfo),jt(s),null;case 10:return Kf(s.type._context),jt(s),null;case 17:return un(s.type)&&pu(),jt(s),null;case 19:if(Xe(tt),g=s.memoizedState,g===null)return jt(s),null;if(u=(s.flags&128)!==0,b=g.rendering,b===null)if(u)Xa(g,!1);else{if(bt!==0||o!==null&&o.flags&128)for(o=s.child;o!==null;){if(b=_u(o),b!==null){for(s.flags|=128,Xa(g,!1),u=b.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=l,l=s.child;l!==null;)g=l,o=u,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=o,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,o=b.dependencies,g.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),l=l.sibling;return Ye(tt,tt.current&1|2),s.child}o=o.sibling}g.tail!==null&&ut()>Ws&&(s.flags|=128,u=!0,Xa(g,!1),s.lanes=4194304)}else{if(!u)if(o=_u(b),o!==null){if(s.flags|=128,u=!0,l=o.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Xa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!et)return jt(s),null}else 2*ut()-g.renderingStartTime>Ws&&l!==1073741824&&(s.flags|=128,u=!0,Xa(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(l=g.last,l!==null?l.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ut(),s.sibling=null,l=tt.current,Ye(tt,u?l&1|2:l&1),s):(jt(s),null);case 22:case 23:return dk(),u=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==u&&(s.flags|=8192),u&&s.mode&1?_n&1073741824&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),null;case 24:return null;case 25:return null}throw Error(X(156,s.tag))}function Y6(o,s){switch($f(s),s.tag){case 1:return un(s.type)&&pu(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return $s(),Xe(dn),Xe(Rt),Xf(),o=s.flags,o&65536&&!(o&128)?(s.flags=o&-65537|128,s):null;case 5:return Zf(s),null;case 13:if(Xe(tt),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(X(340));Us()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return Xe(tt),null;case 4:return $s(),null;case 10:return Kf(s.type._context),null;case 22:case 23:return dk(),null;case 24:return null;default:return null}}var Rd=!1,Ot=!1,Q6=typeof WeakSet=="function"?WeakSet:Set,le=null;function Is(o,s){var l=o.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){st(o,s,u)}else l.current=null}function nf(o,s,l){try{l()}catch(u){st(o,s,u)}}var pE=!1;function J6(o,s){if(zg=cu,o=J2(),Uf(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,_=-1,k=-1,y=0,E=0,D=o,C=null;t:for(;;){for(var T;D!==l||p!==0&&D.nodeType!==3||(_=b+p),D!==g||u!==0&&D.nodeType!==3||(k=b+u),D.nodeType===3&&(b+=D.nodeValue.length),(T=D.firstChild)!==null;)C=D,D=T;for(;;){if(D===o)break t;if(C===l&&++y===p&&(_=b),C===g&&++E===u&&(k=b),(T=D.nextSibling)!==null)break;D=C,C=D.parentNode}D=T}l=_===-1||k===-1?null:{start:_,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fg={focusedElem:o,selectionRange:l},cu=!1,le=s;le!==null;)if(s=le,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,le=o;else for(;le!==null;){s=le;try{var j=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var O=j.memoizedProps,L=j.memoizedState,N=s.stateNode,B=N.getSnapshotBeforeUpdate(s.elementType===s.type?O:er(s.type,O),L);N.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var R=s.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(H){st(s,s.return,H)}if(o=s.sibling,o!==null){o.return=s.return,le=o;break}le=s.return}return j=pE,pE=!1,j}function ml(o,s,l){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&o)===o){var g=p.destroy;p.destroy=void 0,g!==void 0&&nf(s,l,g)}p=p.next}while(p!==u)}}function Hu(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&o)===o){var u=l.create;l.destroy=u()}l=l.next}while(l!==s)}}function rf(o){var s=o.ref;if(s!==null){var l=o.stateNode;switch(o.tag){case 5:o=l;break;default:o=l}typeof s=="function"?s(o):s.current=o}}function GD(o){var s=o.alternate;s!==null&&(o.alternate=null,GD(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[vr],delete s[Il],delete s[Hg],delete s[B6],delete s[j6])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function KD(o){return o.tag===5||o.tag===3||o.tag===4}function mE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||KD(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function of(o,s,l){var u=o.tag;if(u===5||u===6)o=o.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(o,s):l.insertBefore(o,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(o,l)):(s=l,s.appendChild(o)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=hu));else if(u!==4&&(o=o.child,o!==null))for(of(o,s,l),o=o.sibling;o!==null;)of(o,s,l),o=o.sibling}function sf(o,s,l){var u=o.tag;if(u===5||u===6)o=o.stateNode,s?l.insertBefore(o,s):l.appendChild(o);else if(u!==4&&(o=o.child,o!==null))for(sf(o,s,l),o=o.sibling;o!==null;)sf(o,s,l),o=o.sibling}var St=null,tr=!1;function pi(o,s,l){for(l=l.child;l!==null;)YD(o,s,l),l=l.sibling}function YD(o,s,l){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Pu,l)}catch{}switch(l.tag){case 5:Ot||Is(l,s);case 6:var u=St,p=tr;St=null,pi(o,s,l),St=u,tr=p,St!==null&&(tr?(o=St,l=l.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):St.removeChild(l.stateNode));break;case 18:St!==null&&(tr?(o=St,l=l.stateNode,o.nodeType===8?Zm(o.parentNode,l):o.nodeType===1&&Zm(o,l),xl(o)):Zm(St,l.stateNode));break;case 4:u=St,p=tr,St=l.stateNode.containerInfo,tr=!0,pi(o,s,l),St=u,tr=p;break;case 0:case 11:case 14:case 15:if(!Ot&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var g=p,b=g.destroy;g=g.tag,b!==void 0&&(g&2||g&4)&&nf(l,s,b),p=p.next}while(p!==u)}pi(o,s,l);break;case 1:if(!Ot&&(Is(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(_){st(l,s,_)}pi(o,s,l);break;case 21:pi(o,s,l);break;case 22:l.mode&1?(Ot=(u=Ot)||l.memoizedState!==null,pi(o,s,l),Ot=u):pi(o,s,l);break;default:pi(o,s,l)}}function gE(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var l=o.stateNode;l===null&&(l=o.stateNode=new Q6),s.forEach(function(u){var p=sF.bind(null,o,u);l.has(u)||(l.add(u),u.then(p,p))})}}function Xn(o,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];try{var g=o,b=s,_=b;e:for(;_!==null;){switch(_.tag){case 5:St=_.stateNode,tr=!1;break e;case 3:St=_.stateNode.containerInfo,tr=!0;break e;case 4:St=_.stateNode.containerInfo,tr=!0;break e}_=_.return}if(St===null)throw Error(X(160));YD(g,b,p),St=null,tr=!1;var k=p.alternate;k!==null&&(k.return=null),p.return=null}catch(y){st(p,s,y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)QD(s,o),s=s.sibling}function QD(o,s){var l=o.alternate,u=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Xn(s,o),wr(o),u&4){try{ml(3,o,o.return),Hu(3,o)}catch(O){st(o,o.return,O)}try{ml(5,o,o.return)}catch(O){st(o,o.return,O)}}break;case 1:Xn(s,o),wr(o),u&512&&l!==null&&Is(l,l.return);break;case 5:if(Xn(s,o),wr(o),u&512&&l!==null&&Is(l,l.return),o.flags&32){var p=o.stateNode;try{Al(p,"")}catch(O){st(o,o.return,O)}}if(u&4&&(p=o.stateNode,p!=null)){var g=o.memoizedProps,b=l!==null?l.memoizedProps:g,_=o.type,k=o.updateQueue;if(o.updateQueue=null,k!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&b2(p,g),Tg(_,b);var y=Tg(_,g);for(b=0;b<k.length;b+=2){var E=k[b],D=k[b+1];E==="style"?C2(p,D):E==="dangerouslySetInnerHTML"?A2(p,D):E==="children"?Al(p,D):Tf(p,E,D,y)}switch(_){case"input":yg(p,g);break;case"textarea":w2(p,g);break;case"select":var C=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var T=g.value;T!=null?Ns(p,!!g.multiple,T,!1):C!==!!g.multiple&&(g.defaultValue!=null?Ns(p,!!g.multiple,g.defaultValue,!0):Ns(p,!!g.multiple,g.multiple?[]:"",!1))}p[Il]=g}catch(O){st(o,o.return,O)}}break;case 6:if(Xn(s,o),wr(o),u&4){if(o.stateNode===null)throw Error(X(162));p=o.stateNode,g=o.memoizedProps;try{p.nodeValue=g}catch(O){st(o,o.return,O)}}break;case 3:if(Xn(s,o),wr(o),u&4&&l!==null&&l.memoizedState.isDehydrated)try{xl(s.containerInfo)}catch(O){st(o,o.return,O)}break;case 4:Xn(s,o),wr(o);break;case 13:Xn(s,o),wr(o),p=o.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(lk=ut())),u&4&&gE(o);break;case 22:if(E=l!==null&&l.memoizedState!==null,o.mode&1?(Ot=(y=Ot)||E,Xn(s,o),Ot=y):Xn(s,o),wr(o),u&8192){if(y=o.memoizedState!==null,(o.stateNode.isHidden=y)&&!E&&o.mode&1)for(le=o,E=o.child;E!==null;){for(D=le=E;le!==null;){switch(C=le,T=C.child,C.tag){case 0:case 11:case 14:case 15:ml(4,C,C.return);break;case 1:Is(C,C.return);var j=C.stateNode;if(typeof j.componentWillUnmount=="function"){u=C,l=C.return;try{s=u,j.props=s.memoizedProps,j.state=s.memoizedState,j.componentWillUnmount()}catch(O){st(u,l,O)}}break;case 5:Is(C,C.return);break;case 22:if(C.memoizedState!==null){kE(D);continue}}T!==null?(T.return=C,le=T):kE(D)}E=E.sibling}e:for(E=null,D=o;;){if(D.tag===5){if(E===null){E=D;try{p=D.stateNode,y?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=D.stateNode,k=D.memoizedProps.style,b=k!=null&&k.hasOwnProperty("display")?k.display:null,_.style.display=v2("display",b))}catch(O){st(o,o.return,O)}}}else if(D.tag===6){if(E===null)try{D.stateNode.nodeValue=y?"":D.memoizedProps}catch(O){st(o,o.return,O)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===o)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===o)break e;for(;D.sibling===null;){if(D.return===null||D.return===o)break e;E===D&&(E=null),D=D.return}E===D&&(E=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Xn(s,o),wr(o),u&4&&gE(o);break;case 21:break;default:Xn(s,o),wr(o)}}function wr(o){var s=o.flags;if(s&2){try{e:{for(var l=o.return;l!==null;){if(KD(l)){var u=l;break e}l=l.return}throw Error(X(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(Al(p,""),u.flags&=-33);var g=mE(o);sf(o,g,p);break;case 3:case 4:var b=u.stateNode.containerInfo,_=mE(o);of(o,_,b);break;default:throw Error(X(161))}}catch(k){st(o,o.return,k)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Z6(o,s,l){le=o,JD(o)}function JD(o,s,l){for(var u=(o.mode&1)!==0;le!==null;){var p=le,g=p.child;if(p.tag===22&&u){var b=p.memoizedState!==null||Rd;if(!b){var _=p.alternate,k=_!==null&&_.memoizedState!==null||Ot;_=Rd;var y=Ot;if(Rd=b,(Ot=k)&&!y)for(le=p;le!==null;)b=le,k=b.child,b.tag===22&&b.memoizedState!==null?bE(p):k!==null?(k.return=b,le=k):bE(p);for(;g!==null;)le=g,JD(g),g=g.sibling;le=p,Rd=_,Ot=y}fE(o)}else p.subtreeFlags&8772&&g!==null?(g.return=p,le=g):fE(o)}}function fE(o){for(;le!==null;){var s=le;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ot||Hu(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!Ot)if(l===null)u.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:er(s.type,l.memoizedProps);u.componentDidUpdate(p,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&eE(s,g,u);break;case 3:var b=s.updateQueue;if(b!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}eE(s,b,l)}break;case 5:var _=s.stateNode;if(l===null&&s.flags&4){l=_;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&l.focus();break;case"img":k.src&&(l.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var y=s.alternate;if(y!==null){var E=y.memoizedState;if(E!==null){var D=E.dehydrated;D!==null&&xl(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Ot||s.flags&512&&rf(s)}catch(C){st(s,s.return,C)}}if(s===o){le=null;break}if(l=s.sibling,l!==null){l.return=s.return,le=l;break}le=s.return}}function kE(o){for(;le!==null;){var s=le;if(s===o){le=null;break}var l=s.sibling;if(l!==null){l.return=s.return,le=l;break}le=s.return}}function bE(o){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Hu(4,s)}catch(k){st(s,l,k)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var p=s.return;try{u.componentDidMount()}catch(k){st(s,p,k)}}var g=s.return;try{rf(s)}catch(k){st(s,g,k)}break;case 5:var b=s.return;try{rf(s)}catch(k){st(s,b,k)}}}catch(k){st(s,s.return,k)}if(s===o){le=null;break}var _=s.sibling;if(_!==null){_.return=s.return,le=_;break}le=s.return}}var X6=Math.ceil,Cu=Yr.ReactCurrentDispatcher,sk=Yr.ReactCurrentOwner,Rn=Yr.ReactCurrentBatchConfig,je=0,xt=null,ht=null,It=0,_n=0,Ms=Ri(0),bt=0,Ol=null,Do=0,$u=0,ak=0,gl=null,an=null,lk=0,Ws=1/0,zr=null,yu=!1,af=null,Ii=null,zd=!1,Ci=null,xu=0,fl=0,lf=null,eu=-1,tu=0;function $t(){return je&6?ut():eu!==-1?eu:eu=ut()}function Mi(o){return o.mode&1?je&2&&It!==0?It&-It:O6.transition!==null?(tu===0&&(tu=P2()),tu):(o=Fe,o!==0||(o=window.event,o=o===void 0?16:U2(o.type)),o):1}function sr(o,s,l,u){if(50<fl)throw fl=0,lf=null,Error(X(185));Ul(o,l,u),(!(je&2)||o!==xt)&&(o===xt&&(!(je&2)&&($u|=l),bt===4&&_i(o,It)),hn(o,u),l===1&&je===0&&!(s.mode&1)&&(Ws=ut()+500,Fu&&zi()))}function hn(o,s){var l=o.callbackNode;Oz(o,s);var u=lu(o,o===xt?It:0);if(u===0)l!==null&&D1(l),o.callbackNode=null,o.callbackPriority=0;else if(s=u&-u,o.callbackPriority!==s){if(l!=null&&D1(l),s===1)o.tag===0?P6(wE.bind(null,o)):aD(wE.bind(null,o)),M6(function(){!(je&6)&&zi()}),l=null;else{switch(O2(u)){case 1:l=jf;break;case 4:l=B2;break;case 16:l=au;break;case 536870912:l=j2;break;default:l=au}l=oS(l,ZD.bind(null,o))}o.callbackPriority=s,o.callbackNode=l}}function ZD(o,s){if(eu=-1,tu=0,je&6)throw Error(X(327));var l=o.callbackNode;if(Ls()&&o.callbackNode!==l)return null;var u=lu(o,o===xt?It:0);if(u===0)return null;if(u&30||u&o.expiredLanes||s)s=Eu(o,u);else{s=u;var p=je;je|=2;var g=eS();(xt!==o||It!==s)&&(zr=null,Ws=ut()+500,vo(o,s));do try{nF();break}catch(_){XD(o,_)}while(!0);Gf(),Cu.current=g,je=p,ht!==null?s=0:(xt=null,It=0,s=bt)}if(s!==0){if(s===2&&(p=jg(o),p!==0&&(u=p,s=cf(o,p))),s===1)throw l=Ol,vo(o,0),_i(o,u),hn(o,ut()),l;if(s===6)_i(o,u);else{if(p=o.current.alternate,!(u&30)&&!eF(p)&&(s=Eu(o,u),s===2&&(g=jg(o),g!==0&&(u=g,s=cf(o,g))),s===1))throw l=Ol,vo(o,0),_i(o,u),hn(o,ut()),l;switch(o.finishedWork=p,o.finishedLanes=u,s){case 0:case 1:throw Error(X(345));case 2:go(o,an,zr);break;case 3:if(_i(o,u),(u&130023424)===u&&(s=lk+500-ut(),10<s)){if(lu(o,0)!==0)break;if(p=o.suspendedLanes,(p&u)!==u){$t(),o.pingedLanes|=o.suspendedLanes&p;break}o.timeoutHandle=Ug(go.bind(null,o,an,zr),s);break}go(o,an,zr);break;case 4:if(_i(o,u),(u&4194240)===u)break;for(s=o.eventTimes,p=-1;0<u;){var b=31-or(u);g=1<<b,b=s[b],b>p&&(p=b),u&=~g}if(u=p,u=ut()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*X6(u/1960))-u,10<u){o.timeoutHandle=Ug(go.bind(null,o,an,zr),u);break}go(o,an,zr);break;case 5:go(o,an,zr);break;default:throw Error(X(329))}}}return hn(o,ut()),o.callbackNode===l?ZD.bind(null,o):null}function cf(o,s){var l=gl;return o.current.memoizedState.isDehydrated&&(vo(o,s).flags|=256),o=Eu(o,s),o!==2&&(s=an,an=l,s!==null&&df(s)),o}function df(o){an===null?an=o:an.push.apply(an,o)}function eF(o){for(var s=o;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!ar(g(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(o,s){for(s&=~ak,s&=~$u,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var l=31-or(s),u=1<<l;o[l]=-1,s&=~u}}function wE(o){if(je&6)throw Error(X(327));Ls();var s=lu(o,0);if(!(s&1))return hn(o,ut()),null;var l=Eu(o,s);if(o.tag!==0&&l===2){var u=jg(o);u!==0&&(s=u,l=cf(o,u))}if(l===1)throw l=Ol,vo(o,0),_i(o,s),hn(o,ut()),l;if(l===6)throw Error(X(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,go(o,an,zr),hn(o,ut()),null}function ck(o,s){var l=je;je|=1;try{return o(s)}finally{je=l,je===0&&(Ws=ut()+500,Fu&&zi())}}function So(o){Ci!==null&&Ci.tag===0&&!(je&6)&&Ls();var s=je;je|=1;var l=Rn.transition,u=Fe;try{if(Rn.transition=null,Fe=1,o)return o()}finally{Fe=u,Rn.transition=l,je=s,!(je&6)&&zi()}}function dk(){_n=Ms.current,Xe(Ms)}function vo(o,s){o.finishedWork=null,o.finishedLanes=0;var l=o.timeoutHandle;if(l!==-1&&(o.timeoutHandle=-1,I6(l)),ht!==null)for(l=ht.return;l!==null;){var u=l;switch($f(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&pu();break;case 3:$s(),Xe(dn),Xe(Rt),Xf();break;case 5:Zf(u);break;case 4:$s();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:Kf(u.type._context);break;case 22:case 23:dk()}l=l.return}if(xt=o,ht=o=Ni(o.current,null),It=_n=s,bt=0,Ol=null,ak=$u=Do=0,an=gl=null,_o!==null){for(s=0;s<_o.length;s++)if(l=_o[s],u=l.interleaved,u!==null){l.interleaved=null;var p=u.next,g=l.pending;if(g!==null){var b=g.next;g.next=p,u.next=b}l.pending=u}_o=null}return o}function XD(o,s){do{var l=ht;try{if(Gf(),Jd.current=vu,Au){for(var u=nt.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}Au=!1}if(Eo=0,yt=kt=nt=null,pl=!1,Bl=0,sk.current=null,l===null||l.return===null){bt=1,Ol=s,ht=null;break}e:{var g=o,b=l.return,_=l,k=s;if(s=It,_.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var y=k,E=_,D=E.tag;if(!(E.mode&1)&&(D===0||D===11||D===15)){var C=E.alternate;C?(E.updateQueue=C.updateQueue,E.memoizedState=C.memoizedState,E.lanes=C.lanes):(E.updateQueue=null,E.memoizedState=null)}var T=sE(b);if(T!==null){T.flags&=-257,aE(T,b,_,g,s),T.mode&1&&oE(g,y,s),s=T,k=y;var j=s.updateQueue;if(j===null){var O=new Set;O.add(k),s.updateQueue=O}else j.add(k);break e}else{if(!(s&1)){oE(g,y,s),uk();break e}k=Error(X(426))}}else if(et&&_.mode&1){var L=sE(b);if(L!==null){!(L.flags&65536)&&(L.flags|=256),aE(L,b,_,g,s),qf(qs(k,_));break e}}g=k=qs(k,_),bt!==4&&(bt=2),gl===null?gl=[g]:gl.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var N=OD(g,k,s);X1(g,N);break e;case 1:_=k;var B=g.type,R=g.stateNode;if(!(g.flags&128)&&(typeof B.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ii===null||!Ii.has(R)))){g.flags|=65536,s&=-s,g.lanes|=s;var H=LD(g,_,s);X1(g,H);break e}}g=g.return}while(g!==null)}nS(l)}catch(q){s=q,ht===l&&l!==null&&(ht=l=l.return);continue}break}while(!0)}function eS(){var o=Cu.current;return Cu.current=vu,o===null?vu:o}function uk(){(bt===0||bt===3||bt===2)&&(bt=4),xt===null||!(Do&268435455)&&!($u&268435455)||_i(xt,It)}function Eu(o,s){var l=je;je|=2;var u=eS();(xt!==o||It!==s)&&(zr=null,vo(o,s));do try{tF();break}catch(p){XD(o,p)}while(!0);if(Gf(),je=l,Cu.current=u,ht!==null)throw Error(X(261));return xt=null,It=0,bt}function tF(){for(;ht!==null;)tS(ht)}function nF(){for(;ht!==null&&!Dz();)tS(ht)}function tS(o){var s=iS(o.alternate,o,_n);o.memoizedProps=o.pendingProps,s===null?nS(o):ht=s,sk.current=null}function nS(o){var s=o;do{var l=s.alternate;if(o=s.return,s.flags&32768){if(l=Y6(l,s),l!==null){l.flags&=32767,ht=l;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{bt=6,ht=null;return}}else if(l=K6(l,s,_n),l!==null){ht=l;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=o}while(s!==null);bt===0&&(bt=5)}function go(o,s,l){var u=Fe,p=Rn.transition;try{Rn.transition=null,Fe=1,rF(o,s,l,u)}finally{Rn.transition=p,Fe=u}return null}function rF(o,s,l,u){do Ls();while(Ci!==null);if(je&6)throw Error(X(327));l=o.finishedWork;var p=o.finishedLanes;if(l===null)return null;if(o.finishedWork=null,o.finishedLanes=0,l===o.current)throw Error(X(177));o.callbackNode=null,o.callbackPriority=0;var g=l.lanes|l.childLanes;if(Lz(o,g),o===xt&&(ht=xt=null,It=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||zd||(zd=!0,oS(au,function(){return Ls(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=Rn.transition,Rn.transition=null;var b=Fe;Fe=1;var _=je;je|=4,sk.current=null,J6(o,l),QD(l,o),C6(Fg),cu=!!zg,Fg=zg=null,o.current=l,Z6(l),Sz(),je=_,Fe=b,Rn.transition=g}else o.current=l;if(zd&&(zd=!1,Ci=o,xu=p),g=o.pendingLanes,g===0&&(Ii=null),Mz(l.stateNode),hn(o,ut()),s!==null)for(u=o.onRecoverableError,l=0;l<s.length;l++)p=s[l],u(p.value,{componentStack:p.stack,digest:p.digest});if(yu)throw yu=!1,o=af,af=null,o;return xu&1&&o.tag!==0&&Ls(),g=o.pendingLanes,g&1?o===lf?fl++:(fl=0,lf=o):fl=0,zi(),null}function Ls(){if(Ci!==null){var o=O2(xu),s=Rn.transition,l=Fe;try{if(Rn.transition=null,Fe=16>o?16:o,Ci===null)var u=!1;else{if(o=Ci,Ci=null,xu=0,je&6)throw Error(X(331));var p=je;for(je|=4,le=o.current;le!==null;){var g=le,b=g.child;if(le.flags&16){var _=g.deletions;if(_!==null){for(var k=0;k<_.length;k++){var y=_[k];for(le=y;le!==null;){var E=le;switch(E.tag){case 0:case 11:case 15:ml(8,E,g)}var D=E.child;if(D!==null)D.return=E,le=D;else for(;le!==null;){E=le;var C=E.sibling,T=E.return;if(GD(E),E===y){le=null;break}if(C!==null){C.return=T,le=C;break}le=T}}}var j=g.alternate;if(j!==null){var O=j.child;if(O!==null){j.child=null;do{var L=O.sibling;O.sibling=null,O=L}while(O!==null)}}le=g}}if(g.subtreeFlags&2064&&b!==null)b.return=g,le=b;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:ml(9,g,g.return)}var N=g.sibling;if(N!==null){N.return=g.return,le=N;break e}le=g.return}}var B=o.current;for(le=B;le!==null;){b=le;var R=b.child;if(b.subtreeFlags&2064&&R!==null)R.return=b,le=R;else e:for(b=B;le!==null;){if(_=le,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Hu(9,_)}}catch(q){st(_,_.return,q)}if(_===b){le=null;break e}var H=_.sibling;if(H!==null){H.return=_.return,le=H;break e}le=_.return}}if(je=p,zi(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Pu,o)}catch{}u=!0}return u}finally{Fe=l,Rn.transition=s}}return!1}function _E(o,s,l){s=qs(l,s),s=OD(o,s,1),o=Ti(o,s,1),s=$t(),o!==null&&(Ul(o,1,s),hn(o,s))}function st(o,s,l){if(o.tag===3)_E(o,o,l);else for(;s!==null;){if(s.tag===3){_E(s,o,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ii===null||!Ii.has(u))){o=qs(l,o),o=LD(s,o,1),s=Ti(s,o,1),o=$t(),s!==null&&(Ul(s,1,o),hn(s,o));break}}s=s.return}}function iF(o,s,l){var u=o.pingCache;u!==null&&u.delete(s),s=$t(),o.pingedLanes|=o.suspendedLanes&l,xt===o&&(It&l)===l&&(bt===4||bt===3&&(It&130023424)===It&&500>ut()-lk?vo(o,0):ak|=l),hn(o,s)}function rS(o,s){s===0&&(o.mode&1?(s=Td,Td<<=1,!(Td&130023424)&&(Td=4194304)):s=1);var l=$t();o=Gr(o,s),o!==null&&(Ul(o,s,l),hn(o,l))}function oF(o){var s=o.memoizedState,l=0;s!==null&&(l=s.retryLane),rS(o,l)}function sF(o,s){var l=0;switch(o.tag){case 13:var u=o.stateNode,p=o.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=o.stateNode;break;default:throw Error(X(314))}u!==null&&u.delete(s),rS(o,l)}var iS;iS=function(o,s,l){if(o!==null)if(o.memoizedProps!==s.pendingProps||dn.current)cn=!0;else{if(!(o.lanes&l)&&!(s.flags&128))return cn=!1,G6(o,s,l);cn=!!(o.flags&131072)}else cn=!1,et&&s.flags&1048576&&lD(s,fu,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Xd(o,s),o=s.pendingProps;var p=Vs(s,Rt.current);Os(s,l),p=tk(null,s,u,o,p,l);var g=nk();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,un(u)?(g=!0,mu(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Qf(s),p.updater=Uu,s.stateNode=p,p._reactInternals=s,Yg(s,u,o,l),s=Zg(null,s,u,!0,g,l)):(s.tag=0,et&&g&&Hf(s),Ht(null,s,p,l),s=s.child),s;case 16:u=s.elementType;e:{switch(Xd(o,s),o=s.pendingProps,p=u._init,u=p(u._payload),s.type=u,p=s.tag=lF(u),o=er(u,o),p){case 0:s=Jg(null,s,u,o,l);break e;case 1:s=dE(null,s,u,o,l);break e;case 11:s=lE(null,s,u,o,l);break e;case 14:s=cE(null,s,u,er(u.type,o),l);break e}throw Error(X(306,u,""))}return s;case 0:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:er(u,p),Jg(o,s,u,p,l);case 1:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:er(u,p),dE(o,s,u,p,l);case 3:e:{if(VD(s),o===null)throw Error(X(387));u=s.pendingProps,g=s.memoizedState,p=g.element,mD(o,s),wu(s,u,null,l);var b=s.memoizedState;if(u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=qs(Error(X(423)),s),s=uE(o,s,u,l,p);break e}else if(u!==p){p=qs(Error(X(424)),s),s=uE(o,s,u,l,p);break e}else for(An=Si(s.stateNode.containerInfo.firstChild),vn=s,et=!0,rr=null,l=hD(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Us(),u===p){s=Kr(o,s,l);break e}Ht(o,s,u,l)}s=s.child}return s;case 5:return gD(s),o===null&&Wg(s),u=s.type,p=s.pendingProps,g=o!==null?o.memoizedProps:null,b=p.children,Vg(u,p)?b=null:g!==null&&Vg(u,g)&&(s.flags|=32),FD(o,s),Ht(o,s,b,l),s.child;case 6:return o===null&&Wg(s),null;case 13:return UD(o,s,l);case 4:return Jf(s,s.stateNode.containerInfo),u=s.pendingProps,o===null?s.child=Hs(s,null,u,l):Ht(o,s,u,l),s.child;case 11:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:er(u,p),lE(o,s,u,p,l);case 7:return Ht(o,s,s.pendingProps,l),s.child;case 8:return Ht(o,s,s.pendingProps.children,l),s.child;case 12:return Ht(o,s,s.pendingProps.children,l),s.child;case 10:e:{if(u=s.type._context,p=s.pendingProps,g=s.memoizedProps,b=p.value,Ye(ku,u._currentValue),u._currentValue=b,g!==null)if(ar(g.value,b)){if(g.children===p.children&&!dn.current){s=Kr(o,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var _=g.dependencies;if(_!==null){b=g.child;for(var k=_.firstContext;k!==null;){if(k.context===u){if(g.tag===1){k=$r(-1,l&-l),k.tag=2;var y=g.updateQueue;if(y!==null){y=y.shared;var E=y.pending;E===null?k.next=k:(k.next=E.next,E.next=k),y.pending=k}}g.lanes|=l,k=g.alternate,k!==null&&(k.lanes|=l),Gg(g.return,l,s),_.lanes|=l;break}k=k.next}}else if(g.tag===10)b=g.type===s.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(X(341));b.lanes|=l,_=b.alternate,_!==null&&(_.lanes|=l),Gg(b,l,s),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}Ht(o,s,p.children,l),s=s.child}return s;case 9:return p=s.type,u=s.pendingProps.children,Os(s,l),p=zn(p),u=u(p),s.flags|=1,Ht(o,s,u,l),s.child;case 14:return u=s.type,p=er(u,s.pendingProps),p=er(u.type,p),cE(o,s,u,p,l);case 15:return RD(o,s,s.type,s.pendingProps,l);case 17:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:er(u,p),Xd(o,s),s.tag=1,un(u)?(o=!0,mu(s)):o=!1,Os(s,l),PD(s,u,p),Yg(s,u,p,l),Zg(null,s,u,!0,o,l);case 19:return HD(o,s,l);case 22:return zD(o,s,l)}throw Error(X(156,s.tag))};function oS(o,s){return N2(o,s)}function aF(o,s,l,u){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(o,s,l,u){return new aF(o,s,l,u)}function hk(o){return o=o.prototype,!(!o||!o.isReactComponent)}function lF(o){if(typeof o=="function")return hk(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Mf)return 11;if(o===Nf)return 14}return 2}function Ni(o,s){var l=o.alternate;return l===null?(l=Ln(o.tag,s,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=s,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&14680064,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l}function nu(o,s,l,u,p,g){var b=2;if(u=o,typeof o=="function")hk(o)&&(b=1);else if(typeof o=="string")b=5;else e:switch(o){case As:return Co(l.children,p,g,s);case If:b=8,p|=8;break;case wg:return o=Ln(12,l,s,p|2),o.elementType=wg,o.lanes=g,o;case _g:return o=Ln(13,l,s,p),o.elementType=_g,o.lanes=g,o;case Ag:return o=Ln(19,l,s,p),o.elementType=Ag,o.lanes=g,o;case g2:return qu(l,p,g,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case p2:b=10;break e;case m2:b=9;break e;case Mf:b=11;break e;case Nf:b=14;break e;case fi:b=16,u=null;break e}throw Error(X(130,o==null?o:typeof o,""))}return s=Ln(b,l,s,p),s.elementType=o,s.type=u,s.lanes=g,s}function Co(o,s,l,u){return o=Ln(7,o,u,s),o.lanes=l,o}function qu(o,s,l,u){return o=Ln(22,o,u,s),o.elementType=g2,o.lanes=l,o.stateNode={isHidden:!1},o}function sg(o,s,l){return o=Ln(6,o,null,s),o.lanes=l,o}function ag(o,s,l){return s=Ln(4,o.children!==null?o.children:[],o.key,s),s.lanes=l,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function cF(o,s,l,u,p){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vm(0),this.expirationTimes=Vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function pk(o,s,l,u,p,g,b,_,k){return o=new cF(o,s,l,_,k),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Ln(3,null,null,s),o.current=g,g.stateNode=o,g.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(g),o}function dF(o,s,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:u==null?null:""+u,children:o,containerInfo:s,implementation:l}}function sS(o){if(!o)return Pi;o=o._reactInternals;e:{if(Io(o)!==o||o.tag!==1)throw Error(X(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(un(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(X(171))}if(o.tag===1){var l=o.type;if(un(l))return sD(o,l,s)}return s}function aS(o,s,l,u,p,g,b,_,k){return o=pk(l,u,!0,o,p,g,b,_,k),o.context=sS(null),l=o.current,u=$t(),p=Mi(l),g=$r(u,p),g.callback=s??null,Ti(l,g,p),o.current.lanes=p,Ul(o,p,u),hn(o,u),o}function Wu(o,s,l,u){var p=s.current,g=$t(),b=Mi(p);return l=sS(l),s.context===null?s.context=l:s.pendingContext=l,s=$r(g,b),s.payload={element:o},u=u===void 0?null:u,u!==null&&(s.callback=u),o=Ti(p,s,b),o!==null&&(sr(o,p,b,g),Qd(o,p,b)),b}function Du(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function AE(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<s?l:s}}function mk(o,s){AE(o,s),(o=o.alternate)&&AE(o,s)}function uF(){return null}var lS=typeof reportError=="function"?reportError:function(o){console.error(o)};function gk(o){this._internalRoot=o}Gu.prototype.render=gk.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(X(409));Wu(o,s,null,null)};Gu.prototype.unmount=gk.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;So(function(){Wu(null,o,null,null)}),s[Wr]=null}};function Gu(o){this._internalRoot=o}Gu.prototype.unstable_scheduleHydration=function(o){if(o){var s=z2();o={blockedOn:null,target:o,priority:s};for(var l=0;l<wi.length&&s!==0&&s<wi[l].priority;l++);wi.splice(l,0,o),l===0&&V2(o)}};function fk(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Ku(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function vE(){}function hF(o,s,l,u,p){if(p){if(typeof u=="function"){var g=u;u=function(){var y=Du(b);g.call(y)}}var b=aS(s,u,o,0,null,!1,!1,"",vE);return o._reactRootContainer=b,o[Wr]=b.current,Sl(o.nodeType===8?o.parentNode:o),So(),b}for(;p=o.lastChild;)o.removeChild(p);if(typeof u=="function"){var _=u;u=function(){var y=Du(k);_.call(y)}}var k=pk(o,0,!1,null,null,!1,!1,"",vE);return o._reactRootContainer=k,o[Wr]=k.current,Sl(o.nodeType===8?o.parentNode:o),So(function(){Wu(s,k,l,u)}),k}function Yu(o,s,l,u,p){var g=l._reactRootContainer;if(g){var b=g;if(typeof p=="function"){var _=p;p=function(){var k=Du(b);_.call(k)}}Wu(s,b,o,p)}else b=hF(l,s,o,p,u);return Du(b)}L2=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var l=ol(s.pendingLanes);l!==0&&(Pf(s,l|1),hn(s,ut()),!(je&6)&&(Ws=ut()+500,zi()))}break;case 13:So(function(){var u=Gr(o,1);if(u!==null){var p=$t();sr(u,o,1,p)}}),mk(o,1)}};Of=function(o){if(o.tag===13){var s=Gr(o,134217728);if(s!==null){var l=$t();sr(s,o,134217728,l)}mk(o,134217728)}};R2=function(o){if(o.tag===13){var s=Mi(o),l=Gr(o,s);if(l!==null){var u=$t();sr(l,o,s,u)}mk(o,s)}};z2=function(){return Fe};F2=function(o,s){var l=Fe;try{return Fe=o,s()}finally{Fe=l}};Mg=function(o,s,l){switch(s){case"input":if(yg(o,l),s=l.name,l.type==="radio"&&s!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==o&&u.form===o.form){var p=zu(u);if(!p)throw Error(X(90));k2(u),yg(u,p)}}}break;case"textarea":w2(o,l);break;case"select":s=l.value,s!=null&&Ns(o,!!l.multiple,s,!1)}};E2=ck;D2=So;var pF={usingClientEntryPoint:!1,Events:[$l,xs,zu,y2,x2,ck]},el={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mF={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=I2(o),o===null?null:o.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||uF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Pu=Fd.inject(mF),Cr=Fd}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pF;yn.createPortal=function(o,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fk(s))throw Error(X(200));return dF(o,s,null,l)};yn.createRoot=function(o,s){if(!fk(o))throw Error(X(299));var l=!1,u="",p=lS;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=pk(o,1,!1,null,null,l,!1,u,p),o[Wr]=s.current,Sl(o.nodeType===8?o.parentNode:o),new gk(s)};yn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(X(188)):(o=Object.keys(o).join(","),Error(X(268,o)));return o=I2(s),o=o===null?null:o.stateNode,o};yn.flushSync=function(o){return So(o)};yn.hydrate=function(o,s,l){if(!Ku(s))throw Error(X(200));return Yu(null,o,s,!0,l)};yn.hydrateRoot=function(o,s,l){if(!fk(o))throw Error(X(405));var u=l!=null&&l.hydratedSources||null,p=!1,g="",b=lS;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),s=aS(s,null,o,1,l??null,p,!1,g,b),o[Wr]=s.current,Sl(o),u)for(o=0;o<u.length;o++)l=u[o],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Gu(s)};yn.render=function(o,s,l){if(!Ku(s))throw Error(X(200));return Yu(null,o,s,!1,l)};yn.unmountComponentAtNode=function(o){if(!Ku(o))throw Error(X(40));return o._reactRootContainer?(So(function(){Yu(null,null,o,!1,function(){o._reactRootContainer=null,o[Wr]=null})}),!0):!1};yn.unstable_batchedUpdates=ck;yn.unstable_renderSubtreeIntoContainer=function(o,s,l,u){if(!Ku(l))throw Error(X(200));if(o==null||o._reactInternals===void 0)throw Error(X(38));return Yu(o,s,l,!1,u)};yn.version="18.3.1-next-f1338f8080-20240426";function cS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cS)}catch(o){console.error(o)}}cS(),c2.exports=yn;var gF=c2.exports,dS,CE=gF;dS=CE.createRoot,CE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])}return o},Ll.apply(this,arguments)}var yi;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(yi||(yi={}));const yE="popstate";function fF(o){o===void 0&&(o={});function s(u,p){let{pathname:g,search:b,hash:_}=u.location;return uf("",{pathname:g,search:b,hash:_},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function l(u,p){return typeof p=="string"?p:Su(p)}return bF(s,l,null,o)}function pt(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function uS(o,s){if(!o){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function kF(){return Math.random().toString(36).substr(2,8)}function xE(o,s){return{usr:o.state,key:o.key,idx:s}}function uf(o,s,l,u){return l===void 0&&(l=null),Ll({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof s=="string"?Zs(s):s,{state:l,key:s&&s.key||u||kF()})}function Su(o){let{pathname:s="/",search:l="",hash:u=""}=o;return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),u&&u!=="#"&&(s+=u.charAt(0)==="#"?u:"#"+u),s}function Zs(o){let s={};if(o){let l=o.indexOf("#");l>=0&&(s.hash=o.substr(l),o=o.substr(0,l));let u=o.indexOf("?");u>=0&&(s.search=o.substr(u),o=o.substr(0,u)),o&&(s.pathname=o)}return s}function bF(o,s,l,u){u===void 0&&(u={});let{window:p=document.defaultView,v5Compat:g=!1}=u,b=p.history,_=yi.Pop,k=null,y=E();y==null&&(y=0,b.replaceState(Ll({},b.state,{idx:y}),""));function E(){return(b.state||{idx:null}).idx}function D(){_=yi.Pop;let L=E(),N=L==null?null:L-y;y=L,k&&k({action:_,location:O.location,delta:N})}function C(L,N){_=yi.Push;let B=uf(O.location,L,N);y=E()+1;let R=xE(B,y),H=O.createHref(B);try{b.pushState(R,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;p.location.assign(H)}g&&k&&k({action:_,location:O.location,delta:1})}function T(L,N){_=yi.Replace;let B=uf(O.location,L,N);y=E();let R=xE(B,y),H=O.createHref(B);b.replaceState(R,"",H),g&&k&&k({action:_,location:O.location,delta:0})}function j(L){let N=p.location.origin!=="null"?p.location.origin:p.location.href,B=typeof L=="string"?L:Su(L);return B=B.replace(/ $/,"%20"),pt(N,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,N)}let O={get action(){return _},get location(){return o(p,b)},listen(L){if(k)throw new Error("A history only accepts one active listener");return p.addEventListener(yE,D),k=L,()=>{p.removeEventListener(yE,D),k=null}},createHref(L){return s(p,L)},createURL:j,encodeLocation(L){let N=j(L);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:C,replace:T,go(L){return b.go(L)}};return O}var EE;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(EE||(EE={}));function wF(o,s,l){return l===void 0&&(l="/"),_F(o,s,l)}function _F(o,s,l,u){let p=typeof s=="string"?Zs(s):s,g=kk(p.pathname||"/",l);if(g==null)return null;let b=hS(o);AF(b);let _=null;for(let k=0;_==null&&k<b.length;++k){let y=BF(g);_=IF(b[k],y)}return _}function hS(o,s,l,u){s===void 0&&(s=[]),l===void 0&&(l=[]),u===void 0&&(u="");let p=(g,b,_)=>{let k={relativePath:_===void 0?g.path||"":_,caseSensitive:g.caseSensitive===!0,childrenIndex:b,route:g};k.relativePath.startsWith("/")&&(pt(k.relativePath.startsWith(u),'Absolute route path "'+k.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),k.relativePath=k.relativePath.slice(u.length));let y=Bi([u,k.relativePath]),E=l.concat(k);g.children&&g.children.length>0&&(pt(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),hS(g.children,s,E,y)),!(g.path==null&&!g.index)&&s.push({path:y,score:SF(y,g.index),routesMeta:E})};return o.forEach((g,b)=>{var _;if(g.path===""||!((_=g.path)!=null&&_.includes("?")))p(g,b);else for(let k of pS(g.path))p(g,b,k)}),s}function pS(o){let s=o.split("/");if(s.length===0)return[];let[l,...u]=s,p=l.endsWith("?"),g=l.replace(/\?$/,"");if(u.length===0)return p?[g,""]:[g];let b=pS(u.join("/")),_=[];return _.push(...b.map(k=>k===""?g:[g,k].join("/"))),p&&_.push(...b),_.map(k=>o.startsWith("/")&&k===""?"/":k)}function AF(o){o.sort((s,l)=>s.score!==l.score?l.score-s.score:TF(s.routesMeta.map(u=>u.childrenIndex),l.routesMeta.map(u=>u.childrenIndex)))}const vF=/^:[\w-]+$/,CF=3,yF=2,xF=1,EF=10,DF=-2,DE=o=>o==="*";function SF(o,s){let l=o.split("/"),u=l.length;return l.some(DE)&&(u+=DF),s&&(u+=yF),l.filter(p=>!DE(p)).reduce((p,g)=>p+(vF.test(g)?CF:g===""?xF:EF),u)}function TF(o,s){return o.length===s.length&&o.slice(0,-1).every((u,p)=>u===s[p])?o[o.length-1]-s[s.length-1]:0}function IF(o,s,l){let{routesMeta:u}=o,p={},g="/",b=[];for(let _=0;_<u.length;++_){let k=u[_],y=_===u.length-1,E=g==="/"?s:s.slice(g.length)||"/",D=MF({path:k.relativePath,caseSensitive:k.caseSensitive,end:y},E),C=k.route;if(!D)return null;Object.assign(p,D.params),b.push({params:p,pathname:Bi([g,D.pathname]),pathnameBase:LF(Bi([g,D.pathnameBase])),route:C}),D.pathnameBase!=="/"&&(g=Bi([g,D.pathnameBase]))}return b}function MF(o,s){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[l,u]=NF(o.path,o.caseSensitive,o.end),p=s.match(l);if(!p)return null;let g=p[0],b=g.replace(/(.)\/+$/,"$1"),_=p.slice(1);return{params:u.reduce((y,E,D)=>{let{paramName:C,isOptional:T}=E;if(C==="*"){let O=_[D]||"";b=g.slice(0,g.length-O.length).replace(/(.)\/+$/,"$1")}const j=_[D];return T&&!j?y[C]=void 0:y[C]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:g,pathnameBase:b,pattern:o}}function NF(o,s,l){s===void 0&&(s=!1),l===void 0&&(l=!0),uS(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let u=[],p="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,_,k)=>(u.push({paramName:_,isOptional:k!=null}),k?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(u.push({paramName:"*"}),p+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?p+="\\/*$":o!==""&&o!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,s?void 0:"i"),u]}function BF(o){try{return o.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return uS(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),o}}function kk(o,s){if(s==="/")return o;if(!o.toLowerCase().startsWith(s.toLowerCase()))return null;let l=s.endsWith("/")?s.length-1:s.length,u=o.charAt(l);return u&&u!=="/"?null:o.slice(l)||"/"}function jF(o,s){s===void 0&&(s="/");let{pathname:l,search:u="",hash:p=""}=typeof o=="string"?Zs(o):o;return{pathname:l?l.startsWith("/")?l:PF(l,s):s,search:RF(u),hash:zF(p)}}function PF(o,s){let l=s.replace(/\/+$/,"").split("/");return o.split("/").forEach(p=>{p===".."?l.length>1&&l.pop():p!=="."&&l.push(p)}),l.length>1?l.join("/"):"/"}function lg(o,s,l,u){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OF(o){return o.filter((s,l)=>l===0||s.route.path&&s.route.path.length>0)}function mS(o,s){let l=OF(o);return s?l.map((u,p)=>p===l.length-1?u.pathname:u.pathnameBase):l.map(u=>u.pathnameBase)}function gS(o,s,l,u){u===void 0&&(u=!1);let p;typeof o=="string"?p=Zs(o):(p=Ll({},o),pt(!p.pathname||!p.pathname.includes("?"),lg("?","pathname","search",p)),pt(!p.pathname||!p.pathname.includes("#"),lg("#","pathname","hash",p)),pt(!p.search||!p.search.includes("#"),lg("#","search","hash",p)));let g=o===""||p.pathname==="",b=g?"/":p.pathname,_;if(b==null)_=l;else{let D=s.length-1;if(!u&&b.startsWith("..")){let C=b.split("/");for(;C[0]==="..";)C.shift(),D-=1;p.pathname=C.join("/")}_=D>=0?s[D]:"/"}let k=jF(p,_),y=b&&b!=="/"&&b.endsWith("/"),E=(g||b===".")&&l.endsWith("/");return!k.pathname.endsWith("/")&&(y||E)&&(k.pathname+="/"),k}const Bi=o=>o.join("/").replace(/\/\/+/g,"/"),LF=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),RF=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,zF=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function FF(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const fS=["post","put","patch","delete"];new Set(fS);const VF=["get",...fS];new Set(VF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])}return o},Rl.apply(this,arguments)}const bk=V.createContext(null),UF=V.createContext(null),Mo=V.createContext(null),Qu=V.createContext(null),Fi=V.createContext({outlet:null,matches:[],isDataRoute:!1}),kS=V.createContext(null);function HF(o,s){let{relative:l}=s===void 0?{}:s;Wl()||pt(!1);let{basename:u,navigator:p}=V.useContext(Mo),{hash:g,pathname:b,search:_}=wS(o,{relative:l}),k=b;return u!=="/"&&(k=b==="/"?u:Bi([u,b])),p.createHref({pathname:k,search:_,hash:g})}function Wl(){return V.useContext(Qu)!=null}function Qr(){return Wl()||pt(!1),V.useContext(Qu).location}function bS(o){V.useContext(Mo).static||V.useLayoutEffect(o)}function Vn(){let{isDataRoute:o}=V.useContext(Fi);return o?n7():$F()}function $F(){Wl()||pt(!1);let o=V.useContext(bk),{basename:s,future:l,navigator:u}=V.useContext(Mo),{matches:p}=V.useContext(Fi),{pathname:g}=Qr(),b=JSON.stringify(mS(p,l.v7_relativeSplatPath)),_=V.useRef(!1);return bS(()=>{_.current=!0}),V.useCallback(function(y,E){if(E===void 0&&(E={}),!_.current)return;if(typeof y=="number"){u.go(y);return}let D=gS(y,JSON.parse(b),g,E.relative==="path");o==null&&s!=="/"&&(D.pathname=D.pathname==="/"?s:Bi([s,D.pathname])),(E.replace?u.replace:u.push)(D,E.state,E)},[s,u,b,g,o])}function Ju(){let{matches:o}=V.useContext(Fi),s=o[o.length-1];return s?s.params:{}}function wS(o,s){let{relative:l}=s===void 0?{}:s,{future:u}=V.useContext(Mo),{matches:p}=V.useContext(Fi),{pathname:g}=Qr(),b=JSON.stringify(mS(p,u.v7_relativeSplatPath));return V.useMemo(()=>gS(o,JSON.parse(b),g,l==="path"),[o,b,g,l])}function qF(o,s){return WF(o,s)}function WF(o,s,l,u){Wl()||pt(!1);let{navigator:p}=V.useContext(Mo),{matches:g}=V.useContext(Fi),b=g[g.length-1],_=b?b.params:{};b&&b.pathname;let k=b?b.pathnameBase:"/";b&&b.route;let y=Qr(),E;if(s){var D;let L=typeof s=="string"?Zs(s):s;k==="/"||(D=L.pathname)!=null&&D.startsWith(k)||pt(!1),E=L}else E=y;let C=E.pathname||"/",T=C;if(k!=="/"){let L=k.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(L.length).join("/")}let j=wF(o,{pathname:T}),O=JF(j&&j.map(L=>Object.assign({},L,{params:Object.assign({},_,L.params),pathname:Bi([k,p.encodeLocation?p.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?k:Bi([k,p.encodeLocation?p.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),g,l,u);return s&&O?V.createElement(Qu.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:yi.Pop}},O):O}function GF(){let o=t7(),s=FF(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),l=o instanceof Error?o.stack:null,p={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},s),l?V.createElement("pre",{style:p},l):null,null)}const KF=V.createElement(GF,null);class YF extends V.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){console.error("React Router caught the following error during render",s,l)}render(){return this.state.error!==void 0?V.createElement(Fi.Provider,{value:this.props.routeContext},V.createElement(kS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QF(o){let{routeContext:s,match:l,children:u}=o,p=V.useContext(bk);return p&&p.static&&p.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=l.route.id),V.createElement(Fi.Provider,{value:s},u)}function JF(o,s,l,u){var p;if(s===void 0&&(s=[]),l===void 0&&(l=null),u===void 0&&(u=null),o==null){var g;if(!l)return null;if(l.errors)o=l.matches;else if((g=u)!=null&&g.v7_partialHydration&&s.length===0&&!l.initialized&&l.matches.length>0)o=l.matches;else return null}let b=o,_=(p=l)==null?void 0:p.errors;if(_!=null){let E=b.findIndex(D=>D.route.id&&(_==null?void 0:_[D.route.id])!==void 0);E>=0||pt(!1),b=b.slice(0,Math.min(b.length,E+1))}let k=!1,y=-1;if(l&&u&&u.v7_partialHydration)for(let E=0;E<b.length;E++){let D=b[E];if((D.route.HydrateFallback||D.route.hydrateFallbackElement)&&(y=E),D.route.id){let{loaderData:C,errors:T}=l,j=D.route.loader&&C[D.route.id]===void 0&&(!T||T[D.route.id]===void 0);if(D.route.lazy||j){k=!0,y>=0?b=b.slice(0,y+1):b=[b[0]];break}}}return b.reduceRight((E,D,C)=>{let T,j=!1,O=null,L=null;l&&(T=_&&D.route.id?_[D.route.id]:void 0,O=D.route.errorElement||KF,k&&(y<0&&C===0?(r7("route-fallback"),j=!0,L=null):y===C&&(j=!0,L=D.route.hydrateFallbackElement||null)));let N=s.concat(b.slice(0,C+1)),B=()=>{let R;return T?R=O:j?R=L:D.route.Component?R=V.createElement(D.route.Component,null):D.route.element?R=D.route.element:R=E,V.createElement(QF,{match:D,routeContext:{outlet:E,matches:N,isDataRoute:l!=null},children:R})};return l&&(D.route.ErrorBoundary||D.route.errorElement||C===0)?V.createElement(YF,{location:l.location,revalidation:l.revalidation,component:O,error:T,children:B(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):B()},null)}var _S=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(_S||{}),AS=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(AS||{});function ZF(o){let s=V.useContext(bk);return s||pt(!1),s}function XF(o){let s=V.useContext(UF);return s||pt(!1),s}function e7(o){let s=V.useContext(Fi);return s||pt(!1),s}function vS(o){let s=e7(),l=s.matches[s.matches.length-1];return l.route.id||pt(!1),l.route.id}function t7(){var o;let s=V.useContext(kS),l=XF(),u=vS();return s!==void 0?s:(o=l.errors)==null?void 0:o[u]}function n7(){let{router:o}=ZF(_S.UseNavigateStable),s=vS(AS.UseNavigateStable),l=V.useRef(!1);return bS(()=>{l.current=!0}),V.useCallback(function(p,g){g===void 0&&(g={}),l.current&&(typeof p=="number"?o.navigate(p):o.navigate(p,Rl({fromRouteId:s},g)))},[o,s])}const SE={};function r7(o,s,l){SE[o]||(SE[o]=!0)}function i7(o,s){o==null||o.v7_startTransition,o==null||o.v7_relativeSplatPath}function Tt(o){pt(!1)}function o7(o){let{basename:s="/",children:l=null,location:u,navigationType:p=yi.Pop,navigator:g,static:b=!1,future:_}=o;Wl()&&pt(!1);let k=s.replace(/^\/*/,"/"),y=V.useMemo(()=>({basename:k,navigator:g,static:b,future:Rl({v7_relativeSplatPath:!1},_)}),[k,_,g,b]);typeof u=="string"&&(u=Zs(u));let{pathname:E="/",search:D="",hash:C="",state:T=null,key:j="default"}=u,O=V.useMemo(()=>{let L=kk(E,k);return L==null?null:{location:{pathname:L,search:D,hash:C,state:T,key:j},navigationType:p}},[k,E,D,C,T,j,p]);return O==null?null:V.createElement(Mo.Provider,{value:y},V.createElement(Qu.Provider,{children:l,value:O}))}function CS(o){let{children:s,location:l}=o;return qF(hf(s),l)}new Promise(()=>{});function hf(o,s){s===void 0&&(s=[]);let l=[];return V.Children.forEach(o,(u,p)=>{if(!V.isValidElement(u))return;let g=[...s,p];if(u.type===V.Fragment){l.push.apply(l,hf(u.props.children,g));return}u.type!==Tt&&pt(!1),!u.props.index||!u.props.children||pt(!1);let b={id:u.props.id||g.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(b.children=hf(u.props.children,g)),l.push(b)}),l}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])}return o},pf.apply(this,arguments)}function s7(o,s){if(o==null)return{};var l={},u=Object.keys(o),p,g;for(g=0;g<u.length;g++)p=u[g],!(s.indexOf(p)>=0)&&(l[p]=o[p]);return l}function a7(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function l7(o,s){return o.button===0&&(!s||s==="_self")&&!a7(o)}const c7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d7="6";try{window.__reactRouterVersion=d7}catch{}const u7="startTransition",TE=iz[u7];function h7(o){let{basename:s,children:l,future:u,window:p}=o,g=V.useRef();g.current==null&&(g.current=fF({window:p,v5Compat:!0}));let b=g.current,[_,k]=V.useState({action:b.action,location:b.location}),{v7_startTransition:y}=u||{},E=V.useCallback(D=>{y&&TE?TE(()=>k(D)):k(D)},[k,y]);return V.useLayoutEffect(()=>b.listen(E),[b,E]),V.useEffect(()=>i7(u),[u]),V.createElement(o7,{basename:s,children:l,location:_.location,navigationType:_.action,navigator:b,future:u})}const p7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cg=V.forwardRef(function(s,l){let{onClick:u,relative:p,reloadDocument:g,replace:b,state:_,target:k,to:y,preventScrollReset:E,viewTransition:D}=s,C=s7(s,c7),{basename:T}=V.useContext(Mo),j,O=!1;if(typeof y=="string"&&m7.test(y)&&(j=y,p7))try{let R=new URL(window.location.href),H=y.startsWith("//")?new URL(R.protocol+y):new URL(y),q=kk(H.pathname,T);H.origin===R.origin&&q!=null?y=q+H.search+H.hash:O=!0}catch{}let L=HF(y,{relative:p}),N=g7(y,{replace:b,state:_,target:k,preventScrollReset:E,relative:p,viewTransition:D});function B(R){u&&u(R),R.defaultPrevented||N(R)}return V.createElement("a",pf({},C,{href:j||L,onClick:O||g?u:B,ref:l,target:k}))});var IE;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(IE||(IE={}));var ME;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(ME||(ME={}));function g7(o,s){let{target:l,replace:u,state:p,preventScrollReset:g,relative:b,viewTransition:_}=s===void 0?{}:s,k=Vn(),y=Qr(),E=wS(o,{relative:b});return V.useCallback(D=>{if(l7(D,l)){D.preventDefault();let C=u!==void 0?u:Su(y)===Su(E);k(o,{replace:C,state:p,preventScrollReset:g,relative:b,viewTransition:_})}},[y,k,E,u,p,l,o,g,b,_])}const yS=V.createContext(void 0),f7=({children:o})=>{const[s,l]=V.useState(!1),[u,p]=V.useState(1),[g,b]=V.useState(!1),_=()=>{if(g){p(1),l(!1);return}l(!0),p(.3),setTimeout(()=>{p(1)},1500),setTimeout(()=>{l(!1),b(!0)},2e3)};return A.jsx(yS.Provider,{value:{showAnimation:s,mainPageOpacity:u,triggerAnimation:_,hasAnimationPlayedOnce:g},children:o})},wk=()=>{const o=V.useContext(yS);if(o===void 0)throw new Error("useAnimation must be used within an AnimationProvider");return o},xS="/logo.svg",k7=()=>{const[o,s]=V.useState(!1),[l,u]=V.useState(!1),{triggerAnimation:p}=wk(),g=Qr(),b=Vn();V.useEffect(()=>{const E=()=>{s(window.scrollY>10)};return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const _=E=>{if(g.pathname!=="/")b("/"),setTimeout(()=>{const D=document.getElementById(E);D&&window.scrollTo({top:D.offsetTop-64,behavior:"smooth"})},100);else{const D=document.getElementById(E);D&&window.scrollTo({top:D.offsetTop-64,behavior:"smooth"})}u(!1)},k=()=>{g.pathname==="/"?p():b("/"),_("intro")};g.pathname.includes("/notice/")||g.pathname.includes("/apply");const y=g.pathname==="/";return A.jsxs("header",{className:`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${o||!y?"bg-white/95 backdrop-blur-sm shadow-md py-2":"bg-black/20 backdrop-blur-sm py-3"}`,style:{transform:"none"},children:[A.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center cursor-pointer",onClick:k,children:[A.jsx("img",{src:xS,alt:"HB ",className:"h-8 w-8 sm:h-10 sm:w-10 mr-2"}),A.jsx("h1",{className:`text-lg sm:text-xl font-bold transition-colors duration-300 ${o||!y?"text-blue-900":"text-white"}`,children:"HB"})]}),A.jsx("nav",{className:"hidden md:block",children:A.jsx("ul",{className:"flex gap-6",children:["intro","instructor","notice","pricing","location","contact"].map((E,D)=>A.jsx("li",{children:A.jsxs("button",{className:`font-medium text-sm lg:text-base transition-colors duration-300 hover:text-blue-700 ${o||!y?"text-gray-800":"text-white"}`,onClick:()=>_(E),children:[E==="intro"&&"",E==="instructor"&&" ",E==="notice"&&"",E==="pricing"&&"",E==="location"&&" ",E==="contact"&&""]})},D))})}),A.jsxs("button",{className:"md:hidden p-2 -mr-2",onClick:()=>u(!l),"aria-label":" ",children:[A.jsx("div",{className:`w-6 h-0.5 mb-1.5 transition-all duration-300 ${o||!y?"bg-gray-800":"bg-white"} ${l?"transform rotate-45 translate-y-2":""}`}),A.jsx("div",{className:`w-6 h-0.5 mb-1.5 transition-all duration-300 ${o||!y?"bg-gray-800":"bg-white"} ${l?"opacity-0":""}`}),A.jsx("div",{className:`w-6 h-0.5 transition-all duration-300 ${o||!y?"bg-gray-800":"bg-white"} ${l?"transform -rotate-45 -translate-y-2":""}`})]})]}),A.jsx("div",{className:`md:hidden fixed left-0 right-0 bg-white shadow-lg transition-all duration-300 ease-in-out ${l?"max-h-[calc(100vh-4rem)] overflow-y-auto":"max-h-0 overflow-hidden"}`,children:A.jsx("ul",{className:"py-2 px-4",children:["intro","instructor","notice","pricing","location","contact"].map((E,D)=>A.jsx("li",{className:"border-b border-gray-100 last:border-none",children:A.jsxs("button",{className:"w-full py-4 text-left font-medium text-gray-800 hover:text-blue-700 transition-colors",onClick:()=>_(E),children:[E==="intro"&&"",E==="instructor"&&" ",E==="notice"&&"",E==="pricing"&&"",E==="location"&&" ",E==="contact"&&""]})},D))})})]})},b7=()=>{const o=["/images/slide_image_1.jpg","/images/slide_image_2.jpg","/images/slide_image_3.jpg"],[s,l]=V.useState(0),[u,p]=V.useState(!0);return V.useEffect(()=>{const g=setInterval(()=>{p(!1),setTimeout(()=>{l(b=>(b+1)%o.length),p(!0)},500)},5e3);return()=>clearInterval(g)},[]),A.jsxs("section",{id:"intro",className:"relative h-[38vh] sm:h-[calc(100vh-4rem)] md:h-screen flex items-center justify-center pt-8 sm:pt-16 md:pt-0",children:[A.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-opacity duration-500 ${u?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${o[s]})`}}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 to-blue-900/50"}),A.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[A.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-bold text-white mb-4 leading-tight",children:"HB"}),A.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-white opacity-90 max-w-2xl mx-auto leading-relaxed px-4",children:"      "}),A.jsx("div",{className:"mt-8 sm:mt-10 mb-16",children:A.jsx("button",{onClick:()=>{const g=document.getElementById("pricing");g&&window.scrollTo({top:g.offsetTop-64,behavior:"smooth"})},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 sm:px-8 rounded-full transition-all transform hover:scale-105 shadow-lg text-base sm:text-lg",children:" "})}),A.jsx("div",{className:"absolute bottom-8 sm:bottom-10 left-0 right-0 flex justify-center gap-2",children:o.map((g,b)=>A.jsx("button",{className:`w-2 sm:w-3 h-2 sm:h-3 rounded-full transition-all ${s===b?"bg-white w-6 sm:w-8":"bg-white/50"}`,onClick:()=>{p(!1),setTimeout(()=>{l(b),p(!0)},500)}},b))})]})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Qe=(o,s)=>{const l=V.forwardRef(({color:u="currentColor",size:p=24,strokeWidth:g=2,absoluteStrokeWidth:b,className:_="",children:k,...y},E)=>V.createElement("svg",{ref:E,...w7,width:p,height:p,stroke:u,strokeWidth:b?Number(g)*24/Number(p):g,className:["lucide",`lucide-${_7(o)}`,_].join(" "),...y},[...s.map(([D,C])=>V.createElement(D,C)),...Array.isArray(k)?k:[k]]));return l.displayName=`${o}`,l};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=Qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=Qe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=Qe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=Qe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=Qe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=Qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Qe("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=Qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=Qe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Qe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=Qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),B7="/images/instructor_profile.jpg",j7=()=>A.jsx("section",{id:"instructor",className:"py-20 bg-white",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-blue-900",children:" "}),A.jsx("div",{className:"bg-gray-50 rounded-2xl shadow-lg overflow-hidden max-w-4xl mx-auto",children:A.jsxs("div",{className:"flex flex-col md:flex-row",children:[A.jsxs("div",{className:"md:w-1/3 bg-blue-900 text-white p-8 flex flex-col items-center justify-center",children:[A.jsx("div",{className:"w-32 h-32 rounded-full bg-white/10 mb-4 flex items-center justify-center overflow-hidden",children:A.jsx("img",{src:B7,alt:" ",className:"w-full h-full object-cover"})}),A.jsx("h3",{className:"text-2xl font-bold",children:" "}),A.jsx("p",{className:"text-blue-200 mt-2 text-center",children:"  "})]}),A.jsx("div",{className:"md:w-2/3 p-6 md:p-8",children:A.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[A.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[A.jsx(N7,{className:"h-5 w-5 text-blue-700 mr-2"}),A.jsx("h3",{className:"text-lg font-bold text-gray-800",children:""})]}),A.jsxs("ul",{className:"space-y-2 text-gray-700",children:[A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:" () "})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:"  "})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:"   "})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:"  "})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:"   "})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:"  "})]})]})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[A.jsx(T7,{className:"h-5 w-5 text-blue-700 mr-2"}),A.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "})]}),A.jsxs("ul",{className:"space-y-2 text-gray-700",children:[A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:" "})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:" "})]})]})]}),A.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[A.jsx(A7,{className:"h-5 w-5 text-blue-700 mr-2"}),A.jsx("h3",{className:"text-lg font-bold text-gray-800",children:""})]}),A.jsxs("ul",{className:"space-y-2 text-gray-700",children:[A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:" "})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:" "})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),A.jsx("span",{children:" "})]})]})]})]})]})})]})})]})}),P7="modulepreload",O7=function(o){return"/"+o},jE={},Gs=function(s,l,u){let p=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),_=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));p=Promise.allSettled(l.map(k=>{if(k=O7(k),k in jE)return;jE[k]=!0;const y=k.endsWith(".css"),E=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${E}`))return;const D=document.createElement("link");if(D.rel=y?"stylesheet":P7,y||(D.as="script"),D.crossOrigin="",D.href=k,_&&D.setAttribute("nonce",_),document.head.appendChild(D),y)return new Promise((C,T)=>{D.addEventListener("load",C),D.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${k}`)))})}))}function g(b){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=b,window.dispatchEvent(_),!_.defaultPrevented)throw b}return p.then(b=>{for(const _ of b||[])_.status==="rejected"&&g(_.reason);return s().catch(g)})},L7=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Gs(async()=>{const{default:u}=await Promise.resolve().then(()=>Xs);return{default:u}},void 0).then(({default:u})=>u(...l)):s=fetch,(...l)=>s(...l)};class _k extends Error{constructor(s,l="FunctionsError",u){super(s),this.name=l,this.context=u}}class R7 extends _k{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class z7 extends _k{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class F7 extends _k{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var gf;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(gf||(gf={}));var V7=function(o,s,l,u){function p(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function _(E){try{y(u.next(E))}catch(D){b(D)}}function k(E){try{y(u.throw(E))}catch(D){b(D)}}function y(E){E.done?g(E.value):p(E.value).then(_,k)}y((u=u.apply(o,s||[])).next())})};class U7{constructor(s,{headers:l={},customFetch:u,region:p=gf.Any}={}){this.url=s,this.headers=l,this.region=p,this.fetch=L7(u)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,l={}){var u;return V7(this,void 0,void 0,function*(){try{const{headers:p,method:g,body:b}=l;let _={},{region:k}=l;k||(k=this.region),k&&k!=="any"&&(_["x-region"]=k);let y;b&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)&&(typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",y=b):typeof b=="string"?(_["Content-Type"]="text/plain",y=b):typeof FormData<"u"&&b instanceof FormData?y=b:(_["Content-Type"]="application/json",y=JSON.stringify(b)));const E=yield this.fetch(`${this.url}/${s}`,{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:y}).catch(j=>{throw new R7(j)}),D=E.headers.get("x-relay-error");if(D&&D==="true")throw new z7(E);if(!E.ok)throw new F7(E);let C=((u=E.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),T;return C==="application/json"?T=yield E.json():C==="application/octet-stream"?T=yield E.blob():C==="text/event-stream"?T=E:C==="multipart/form-data"?T=yield E.formData():T=yield E.text(),{data:T,error:null}}catch(p){return{data:null,error:p}}})}}var ln={},Ak={},Zu={},Gl={},Xu={},eh={},H7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ks=H7();const $7=Ks.fetch,TS=Ks.fetch.bind(Ks),IS=Ks.Headers,q7=Ks.Request,W7=Ks.Response,Xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:IS,Request:q7,Response:W7,default:TS,fetch:$7},Symbol.toStringTag,{value:"Module"})),G7=UR(Xs);var th={};Object.defineProperty(th,"__esModule",{value:!0});let K7=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};th.default=K7;var MS=Lt&&Lt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(eh,"__esModule",{value:!0});const Y7=MS(G7),Q7=MS(th);let J7=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=Y7.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=Object.assign({},this.headers),this.headers[s]=l,this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let p=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var b,_,k;let y=null,E=null,D=null,C=g.status,T=g.statusText;if(g.ok){if(this.method!=="HEAD"){const N=await g.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=N:E=JSON.parse(N))}const O=(b=this.headers.Prefer)===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),L=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");O&&L&&L.length>1&&(D=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(y={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,D=null,C=406,T="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const O=await g.text();try{y=JSON.parse(O),Array.isArray(y)&&g.status===404&&(E=[],y=null,C=200,T="OK")}catch{g.status===404&&O===""?(C=204,T="No Content"):y={message:O}}if(y&&this.isMaybeSingle&&(!((k=y==null?void 0:y.details)===null||k===void 0)&&k.includes("0 rows"))&&(y=null,C=200,T="OK"),y&&this.shouldThrowOnError)throw new Q7.default(y)}return{error:y,data:E,count:D,status:C,statusText:T}});return this.shouldThrowOnError||(p=p.catch(g=>{var b,_,k;return{error:{message:`${(b=g==null?void 0:g.name)!==null&&b!==void 0?b:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(_=g==null?void 0:g.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(k=g==null?void 0:g.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),p.then(s,l)}returns(){return this}overrideTypes(){return this}};eh.default=J7;var Z7=Lt&&Lt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Xu,"__esModule",{value:!0});const X7=Z7(eh);let e8=class extends X7.default{select(s){let l=!1;const u=(s??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:l=!0,nullsFirst:u,foreignTable:p,referencedTable:g=p}={}){const b=g?`${g}.order`:"order",_=this.url.searchParams.get(b);return this.url.searchParams.set(b,`${_?`${_},`:""}${s}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:l,referencedTable:u=l}={}){const p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(p,`${s}`),this}range(s,l,{foreignTable:u,referencedTable:p=u}={}){const g=typeof p>"u"?"offset":`${p}.offset`,b=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${s}`),this.url.searchParams.set(b,`${l-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:l=!1,settings:u=!1,buffers:p=!1,wal:g=!1,format:b="text"}={}){var _;const k=[s?"analyze":null,l?"verbose":null,u?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),y=(_=this.headers.Accept)!==null&&_!==void 0?_:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${b}; for="${y}"; options=${k};`,b==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xu.default=e8;var t8=Lt&&Lt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Gl,"__esModule",{value:!0});const n8=t8(Xu);let r8=class extends n8.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const b=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${g}fts${b}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const p=u?`${u}.or`:"or";return this.url.searchParams.append(p,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}};Gl.default=r8;var i8=Lt&&Lt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Zu,"__esModule",{value:!0});const nl=i8(Gl);let o8=class{constructor(s,{headers:l={},schema:u,fetch:p}){this.url=s,this.headers=l,this.schema=u,this.fetch=p}select(s,{head:l=!1,count:u}={}){const p=l?"HEAD":"GET";let g=!1;const b=(s??"*").split("").map(_=>/\s/.test(_)&&!g?"":(_==='"'&&(g=!g),_)).join("");return this.url.searchParams.set("select",b),u&&(this.headers.Prefer=`count=${u}`),new nl.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:l,defaultToNull:u=!0}={}){const p="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),l&&g.push(`count=${l}`),u||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(s)){const b=s.reduce((_,k)=>_.concat(Object.keys(k)),[]);if(b.length>0){const _=[...new Set(b)].map(k=>`"${k}"`);this.url.searchParams.set("columns",_.join(","))}}return new nl.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:l,ignoreDuplicates:u=!1,count:p,defaultToNull:g=!0}={}){const b="POST",_=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&_.push(this.headers.Prefer),p&&_.push(`count=${p}`),g||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(s)){const k=s.reduce((y,E)=>y.concat(Object.keys(E)),[]);if(k.length>0){const y=[...new Set(k)].map(E=>`"${E}"`);this.url.searchParams.set("columns",y.join(","))}}return new nl.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:l}={}){const u="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),l&&p.push(`count=${l}`),this.headers.Prefer=p.join(","),new nl.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const l="DELETE",u=[];return s&&u.push(`count=${s}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new nl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zu.default=o8;var nh={},rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.version=void 0;rh.version="0.0.0-automated";Object.defineProperty(nh,"__esModule",{value:!0});nh.DEFAULT_HEADERS=void 0;const s8=rh;nh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s8.version}`};var NS=Lt&&Lt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ak,"__esModule",{value:!0});const a8=NS(Zu),l8=NS(Gl),c8=nh;let d8=class BS{constructor(s,{headers:l={},schema:u,fetch:p}={}){this.url=s,this.headers=Object.assign(Object.assign({},c8.DEFAULT_HEADERS),l),this.schemaName=u,this.fetch=p}from(s){const l=new URL(`${this.url}/${s}`);return new a8.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new BS(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:p=!1,count:g}={}){let b;const _=new URL(`${this.url}/rpc/${s}`);let k;u||p?(b=u?"HEAD":"GET",Object.entries(l).filter(([E,D])=>D!==void 0).map(([E,D])=>[E,Array.isArray(D)?`{${D.join(",")}}`:`${D}`]).forEach(([E,D])=>{_.searchParams.append(E,D)})):(b="POST",k=l);const y=Object.assign({},this.headers);return g&&(y.Prefer=`count=${g}`),new l8.default({method:b,url:_,headers:y,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}};Ak.default=d8;var ea=Lt&&Lt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ln,"__esModule",{value:!0});ln.PostgrestError=ln.PostgrestBuilder=ln.PostgrestTransformBuilder=ln.PostgrestFilterBuilder=ln.PostgrestQueryBuilder=ln.PostgrestClient=void 0;const jS=ea(Ak);ln.PostgrestClient=jS.default;const PS=ea(Zu);ln.PostgrestQueryBuilder=PS.default;const OS=ea(Gl);ln.PostgrestFilterBuilder=OS.default;const LS=ea(Xu);ln.PostgrestTransformBuilder=LS.default;const RS=ea(eh);ln.PostgrestBuilder=RS.default;const zS=ea(th);ln.PostgrestError=zS.default;var u8=ln.default={PostgrestClient:jS.default,PostgrestQueryBuilder:PS.default,PostgrestFilterBuilder:OS.default,PostgrestTransformBuilder:LS.default,PostgrestBuilder:RS.default,PostgrestError:zS.default};const{PostgrestClient:h8,PostgrestQueryBuilder:UV,PostgrestFilterBuilder:HV,PostgrestTransformBuilder:$V,PostgrestBuilder:qV,PostgrestError:WV}=u8,p8="2.11.2",m8={"X-Client-Info":`realtime-js/${p8}`},g8="1.0.0",FS=1e4,f8=1e3;var zs;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(zs||(zs={}));var wn;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(wn||(wn={}));var nr;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(nr||(nr={}));var ff;(function(o){o.websocket="websocket"})(ff||(ff={}));var bo;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(bo||(bo={}));class k8{constructor(){this.HEADER_LENGTH=1}decode(s,l){return s.constructor===ArrayBuffer?l(this._binaryDecode(s)):l(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const l=new DataView(s),u=new TextDecoder;return this._decodeBroadcast(s,l,u)}_decodeBroadcast(s,l,u){const p=l.getUint8(1),g=l.getUint8(2);let b=this.HEADER_LENGTH+2;const _=u.decode(s.slice(b,b+p));b=b+p;const k=u.decode(s.slice(b,b+g));b=b+g;const y=JSON.parse(u.decode(s.slice(b,s.byteLength)));return{ref:null,topic:_,event:k,payload:y}}}class VS{constructor(s,l){this.callback=s,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Ke||(Ke={}));const PE=(o,s,l={})=>{var u;const p=(u=l.skipTypes)!==null&&u!==void 0?u:[];return Object.keys(s).reduce((g,b)=>(g[b]=b8(b,o,s,p),g),{})},b8=(o,s,l,u)=>{const p=s.find(_=>_.name===o),g=p==null?void 0:p.type,b=l[o];return g&&!u.includes(g)?US(g,b):kf(b)},US=(o,s)=>{if(o.charAt(0)==="_"){const l=o.slice(1,o.length);return v8(s,l)}switch(o){case Ke.bool:return w8(s);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return _8(s);case Ke.json:case Ke.jsonb:return A8(s);case Ke.timestamp:return C8(s);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return kf(s);default:return kf(s)}},kf=o=>o,w8=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},_8=o=>{if(typeof o=="string"){const s=parseFloat(o);if(!Number.isNaN(s))return s}return o},A8=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(s){return console.log(`JSON parse error: ${s}`),o}return o},v8=(o,s)=>{if(typeof o!="string")return o;const l=o.length-1,u=o[l];if(o[0]==="{"&&u==="}"){let g;const b=o.slice(1,l);try{g=JSON.parse("["+b+"]")}catch{g=b?b.split(","):[]}return g.map(_=>US(s,_))}return o},C8=o=>typeof o=="string"?o.replace(" ","T"):o,HS=o=>{let s=o;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class ug{constructor(s,l,u={},p=FS){this.channel=s,this.event=l,this.payload=u,this.timeout=p,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,l){var u;return this._hasReceived(s)&&l((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:s,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:l}){this.recHooks.filter(u=>u.status===s).forEach(u=>u.callback(l))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var OE;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(OE||(OE={}));class kl{constructor(s,l){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},p=>{const{onJoin:g,onLeave:b,onSync:_}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,p,g,b),this.pendingDiffs.forEach(k=>{this.state=kl.syncDiff(this.state,k,g,b)}),this.pendingDiffs=[],_()}),this.channel._on(u.diff,{},p=>{const{onJoin:g,onLeave:b,onSync:_}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(p):(this.state=kl.syncDiff(this.state,p,g,b),_())}),this.onJoin((p,g,b)=>{this.channel._trigger("presence",{event:"join",key:p,currentPresences:g,newPresences:b})}),this.onLeave((p,g,b)=>{this.channel._trigger("presence",{event:"leave",key:p,currentPresences:g,leftPresences:b})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,l,u,p){const g=this.cloneDeep(s),b=this.transformState(l),_={},k={};return this.map(g,(y,E)=>{b[y]||(k[y]=E)}),this.map(b,(y,E)=>{const D=g[y];if(D){const C=E.map(L=>L.presence_ref),T=D.map(L=>L.presence_ref),j=E.filter(L=>T.indexOf(L.presence_ref)<0),O=D.filter(L=>C.indexOf(L.presence_ref)<0);j.length>0&&(_[y]=j),O.length>0&&(k[y]=O)}else _[y]=E}),this.syncDiff(g,{joins:_,leaves:k},u,p)}static syncDiff(s,l,u,p){const{joins:g,leaves:b}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return u||(u=()=>{}),p||(p=()=>{}),this.map(g,(_,k)=>{var y;const E=(y=s[_])!==null&&y!==void 0?y:[];if(s[_]=this.cloneDeep(k),E.length>0){const D=s[_].map(T=>T.presence_ref),C=E.filter(T=>D.indexOf(T.presence_ref)<0);s[_].unshift(...C)}u(_,E,k)}),this.map(b,(_,k)=>{let y=s[_];if(!y)return;const E=k.map(D=>D.presence_ref);y=y.filter(D=>E.indexOf(D.presence_ref)<0),s[_]=y,p(_,y,k),y.length===0&&delete s[_]}),s}static map(s,l){return Object.getOwnPropertyNames(s).map(u=>l(u,s[u]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((l,u)=>{const p=s[u];return"metas"in p?l[u]=p.metas.map(g=>(g.presence_ref=g.phx_ref,delete g.phx_ref,delete g.phx_ref_prev,g)):l[u]=p,l},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var LE;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(LE||(LE={}));var RE;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(RE||(RE={}));var Fr;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Fr||(Fr={}));class vk{constructor(s,l={config:{}},u){this.topic=s,this.params=l,this.socket=u,this.bindings={},this.state=wn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new ug(this,nr.join,this.params,this.timeout),this.rejoinTimer=new VS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wn.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(p,g)=>{this._trigger(this._replyEventName(g),p)}),this.presence=new kl(this),this.broadcastEndpointURL=HS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,l=this.timeout){var u,p;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:g,presence:b,private:_}}=this.params;this._onError(E=>s==null?void 0:s(Fr.CHANNEL_ERROR,E)),this._onClose(()=>s==null?void 0:s(Fr.CLOSED));const k={},y={broadcast:g,presence:b,postgres_changes:(p=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(E=>E.filter))!==null&&p!==void 0?p:[],private:_};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},k)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:E})=>{var D;if(this.socket.setAuth(),E===void 0){s==null||s(Fr.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,T=(D=C==null?void 0:C.length)!==null&&D!==void 0?D:0,j=[];for(let O=0;O<T;O++){const L=C[O],{filter:{event:N,schema:B,table:R,filter:H}}=L,q=E&&E[O];if(q&&q.event===N&&q.schema===B&&q.table===R&&q.filter===H)j.push(Object.assign(Object.assign({},L),{id:q.id}));else{this.unsubscribe(),s==null||s(Fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,s&&s(Fr.SUBSCRIBED);return}}).receive("error",E=>{s==null||s(Fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(Fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,l={}){return await this.send({type:"presence",event:"track",payload:s},l.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,l,u){return this._on(s,l,u)}async send(s,l={}){var u,p;if(!this._canPush()&&s.type==="broadcast"){const{event:g,payload:b}=s,k={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:g,payload:b,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,k,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);return await((p=y.body)===null||p===void 0?void 0:p.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(g=>{var b,_,k;const y=this._push(s.type,s,l.timeout||this.timeout);s.type==="broadcast"&&!(!((k=(_=(b=this.params)===null||b===void 0?void 0:b.config)===null||_===void 0?void 0:_.broadcast)===null||k===void 0)&&k.ack)&&g("ok"),y.receive("ok",()=>g("ok")),y.receive("error",()=>g("error")),y.receive("timeout",()=>g("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=wn.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(u=>{const p=new ug(this,nr.leave,{},s);p.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),p.send(),this._canPush()||p.trigger("ok",{})})}async _fetchWithTimeout(s,l,u){const p=new AbortController,g=setTimeout(()=>p.abort(),u),b=await this.socket.fetch(s,Object.assign(Object.assign({},l),{signal:p.signal}));return clearTimeout(g),b}_push(s,l,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let p=new ug(this,s,l,u);return this._canPush()?p.send():(p.startTimeout(),this.pushBuffer.push(p)),p}_onMessage(s,l,u){return l}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,l,u){var p,g;const b=s.toLocaleLowerCase(),{close:_,error:k,leave:y,join:E}=nr;if(u&&[_,k,y,E].indexOf(b)>=0&&u!==this._joinRef())return;let C=this._onMessage(b,l,u);if(l&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(b)?(p=this.bindings.postgres_changes)===null||p===void 0||p.filter(T=>{var j,O,L;return((j=T.filter)===null||j===void 0?void 0:j.event)==="*"||((L=(O=T.filter)===null||O===void 0?void 0:O.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===b}).map(T=>T.callback(C,u)):(g=this.bindings[b])===null||g===void 0||g.filter(T=>{var j,O,L,N,B,R;if(["broadcast","presence","postgres_changes"].includes(b))if("id"in T){const H=T.id,q=(j=T.filter)===null||j===void 0?void 0:j.event;return H&&((O=l.ids)===null||O===void 0?void 0:O.includes(H))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((L=l.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const H=(B=(N=T==null?void 0:T.filter)===null||N===void 0?void 0:N.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return H==="*"||H===((R=l==null?void 0:l.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===b}).map(T=>{if(typeof C=="object"&&"ids"in C){const j=C.data,{schema:O,table:L,commit_timestamp:N,type:B,errors:R}=j;C=Object.assign(Object.assign({},{schema:O,table:L,commit_timestamp:N,eventType:B,new:{},old:{},errors:R}),this._getPayloadRecords(j))}T.callback(C,u)})}_isClosed(){return this.state===wn.closed}_isJoined(){return this.state===wn.joined}_isJoining(){return this.state===wn.joining}_isLeaving(){return this.state===wn.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,l,u){const p=s.toLocaleLowerCase(),g={type:p,filter:l,callback:u};return this.bindings[p]?this.bindings[p].push(g):this.bindings[p]=[g],this}_off(s,l){const u=s.toLocaleLowerCase();return this.bindings[u]=this.bindings[u].filter(p=>{var g;return!(((g=p.type)===null||g===void 0?void 0:g.toLocaleLowerCase())===u&&vk.isEqual(p.filter,l))}),this}static isEqual(s,l){if(Object.keys(s).length!==Object.keys(l).length)return!1;for(const u in s)if(s[u]!==l[u])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(nr.close,{},s)}_onError(s){this._on(nr.error,{},l=>s(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wn.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const l={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(l.new=PE(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(l.old=PE(s.columns,s.old_record)),l}}const y8=()=>{},x8=typeof WebSocket<"u",E8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D8{constructor(s,l){var u;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=m8,this.params={},this.timeout=FS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=y8,this.conn=null,this.sendBuffer=[],this.serializer=new k8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=g=>{let b;return g?b=g:typeof fetch>"u"?b=(..._)=>Gs(async()=>{const{default:k}=await Promise.resolve().then(()=>Xs);return{default:k}},void 0).then(({default:k})=>k(..._)):b=fetch,(..._)=>b(..._)},this.endPoint=`${s}/${ff.websocket}`,this.httpEndpoint=HS(s),l!=null&&l.transport?this.transport=l.transport:this.transport=null,l!=null&&l.params&&(this.params=l.params),l!=null&&l.headers&&(this.headers=Object.assign(Object.assign({},this.headers),l.headers)),l!=null&&l.timeout&&(this.timeout=l.timeout),l!=null&&l.logger&&(this.logger=l.logger),l!=null&&l.heartbeatIntervalMs&&(this.heartbeatIntervalMs=l.heartbeatIntervalMs);const p=(u=l==null?void 0:l.params)===null||u===void 0?void 0:u.apikey;if(p&&(this.accessTokenValue=p,this.apiKey=p),this.reconnectAfterMs=l!=null&&l.reconnectAfterMs?l.reconnectAfterMs:g=>[1e3,2e3,5e3,1e4][g-1]||1e4,this.encode=l!=null&&l.encode?l.encode:(g,b)=>b(JSON.stringify(g)),this.decode=l!=null&&l.decode?l.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new VS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(l==null?void 0:l.fetch),l!=null&&l.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(l==null?void 0:l.worker)||!1,this.workerUrl=l==null?void 0:l.workerUrl}this.accessToken=(l==null?void 0:l.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(x8){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new S8(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gs(async()=>{const{default:s}=await import("./browser-DV7VU-5E.js").then(l=>l.b);return{default:s}},[]).then(({default:s})=>{this.conn=new s(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:g8}))}disconnect(s,l){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,l??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(s){const l=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const s=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.disconnect(),s}log(s,l,u){this.logger(s,l,u)}connectionState(){switch(this.conn&&this.conn.readyState){case zs.connecting:return bo.Connecting;case zs.open:return bo.Open;case zs.closing:return bo.Closing;default:return bo.Closed}}isConnected(){return this.connectionState()===bo.Open}channel(s,l={config:{}}){const u=new vk(`realtime:${s}`,l,this);return this.channels.push(u),u}push(s){const{topic:l,event:u,payload:p,ref:g}=s,b=()=>{this.encode(s,_=>{var k;(k=this.conn)===null||k===void 0||k.send(_)})};this.log("push",`${l} ${u} (${g})`,p),this.isConnected()?b():this.sendBuffer.push(b)}async setAuth(s=null){let l=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(l){let u=null;try{u=JSON.parse(atob(l.split(".")[1]))}catch{}if(u&&u.exp&&!(Math.floor(Date.now()/1e3)-u.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${u.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${u.exp}`);this.accessTokenValue=l,this.channels.forEach(p=>{l&&p.updateJoinPayload({access_token:l}),p.joinedOnce&&p._isJoined()&&p._push(nr.access_token,{access_token:l})})}}async sendHeartbeat(){var s;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(s=this.conn)===null||s===void 0||s.close(f8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let l=this.channels.find(u=>u.topic===s&&(u._isJoined()||u._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${s}"`),l.unsubscribe())}_remove(s){this.channels=this.channels.filter(l=>l._joinRef()!==s._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,l=>{let{topic:u,event:p,payload:g,ref:b}=l;b&&b===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${g.status||""} ${u} ${p} ${b&&"("+b+")"||""}`,g),this.channels.filter(_=>_._isMember(u)).forEach(_=>_._trigger(p,g,b)),this.stateChangeCallbacks.message.forEach(_=>_(l))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(s=>s())}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(l=>l(s))}_onConnError(s){this.log("transport",s.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(l=>l(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(nr.error))}_appendParams(s,l){if(Object.keys(l).length===0)return s;const u=s.match(/\?/)?"&":"?",p=new URLSearchParams(l);return`${s}${u}${p}`}_workerObjectUrl(s){let l;if(s)l=s;else{const u=new Blob([E8],{type:"application/javascript"});l=URL.createObjectURL(u)}return l}}class S8{constructor(s,l,u){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zs.connecting,this.send=()=>{},this.url=null,this.url=s,this.close=u.close}}class Ck extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function Ct(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class T8 extends Ck{constructor(s,l){super(s),this.name="StorageApiError",this.status=l}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bf extends Ck{constructor(s,l){super(s),this.name="StorageUnknownError",this.originalError=l}}var I8=function(o,s,l,u){function p(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function _(E){try{y(u.next(E))}catch(D){b(D)}}function k(E){try{y(u.throw(E))}catch(D){b(D)}}function y(E){E.done?g(E.value):p(E.value).then(_,k)}y((u=u.apply(o,s||[])).next())})};const $S=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Gs(async()=>{const{default:u}=await Promise.resolve().then(()=>Xs);return{default:u}},void 0).then(({default:u})=>u(...l)):s=fetch,(...l)=>s(...l)},M8=()=>I8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gs(()=>Promise.resolve().then(()=>Xs),void 0)).Response:Response}),wf=o=>{if(Array.isArray(o))return o.map(l=>wf(l));if(typeof o=="function"||o!==Object(o))return o;const s={};return Object.entries(o).forEach(([l,u])=>{const p=l.replace(/([-_][a-z])/gi,g=>g.toUpperCase().replace(/[-_]/g,""));s[p]=wf(u)}),s};var No=function(o,s,l,u){function p(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function _(E){try{y(u.next(E))}catch(D){b(D)}}function k(E){try{y(u.throw(E))}catch(D){b(D)}}function y(E){E.done?g(E.value):p(E.value).then(_,k)}y((u=u.apply(o,s||[])).next())})};const hg=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),N8=(o,s,l)=>No(void 0,void 0,void 0,function*(){const u=yield M8();o instanceof u&&!(l!=null&&l.noResolveJson)?o.json().then(p=>{s(new T8(hg(p),o.status||500))}).catch(p=>{s(new bf(hg(p),p))}):s(new bf(hg(o),o))}),B8=(o,s,l,u)=>{const p={method:o,headers:(s==null?void 0:s.headers)||{}};return o==="GET"?p:(p.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),u&&(p.body=JSON.stringify(u)),Object.assign(Object.assign({},p),l))};function Kl(o,s,l,u,p,g){return No(this,void 0,void 0,function*(){return new Promise((b,_)=>{o(l,B8(s,u,p,g)).then(k=>{if(!k.ok)throw k;return u!=null&&u.noResolveJson?k:k.json()}).then(k=>b(k)).catch(k=>N8(k,_,u))})})}function Iu(o,s,l,u){return No(this,void 0,void 0,function*(){return Kl(o,"GET",s,l,u)})}function bi(o,s,l,u,p){return No(this,void 0,void 0,function*(){return Kl(o,"POST",s,u,p,l)})}function j8(o,s,l,u,p){return No(this,void 0,void 0,function*(){return Kl(o,"PUT",s,u,p,l)})}function P8(o,s,l,u){return No(this,void 0,void 0,function*(){return Kl(o,"HEAD",s,Object.assign(Object.assign({},l),{noResolveJson:!0}),u)})}function qS(o,s,l,u,p){return No(this,void 0,void 0,function*(){return Kl(o,"DELETE",s,u,p,l)})}var on=function(o,s,l,u){function p(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function _(E){try{y(u.next(E))}catch(D){b(D)}}function k(E){try{y(u.throw(E))}catch(D){b(D)}}function y(E){E.done?g(E.value):p(E.value).then(_,k)}y((u=u.apply(o,s||[])).next())})};const O8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class L8{constructor(s,l={},u,p){this.url=s,this.headers=l,this.bucketId=u,this.fetch=$S(p)}uploadOrUpdate(s,l,u,p){return on(this,void 0,void 0,function*(){try{let g;const b=Object.assign(Object.assign({},zE),p);let _=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(b.upsert)});const k=b.metadata;typeof Blob<"u"&&u instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),k&&g.append("metadata",this.encodeMetadata(k)),g.append("",u)):typeof FormData<"u"&&u instanceof FormData?(g=u,g.append("cacheControl",b.cacheControl),k&&g.append("metadata",this.encodeMetadata(k))):(g=u,_["cache-control"]=`max-age=${b.cacheControl}`,_["content-type"]=b.contentType,k&&(_["x-metadata"]=this.toBase64(this.encodeMetadata(k)))),p!=null&&p.headers&&(_=Object.assign(Object.assign({},_),p.headers));const y=this._removeEmptyFolders(l),E=this._getFinalPath(y),D=yield this.fetch(`${this.url}/object/${E}`,Object.assign({method:s,body:g,headers:_},b!=null&&b.duplex?{duplex:b.duplex}:{})),C=yield D.json();return D.ok?{data:{path:y,id:C.Id,fullPath:C.Key},error:null}:{data:null,error:C}}catch(g){if(Ct(g))return{data:null,error:g};throw g}})}upload(s,l,u){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,l,u)})}uploadToSignedUrl(s,l,u,p){return on(this,void 0,void 0,function*(){const g=this._removeEmptyFolders(s),b=this._getFinalPath(g),_=new URL(this.url+`/object/upload/sign/${b}`);_.searchParams.set("token",l);try{let k;const y=Object.assign({upsert:zE.upsert},p),E=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&u instanceof Blob?(k=new FormData,k.append("cacheControl",y.cacheControl),k.append("",u)):typeof FormData<"u"&&u instanceof FormData?(k=u,k.append("cacheControl",y.cacheControl)):(k=u,E["cache-control"]=`max-age=${y.cacheControl}`,E["content-type"]=y.contentType);const D=yield this.fetch(_.toString(),{method:"PUT",body:k,headers:E}),C=yield D.json();return D.ok?{data:{path:g,fullPath:C.Key},error:null}:{data:null,error:C}}catch(k){if(Ct(k))return{data:null,error:k};throw k}})}createSignedUploadUrl(s,l){return on(this,void 0,void 0,function*(){try{let u=this._getFinalPath(s);const p=Object.assign({},this.headers);l!=null&&l.upsert&&(p["x-upsert"]="true");const g=yield bi(this.fetch,`${this.url}/object/upload/sign/${u}`,{},{headers:p}),b=new URL(this.url+g.url),_=b.searchParams.get("token");if(!_)throw new Ck("No token returned by API");return{data:{signedUrl:b.toString(),path:s,token:_},error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}update(s,l,u){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,l,u)})}move(s,l,u){return on(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:l,destinationBucket:u==null?void 0:u.destinationBucket},{headers:this.headers}),error:null}}catch(p){if(Ct(p))return{data:null,error:p};throw p}})}copy(s,l,u){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield bi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:l,destinationBucket:u==null?void 0:u.destinationBucket},{headers:this.headers})).Key},error:null}}catch(p){if(Ct(p))return{data:null,error:p};throw p}})}createSignedUrl(s,l,u){return on(this,void 0,void 0,function*(){try{let p=this._getFinalPath(s),g=yield bi(this.fetch,`${this.url}/object/sign/${p}`,Object.assign({expiresIn:l},u!=null&&u.transform?{transform:u.transform}:{}),{headers:this.headers});const b=u!=null&&u.download?`&download=${u.download===!0?"":u.download}`:"";return g={signedUrl:encodeURI(`${this.url}${g.signedURL}${b}`)},{data:g,error:null}}catch(p){if(Ct(p))return{data:null,error:p};throw p}})}createSignedUrls(s,l,u){return on(this,void 0,void 0,function*(){try{const p=yield bi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:s},{headers:this.headers}),g=u!=null&&u.download?`&download=${u.download===!0?"":u.download}`:"";return{data:p.map(b=>Object.assign(Object.assign({},b),{signedUrl:b.signedURL?encodeURI(`${this.url}${b.signedURL}${g}`):null})),error:null}}catch(p){if(Ct(p))return{data:null,error:p};throw p}})}download(s,l){return on(this,void 0,void 0,function*(){const p=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",g=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),b=g?`?${g}`:"";try{const _=this._getFinalPath(s);return{data:yield(yield Iu(this.fetch,`${this.url}/${p}/${_}${b}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(_){if(Ct(_))return{data:null,error:_};throw _}})}info(s){return on(this,void 0,void 0,function*(){const l=this._getFinalPath(s);try{const u=yield Iu(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:wf(u),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}exists(s){return on(this,void 0,void 0,function*(){const l=this._getFinalPath(s);try{return yield P8(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(u){if(Ct(u)&&u instanceof bf){const p=u.originalError;if([400,404].includes(p==null?void 0:p.status))return{data:!1,error:u}}throw u}})}getPublicUrl(s,l){const u=this._getFinalPath(s),p=[],g=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";g!==""&&p.push(g);const _=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",k=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});k!==""&&p.push(k);let y=p.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${u}${y}`)}}}remove(s){return on(this,void 0,void 0,function*(){try{return{data:yield qS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}list(s,l,u){return on(this,void 0,void 0,function*(){try{const p=Object.assign(Object.assign(Object.assign({},O8),l),{prefix:s||""});return{data:yield bi(this.fetch,`${this.url}/object/list/${this.bucketId}`,p,{headers:this.headers},u),error:null}}catch(p){if(Ct(p))return{data:null,error:p};throw p}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const l=[];return s.width&&l.push(`width=${s.width}`),s.height&&l.push(`height=${s.height}`),s.resize&&l.push(`resize=${s.resize}`),s.format&&l.push(`format=${s.format}`),s.quality&&l.push(`quality=${s.quality}`),l.join("&")}}const R8="2.7.1",z8={"X-Client-Info":`storage-js/${R8}`};var fs=function(o,s,l,u){function p(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function _(E){try{y(u.next(E))}catch(D){b(D)}}function k(E){try{y(u.throw(E))}catch(D){b(D)}}function y(E){E.done?g(E.value):p(E.value).then(_,k)}y((u=u.apply(o,s||[])).next())})};class F8{constructor(s,l={},u){this.url=s,this.headers=Object.assign(Object.assign({},z8),l),this.fetch=$S(u)}listBuckets(){return fs(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(Ct(s))return{data:null,error:s};throw s}})}getBucket(s){return fs(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}createBucket(s,l={public:!1}){return fs(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}updateBucket(s,l){return fs(this,void 0,void 0,function*(){try{return{data:yield j8(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}emptyBucket(s){return fs(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}deleteBucket(s){return fs(this,void 0,void 0,function*(){try{return{data:yield qS(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(l){if(Ct(l))return{data:null,error:l};throw l}})}}class V8 extends F8{constructor(s,l={},u){super(s,l,u)}from(s){return new L8(this.url,this.headers,s,this.fetch)}}const U8="2.49.8";let al="";typeof Deno<"u"?al="deno":typeof document<"u"?al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?al="react-native":al="node";const H8={"X-Client-Info":`supabase-js-${al}/${U8}`},$8={headers:H8},q8={schema:"public"},W8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G8={};var K8=function(o,s,l,u){function p(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function _(E){try{y(u.next(E))}catch(D){b(D)}}function k(E){try{y(u.throw(E))}catch(D){b(D)}}function y(E){E.done?g(E.value):p(E.value).then(_,k)}y((u=u.apply(o,s||[])).next())})};const Y8=o=>{let s;return o?s=o:typeof fetch>"u"?s=TS:s=fetch,(...l)=>s(...l)},Q8=()=>typeof Headers>"u"?IS:Headers,J8=(o,s,l)=>{const u=Y8(l),p=Q8();return(g,b)=>K8(void 0,void 0,void 0,function*(){var _;const k=(_=yield s())!==null&&_!==void 0?_:o;let y=new p(b==null?void 0:b.headers);return y.has("apikey")||y.set("apikey",o),y.has("Authorization")||y.set("Authorization",`Bearer ${k}`),u(g,Object.assign(Object.assign({},b),{headers:y}))})};var Z8=function(o,s,l,u){function p(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function _(E){try{y(u.next(E))}catch(D){b(D)}}function k(E){try{y(u.throw(E))}catch(D){b(D)}}function y(E){E.done?g(E.value):p(E.value).then(_,k)}y((u=u.apply(o,s||[])).next())})};function X8(o){return o.endsWith("/")?o:o+"/"}function e9(o,s){var l,u;const{db:p,auth:g,realtime:b,global:_}=o,{db:k,auth:y,realtime:E,global:D}=s,C={db:Object.assign(Object.assign({},k),p),auth:Object.assign(Object.assign({},y),g),realtime:Object.assign(Object.assign({},E),b),global:Object.assign(Object.assign(Object.assign({},D),_),{headers:Object.assign(Object.assign({},(l=D==null?void 0:D.headers)!==null&&l!==void 0?l:{}),(u=_==null?void 0:_.headers)!==null&&u!==void 0?u:{})}),accessToken:()=>Z8(this,void 0,void 0,function*(){return""})};return o.accessToken?C.accessToken=o.accessToken:delete C.accessToken,C}const WS="2.69.1",ws=30*1e3,_f=3,pg=_f*ws,t9="http://localhost:9999",n9="supabase.auth.token",r9={"X-Client-Info":`gotrue-js/${WS}`},Af="X-Supabase-Api-Version",GS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o9=6e5;class yk extends Error{constructor(s,l,u){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=u}}function we(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class s9 extends yk{constructor(s,l,u){super(s,l,u),this.name="AuthApiError",this.status=l,this.code=u}}function a9(o){return we(o)&&o.name==="AuthApiError"}class KS extends yk{constructor(s,l){super(s),this.name="AuthUnknownError",this.originalError=l}}class Vi extends yk{constructor(s,l,u,p){super(s,u,p),this.name=l,this.status=u}}class mi extends Vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function l9(o){return we(o)&&o.name==="AuthSessionMissingError"}class mg extends Vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vd extends Vi{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Ud extends Vi{constructor(s,l=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c9(o){return we(o)&&o.name==="AuthImplicitGrantRedirectError"}class FE extends Vi{constructor(s,l=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vf extends Vi{constructor(s,l){super(s,"AuthRetryableFetchError",l,void 0)}}function gg(o){return we(o)&&o.name==="AuthRetryableFetchError"}class VE extends Vi{constructor(s,l,u){super(s,"AuthWeakPasswordError",l,"weak_password"),this.reasons=u}}class bl extends Vi{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const UE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HE=` 	
\r=`.split(""),d9=(()=>{const o=new Array(128);for(let s=0;s<o.length;s+=1)o[s]=-1;for(let s=0;s<HE.length;s+=1)o[HE[s].charCodeAt(0)]=-2;for(let s=0;s<UE.length;s+=1)o[UE[s].charCodeAt(0)]=s;return o})();function YS(o,s,l){const u=d9[o];if(u>-1)for(s.queue=s.queue<<6|u,s.queuedBits+=6;s.queuedBits>=8;)l(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function $E(o){const s=[],l=b=>{s.push(String.fromCodePoint(b))},u={utf8seq:0,codepoint:0},p={queue:0,queuedBits:0},g=b=>{p9(b,u,l)};for(let b=0;b<o.length;b+=1)YS(o.charCodeAt(b),p,g);return s.join("")}function u9(o,s){if(o<=127){s(o);return}else if(o<=2047){s(192|o>>6),s(128|o&63);return}else if(o<=65535){s(224|o>>12),s(128|o>>6&63),s(128|o&63);return}else if(o<=1114111){s(240|o>>18),s(128|o>>12&63),s(128|o>>6&63),s(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function h9(o,s){for(let l=0;l<o.length;l+=1){let u=o.charCodeAt(l);if(u>55295&&u<=56319){const p=(u-55296)*1024&65535;u=(o.charCodeAt(l+1)-56320&65535|p)+65536,l+=1}u9(u,s)}}function p9(o,s,l){if(s.utf8seq===0){if(o<=127){l(o);return}for(let u=1;u<6;u+=1)if(!(o>>7-u&1)){s.utf8seq=u;break}if(s.utf8seq===2)s.codepoint=o&31;else if(s.utf8seq===3)s.codepoint=o&15;else if(s.utf8seq===4)s.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|o&63,s.utf8seq-=1,s.utf8seq===0&&l(s.codepoint)}}function m9(o){const s=[],l={queue:0,queuedBits:0},u=p=>{s.push(p)};for(let p=0;p<o.length;p+=1)YS(o.charCodeAt(p),l,u);return new Uint8Array(s)}function g9(o){const s=[];return h9(o,l=>s.push(l)),new Uint8Array(s)}function f9(o){return Math.round(Date.now()/1e3)+o}function k9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const s=Math.random()*16|0;return(o=="x"?s:s&3|8).toString(16)})}const _r=()=>typeof window<"u"&&typeof document<"u",po={tested:!1,writable:!1},wl=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(po.tested)return po.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),po.tested=!0,po.writable=!0}catch{po.tested=!0,po.writable=!1}return po.writable};function b9(o){const s={},l=new URL(o);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((p,g)=>{s[g]=p})}catch{}return l.searchParams.forEach((u,p)=>{s[p]=u}),s}const QS=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Gs(async()=>{const{default:u}=await Promise.resolve().then(()=>Xs);return{default:u}},void 0).then(({default:u})=>u(...l)):s=fetch,(...l)=>s(...l)},w9=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",JS=async(o,s,l)=>{await o.setItem(s,JSON.stringify(l))},Hd=async(o,s)=>{const l=await o.getItem(s);if(!l)return null;try{return JSON.parse(l)}catch{return l}},$d=async(o,s)=>{await o.removeItem(s)};class ih{constructor(){this.promise=new ih.promiseConstructor((s,l)=>{this.resolve=s,this.reject=l})}}ih.promiseConstructor=Promise;function fg(o){const s=o.split(".");if(s.length!==3)throw new bl("Invalid JWT structure");for(let u=0;u<s.length;u++)if(!i9.test(s[u]))throw new bl("JWT not in base64url format");return{header:JSON.parse($E(s[0])),payload:JSON.parse($E(s[1])),signature:m9(s[2]),raw:{header:s[0],payload:s[1]}}}async function _9(o){return await new Promise(s=>{setTimeout(()=>s(null),o)})}function A9(o,s){return new Promise((u,p)=>{(async()=>{for(let g=0;g<1/0;g++)try{const b=await o(g);if(!s(g,null,b)){u(b);return}}catch(b){if(!s(g,b)){p(b);return}}})()})}function v9(o){return("0"+o.toString(16)).substr(-2)}function C9(){const s=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=l.length;let p="";for(let g=0;g<56;g++)p+=l.charAt(Math.floor(Math.random()*u));return p}return crypto.getRandomValues(s),Array.from(s,v9).join("")}async function y9(o){const l=new TextEncoder().encode(o),u=await crypto.subtle.digest("SHA-256",l),p=new Uint8Array(u);return Array.from(p).map(g=>String.fromCharCode(g)).join("")}async function x9(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const l=await y9(o);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ks(o,s,l=!1){const u=C9();let p=u;l&&(p+="/PASSWORD_RECOVERY"),await JS(o,`${s}-code-verifier`,p);const g=await x9(u);return[g,u===g?"plain":"s256"]}const E9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function D9(o){const s=o.headers.get(Af);if(!s||!s.match(E9))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function S9(o){if(!o)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(o<=s)throw new Error("JWT has expired")}function T9(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var I9=function(o,s){var l={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&s.indexOf(u)<0&&(l[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,u=Object.getOwnPropertySymbols(o);p<u.length;p++)s.indexOf(u[p])<0&&Object.prototype.propertyIsEnumerable.call(o,u[p])&&(l[u[p]]=o[u[p]]);return l};const ko=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),M9=[502,503,504];async function qE(o){var s;if(!w9(o))throw new vf(ko(o),0);if(M9.includes(o.status))throw new vf(ko(o),o.status);let l;try{l=await o.json()}catch(g){throw new KS(ko(g),g)}let u;const p=D9(o);if(p&&p.getTime()>=GS["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?u=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(u=l.error_code),u){if(u==="weak_password")throw new VE(ko(l),o.status,((s=l.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(u==="session_not_found")throw new mi}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((g,b)=>g&&typeof b=="string",!0))throw new VE(ko(l),o.status,l.weak_password.reasons);throw new s9(ko(l),o.status||500,u)}const N9=(o,s,l,u)=>{const p={method:o,headers:(s==null?void 0:s.headers)||{}};return o==="GET"?p:(p.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),p.body=JSON.stringify(u),Object.assign(Object.assign({},p),l))};async function Ee(o,s,l,u){var p;const g=Object.assign({},u==null?void 0:u.headers);g[Af]||(g[Af]=GS["2024-01-01"].name),u!=null&&u.jwt&&(g.Authorization=`Bearer ${u.jwt}`);const b=(p=u==null?void 0:u.query)!==null&&p!==void 0?p:{};u!=null&&u.redirectTo&&(b.redirect_to=u.redirectTo);const _=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",k=await B9(o,s,l+_,{headers:g,noResolveJson:u==null?void 0:u.noResolveJson},{},u==null?void 0:u.body);return u!=null&&u.xform?u==null?void 0:u.xform(k):{data:Object.assign({},k),error:null}}async function B9(o,s,l,u,p,g){const b=N9(s,u,p,g);let _;try{_=await o(l,Object.assign({},b))}catch(k){throw console.error(k),new vf(ko(k),0)}if(_.ok||await qE(_),u!=null&&u.noResolveJson)return _;try{return await _.json()}catch(k){await qE(k)}}function gi(o){var s;let l=null;L9(o)&&(l=Object.assign({},o),o.expires_at||(l.expires_at=f9(o.expires_in)));const u=(s=o.user)!==null&&s!==void 0?s:o;return{data:{session:l,user:u},error:null}}function WE(o){const s=gi(o);return!s.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0)&&(s.data.weak_password=o.weak_password),s}function Ai(o){var s;return{data:{user:(s=o.user)!==null&&s!==void 0?s:o},error:null}}function j9(o){return{data:o,error:null}}function P9(o){const{action_link:s,email_otp:l,hashed_token:u,redirect_to:p,verification_type:g}=o,b=I9(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),_={action_link:s,email_otp:l,hashed_token:u,redirect_to:p,verification_type:g},k=Object.assign({},b);return{data:{properties:_,user:k},error:null}}function O9(o){return o}function L9(o){return o.access_token&&o.refresh_token&&o.expires_in}var R9=function(o,s){var l={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&s.indexOf(u)<0&&(l[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,u=Object.getOwnPropertySymbols(o);p<u.length;p++)s.indexOf(u[p])<0&&Object.prototype.propertyIsEnumerable.call(o,u[p])&&(l[u[p]]=o[u[p]]);return l};class z9{constructor({url:s="",headers:l={},fetch:u}){this.url=s,this.headers=l,this.fetch=QS(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,l="global"){try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(u){if(we(u))return{data:null,error:u};throw u}}async inviteUserByEmail(s,l={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Ai})}catch(u){if(we(u))return{data:{user:null},error:u};throw u}}async generateLink(s){try{const{options:l}=s,u=R9(s,["options"]),p=Object.assign(Object.assign({},u),l);return"newEmail"in u&&(p.new_email=u==null?void 0:u.newEmail,delete p.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:p,headers:this.headers,xform:P9,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(we(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(s){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Ai})}catch(l){if(we(l))return{data:{user:null},error:l};throw l}}async listUsers(s){var l,u,p,g,b,_,k;try{const y={nextPage:null,lastPage:0,total:0},E=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(l=s==null?void 0:s.page)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:"",per_page:(g=(p=s==null?void 0:s.perPage)===null||p===void 0?void 0:p.toString())!==null&&g!==void 0?g:""},xform:O9});if(E.error)throw E.error;const D=await E.json(),C=(b=E.headers.get("x-total-count"))!==null&&b!==void 0?b:0,T=(k=(_=E.headers.get("link"))===null||_===void 0?void 0:_.split(","))!==null&&k!==void 0?k:[];return T.length>0&&(T.forEach(j=>{const O=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(j.split(";")[1].split("=")[1]);y[`${L}Page`]=O}),y.total=parseInt(C)),{data:Object.assign(Object.assign({},D),y),error:null}}catch(y){if(we(y))return{data:{users:[]},error:y};throw y}}async getUserById(s){try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Ai})}catch(l){if(we(l))return{data:{user:null},error:l};throw l}}async updateUserById(s,l){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:l,headers:this.headers,xform:Ai})}catch(u){if(we(u))return{data:{user:null},error:u};throw u}}async deleteUser(s,l=!1){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:l},xform:Ai})}catch(u){if(we(u))return{data:{user:null},error:u};throw u}}async _listFactors(s){try{const{data:l,error:u}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:p=>({data:{factors:p},error:null})});return{data:l,error:u}}catch(l){if(we(l))return{data:null,error:l};throw l}}async _deleteFactor(s){try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(l){if(we(l))return{data:null,error:l};throw l}}}const F9={getItem:o=>wl()?globalThis.localStorage.getItem(o):null,setItem:(o,s)=>{wl()&&globalThis.localStorage.setItem(o,s)},removeItem:o=>{wl()&&globalThis.localStorage.removeItem(o)}};function GE(o={}){return{getItem:s=>o[s]||null,setItem:(s,l)=>{o[s]=l},removeItem:s=>{delete o[s]}}}function V9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bs={debug:!!(globalThis&&wl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZS extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class U9 extends ZS{}async function H9(o,s,l){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,s);const u=new globalThis.AbortController;return s>0&&setTimeout(()=>{u.abort(),bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async p=>{if(p){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,p.name);try{return await l()}finally{bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,p.name)}}else{if(s===0)throw bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new U9(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(bs.debug)try{const g=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(g,null,"  "))}catch(g){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",g)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}V9();const $9={url:t9,storageKey:n9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function KE(o,s,l){return await l()}class Fl{constructor(s){var l,u;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fl.nextInstanceID,Fl.nextInstanceID+=1,this.instanceID>0&&_r()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const p=Object.assign(Object.assign({},$9),s);if(this.logDebugMessages=!!p.debug,typeof p.debug=="function"&&(this.logger=p.debug),this.persistSession=p.persistSession,this.storageKey=p.storageKey,this.autoRefreshToken=p.autoRefreshToken,this.admin=new z9({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=QS(p.fetch),this.lock=p.lock||KE,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.hasCustomAuthorizationHeader=p.hasCustomAuthorizationHeader,p.lock?this.lock=p.lock:_r()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=H9:this.lock=KE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?p.storage?this.storage=p.storage:wl()?this.storage=F9:(this.memoryStorage={},this.storage=GE(this.memoryStorage)):(this.memoryStorage={},this.storage=GE(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(g){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",g)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async g=>{this._debug("received broadcast notification from other tab or client",g),await this._notifyAllSubscribers(g.data.event,g.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WS}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const l=b9(window.location.href);let u="none";if(this._isImplicitGrantCallback(l)?u="implicit":await this._isPKCECallback(l)&&(u="pkce"),_r()&&this.detectSessionInUrl&&u!=="none"){const{data:p,error:g}=await this._getSessionFromURL(l,u);if(g){if(this._debug("#_initialize()","error detecting session from URL",g),c9(g)){const k=(s=g.details)===null||s===void 0?void 0:s.code;if(k==="identity_already_exists"||k==="identity_not_found"||k==="single_identity_not_deletable")return{error:g}}return await this._removeSession(),{error:g}}const{session:b,redirectType:_}=p;return this._debug("#_initialize()","detected session in URL",b,"redirect type",_),await this._saveSession(b),setTimeout(async()=>{_==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",b):await this._notifyAllSubscribers("SIGNED_IN",b)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return we(l)?{error:l}:{error:new KS("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var l,u,p;try{const g=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(l=s==null?void 0:s.options)===null||l===void 0?void 0:l.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(p=s==null?void 0:s.options)===null||p===void 0?void 0:p.captchaToken}},xform:gi}),{data:b,error:_}=g;if(_||!b)return{data:{user:null,session:null},error:_};const k=b.session,y=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:y,session:k},error:null}}catch(g){if(we(g))return{data:{user:null,session:null},error:g};throw g}}async signUp(s){var l,u,p;try{let g;if("email"in s){const{email:E,password:D,options:C}=s;let T=null,j=null;this.flowType==="pkce"&&([T,j]=await ks(this.storage,this.storageKey)),g=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:E,password:D,data:(l=C==null?void 0:C.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:T,code_challenge_method:j},xform:gi})}else if("phone"in s){const{phone:E,password:D,options:C}=s;g=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:E,password:D,data:(u=C==null?void 0:C.data)!==null&&u!==void 0?u:{},channel:(p=C==null?void 0:C.channel)!==null&&p!==void 0?p:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:gi})}else throw new Vd("You must provide either an email or phone number and a password");const{data:b,error:_}=g;if(_||!b)return{data:{user:null,session:null},error:_};const k=b.session,y=b.user;return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:y,session:k},error:null}}catch(g){if(we(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithPassword(s){try{let l;if("email"in s){const{email:g,password:b,options:_}=s;l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:g,password:b,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:WE})}else if("phone"in s){const{phone:g,password:b,options:_}=s;l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:g,password:b,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:WE})}else throw new Vd("You must provide either an email or phone number and a password");const{data:u,error:p}=l;return p?{data:{user:null,session:null},error:p}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new mg}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:p})}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(s){var l,u,p,g;return await this._handleProviderSignIn(s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=s.options)===null||u===void 0?void 0:u.scopes,queryParams:(p=s.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:(g=s.options)===null||g===void 0?void 0:g.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async _exchangeCodeForSession(s){const l=await Hd(this.storage,`${this.storageKey}-code-verifier`),[u,p]=(l??"").split("/");try{const{data:g,error:b}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:u},xform:gi});if(await $d(this.storage,`${this.storageKey}-code-verifier`),b)throw b;return!g||!g.session||!g.user?{data:{user:null,session:null,redirectType:null},error:new mg}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign(Object.assign({},g),{redirectType:p??null}),error:b})}catch(g){if(we(g))return{data:{user:null,session:null,redirectType:null},error:g};throw g}}async signInWithIdToken(s){try{const{options:l,provider:u,token:p,access_token:g,nonce:b}=s,_=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:p,access_token:g,nonce:b,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gi}),{data:k,error:y}=_;return y?{data:{user:null,session:null},error:y}:!k||!k.session||!k.user?{data:{user:null,session:null},error:new mg}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:k,error:y})}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(s){var l,u,p,g,b;try{if("email"in s){const{email:_,options:k}=s;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await ks(this.storage,this.storageKey));const{error:D}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:_,data:(l=k==null?void 0:k.data)!==null&&l!==void 0?l:{},create_user:(u=k==null?void 0:k.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:y,code_challenge_method:E},redirectTo:k==null?void 0:k.emailRedirectTo});return{data:{user:null,session:null},error:D}}if("phone"in s){const{phone:_,options:k}=s,{data:y,error:E}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:_,data:(p=k==null?void 0:k.data)!==null&&p!==void 0?p:{},create_user:(g=k==null?void 0:k.shouldCreateUser)!==null&&g!==void 0?g:!0,gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},channel:(b=k==null?void 0:k.channel)!==null&&b!==void 0?b:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:E}}throw new Vd("You must provide either an email or phone number.")}catch(_){if(we(_))return{data:{user:null,session:null},error:_};throw _}}async verifyOtp(s){var l,u;try{let p,g;"options"in s&&(p=(l=s.options)===null||l===void 0?void 0:l.redirectTo,g=(u=s.options)===null||u===void 0?void 0:u.captchaToken);const{data:b,error:_}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:g}}),redirectTo:p,xform:gi});if(_)throw _;if(!b)throw new Error("An error occurred on token verification.");const k=b.session,y=b.user;return k!=null&&k.access_token&&(await this._saveSession(k),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",k)),{data:{user:y,session:k},error:null}}catch(p){if(we(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSSO(s){var l,u,p;try{let g=null,b=null;return this.flowType==="pkce"&&([g,b]=await ks(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(u=(l=s.options)===null||l===void 0?void 0:l.redirectTo)!==null&&u!==void 0?u:void 0}),!((p=s==null?void 0:s.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:b}),headers:this.headers,xform:j9})}catch(g){if(we(g))return{data:null,error:g};throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;if(u)throw u;if(!l)throw new mi;const{error:p}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:p}})}catch(s){if(we(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const l=`${this.url}/resend`;if("email"in s){const{email:u,type:p,options:g}=s,{error:b}=await Ee(this.fetch,"POST",l,{headers:this.headers,body:{email:u,type:p,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:b}}else if("phone"in s){const{phone:u,type:p,options:g}=s,{data:b,error:_}=await Ee(this.fetch,"POST",l,{headers:this.headers,body:{phone:u,type:p,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}}});return{data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:_}}throw new Vd("You must provide either an email or phone number and a type")}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(s,l){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),p=(async()=>(await u,await l()))();return this.pendingInLock.push((async()=>{try{await p}catch{}})()),p}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=l();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const p=[...this.pendingInLock];await Promise.all(p),this.pendingInLock.splice(0,p.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await s(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const l=await Hd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?s=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const u=s.expires_at?s.expires_at*1e3-Date.now()<pg:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",s.expires_at),!u){if(this.storage.isServer){let b=this.suppressGetSessionWarning;s=new Proxy(s,{get:(k,y,E)=>(!b&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),b=!0,this.suppressGetSessionWarning=!0),Reflect.get(k,y,E))})}return{data:{session:s},error:null}}const{session:p,error:g}=await this._callRefreshToken(s.refresh_token);return g?{data:{session:null},error:g}:{data:{session:p},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Ai}):await this._useSession(async l=>{var u,p,g;const{data:b,error:_}=l;if(_)throw _;return!(!((u=b.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mi}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(g=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0,xform:Ai})})}catch(l){if(we(l))return l9(l)&&(await this._removeSession(),await $d(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(s,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,l))}async _updateUser(s,l={}){try{return await this._useSession(async u=>{const{data:p,error:g}=u;if(g)throw g;if(!p.session)throw new mi;const b=p.session;let _=null,k=null;this.flowType==="pkce"&&s.email!=null&&([_,k]=await ks(this.storage,this.storageKey));const{data:y,error:E}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:_,code_challenge_method:k}),jwt:b.access_token,xform:Ai});if(E)throw E;return b.user=y.user,await this._saveSession(b),await this._notifyAllSubscribers("USER_UPDATED",b),{data:{user:b.user},error:null}})}catch(u){if(we(u))return{data:{user:null},error:u};throw u}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new mi;const l=Date.now()/1e3;let u=l,p=!0,g=null;const{payload:b}=fg(s.access_token);if(b.exp&&(u=b.exp,p=u<=l),p){const{session:_,error:k}=await this._callRefreshToken(s.refresh_token);if(k)return{data:{user:null,session:null},error:k};if(!_)return{data:{user:null,session:null},error:null};g=_}else{const{data:_,error:k}=await this._getUser(s.access_token);if(k)throw k;g={access_token:s.access_token,refresh_token:s.refresh_token,user:_.user,token_type:"bearer",expires_in:u-l,expires_at:u},await this._saveSession(g),await this._notifyAllSubscribers("SIGNED_IN",g)}return{data:{user:g.user,session:g},error:null}}catch(l){if(we(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async l=>{var u;if(!s){const{data:b,error:_}=l;if(_)throw _;s=(u=b.session)!==null&&u!==void 0?u:void 0}if(!(s!=null&&s.refresh_token))throw new mi;const{session:p,error:g}=await this._callRefreshToken(s.refresh_token);return g?{data:{user:null,session:null},error:g}:p?{data:{user:p.user,session:p},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(s,l){try{if(!_r())throw new Ud("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Ud(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new FE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ud("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new FE("No code detected.");const{data:B,error:R}=await this._exchangeCodeForSession(s.code);if(R)throw R;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:p,access_token:g,refresh_token:b,expires_in:_,expires_at:k,token_type:y}=s;if(!g||!_||!b||!y)throw new Ud("No session defined in URL");const E=Math.round(Date.now()/1e3),D=parseInt(_);let C=E+D;k&&(C=parseInt(k));const T=C-E;T*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${D}s`);const j=C-D;E-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,C,E):E-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,C,E);const{data:O,error:L}=await this._getUser(g);if(L)throw L;const N={provider_token:u,provider_refresh_token:p,access_token:g,expires_in:D,expires_at:C,refresh_token:b,token_type:y,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:s.type},error:null}}catch(u){if(we(u))return{data:{session:null,redirectType:null},error:u};throw u}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const l=await Hd(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&l)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async l=>{var u;const{data:p,error:g}=l;if(g)return{error:g};const b=(u=p.session)===null||u===void 0?void 0:u.access_token;if(b){const{error:_}=await this.admin.signOut(b,s);if(_&&!(a9(_)&&(_.status===404||_.status===401||_.status===403)))return{error:_}}return s!=="others"&&(await this._removeSession(),await $d(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const l=k9(),u={id:l,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,u),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:u}}}async _emitInitialSession(s){return await this._useSession(async l=>{var u,p;try{const{data:{session:g},error:b}=l;if(b)throw b;await((u=this.stateChangeEmitters.get(s))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",g)),this._debug("INITIAL_SESSION","callback id",s,"session",g)}catch(g){await((p=this.stateChangeEmitters.get(s))===null||p===void 0?void 0:p.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",g),console.error(g)}})}async resetPasswordForEmail(s,l={}){let u=null,p=null;this.flowType==="pkce"&&([u,p]=await ks(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:u,code_challenge_method:p,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(g){if(we(g))return{data:null,error:g};throw g}}async getUserIdentities(){var s;try{const{data:l,error:u}=await this.getUser();if(u)throw u;return{data:{identities:(s=l.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(l){if(we(l))return{data:null,error:l};throw l}}async linkIdentity(s){var l;try{const{data:u,error:p}=await this._useSession(async g=>{var b,_,k,y,E;const{data:D,error:C}=g;if(C)throw C;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(b=s.options)===null||b===void 0?void 0:b.redirectTo,scopes:(_=s.options)===null||_===void 0?void 0:_.scopes,queryParams:(k=s.options)===null||k===void 0?void 0:k.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",T,{headers:this.headers,jwt:(E=(y=D.session)===null||y===void 0?void 0:y.access_token)!==null&&E!==void 0?E:void 0})});if(p)throw p;return _r()&&!(!((l=s.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u==null?void 0:u.url),{data:{provider:s.provider,url:u==null?void 0:u.url},error:null}}catch(u){if(we(u))return{data:{provider:s.provider,url:null},error:u};throw u}}async unlinkIdentity(s){try{return await this._useSession(async l=>{var u,p;const{data:g,error:b}=l;if(b)throw b;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(p=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&p!==void 0?p:void 0})})}catch(l){if(we(l))return{data:null,error:l};throw l}}async _refreshAccessToken(s){const l=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(l,"begin");try{const u=Date.now();return await A9(async p=>(p>0&&await _9(200*Math.pow(2,p-1)),this._debug(l,"refreshing attempt",p),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:gi})),(p,g)=>{const b=200*Math.pow(2,p);return g&&gg(g)&&Date.now()+b-u<ws})}catch(u){if(this._debug(l,"error",u),we(u))return{data:{session:null,user:null},error:u};throw u}finally{this._debug(l,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,l){const u=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",l,"url",u),_r()&&!l.skipBrowserRedirect&&window.location.assign(u),{data:{provider:s,url:u},error:null}}async _recoverAndRefresh(){var s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Hd(this.storage,this.storageKey);if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const p=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<pg;if(this._debug(l,`session has${p?"":" not"} expired with margin of ${pg}s`),p){if(this.autoRefreshToken&&u.refresh_token){const{error:g}=await this._callRefreshToken(u.refresh_token);g&&(console.error(g),gg(g)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(s){var l,u;if(!s)throw new mi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const p=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(p,"begin");try{this.refreshingDeferred=new ih;const{data:g,error:b}=await this._refreshAccessToken(s);if(b)throw b;if(!g.session)throw new mi;await this._saveSession(g.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",g.session);const _={session:g.session,error:null};return this.refreshingDeferred.resolve(_),_}catch(g){if(this._debug(p,"error",g),we(g)){const b={session:null,error:g};return gg(g)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(b),b}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(g),g}finally{this.refreshingDeferred=null,this._debug(p,"end")}}async _notifyAllSubscribers(s,l,u=!0){const p=`#_notifyAllSubscribers(${s})`;this._debug(p,"begin",l,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:s,session:l});const g=[],b=Array.from(this.stateChangeEmitters.values()).map(async _=>{try{await _.callback(s,l)}catch(k){g.push(k)}});if(await Promise.all(b),g.length>0){for(let _=0;_<g.length;_+=1)console.error(g[_]);throw g[0]}}finally{this._debug(p,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await JS(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await $d(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&_r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async l=>{const{data:{session:u}}=l;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const p=Math.floor((u.expires_at*1e3-s)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${p} ticks, a tick lasts ${ws}ms, refresh threshold is ${_f} ticks`),p<=_f&&await this._callRefreshToken(u.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof ZS)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const l=`#_onVisibilityChanged(${s})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,l,u){const p=[`provider=${encodeURIComponent(l)}`];if(u!=null&&u.redirectTo&&p.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u!=null&&u.scopes&&p.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[g,b]=await ks(this.storage,this.storageKey),_=new URLSearchParams({code_challenge:`${encodeURIComponent(g)}`,code_challenge_method:`${encodeURIComponent(b)}`});p.push(_.toString())}if(u!=null&&u.queryParams){const g=new URLSearchParams(u.queryParams);p.push(g.toString())}return u!=null&&u.skipBrowserRedirect&&p.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${s}?${p.join("&")}`}async _unenroll(s){try{return await this._useSession(async l=>{var u;const{data:p,error:g}=l;return g?{data:null,error:g}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(u=p==null?void 0:p.session)===null||u===void 0?void 0:u.access_token})})}catch(l){if(we(l))return{data:null,error:l};throw l}}async _enroll(s){try{return await this._useSession(async l=>{var u,p;const{data:g,error:b}=l;if(b)return{data:null,error:b};const _=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:k,error:y}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:_,headers:this.headers,jwt:(u=g==null?void 0:g.session)===null||u===void 0?void 0:u.access_token});return y?{data:null,error:y}:(s.factorType==="totp"&&(!((p=k==null?void 0:k.totp)===null||p===void 0)&&p.qr_code)&&(k.totp.qr_code=`data:image/svg+xml;utf-8,${k.totp.qr_code}`),{data:k,error:null})})}catch(l){if(we(l))return{data:null,error:l};throw l}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var u;const{data:p,error:g}=l;if(g)return{data:null,error:g};const{data:b,error:_}=await Ee(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(u=p==null?void 0:p.session)===null||u===void 0?void 0:u.access_token});return _?{data:null,error:_}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),{data:b,error:_})})}catch(l){if(we(l))return{data:null,error:l};throw l}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var u;const{data:p,error:g}=l;return g?{data:null,error:g}:await Ee(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(u=p==null?void 0:p.session)===null||u===void 0?void 0:u.access_token})})}catch(l){if(we(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(s){const{data:l,error:u}=await this._challenge({factorId:s.factorId});return u?{data:null,error:u}:await this._verify({factorId:s.factorId,challengeId:l.id,code:s.code})}async _listFactors(){const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const u=(s==null?void 0:s.factors)||[],p=u.filter(b=>b.factor_type==="totp"&&b.status==="verified"),g=u.filter(b=>b.factor_type==="phone"&&b.status==="verified");return{data:{all:u,totp:p,phone:g},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var l,u;const{data:{session:p},error:g}=s;if(g)return{data:null,error:g};if(!p)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:b}=fg(p.access_token);let _=null;b.aal&&(_=b.aal);let k=_;((u=(l=p.user.factors)===null||l===void 0?void 0:l.filter(D=>D.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(k="aal2");const E=b.amr||[];return{data:{currentLevel:_,nextLevel:k,currentAuthenticationMethods:E},error:null}}))}async fetchJwk(s,l={keys:[]}){let u=l.keys.find(b=>b.kid===s);if(u||(u=this.jwks.keys.find(b=>b.kid===s),u&&this.jwks_cached_at+o9>Date.now()))return u;const{data:p,error:g}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;if(!p.keys||p.keys.length===0)throw new bl("JWKS is empty");if(this.jwks=p,this.jwks_cached_at=Date.now(),u=p.keys.find(b=>b.kid===s),!u)throw new bl("No matching signing key found in JWKS");return u}async getClaims(s,l={keys:[]}){try{let u=s;if(!u){const{data:T,error:j}=await this.getSession();if(j||!T.session)return{data:null,error:j};u=T.session.access_token}const{header:p,payload:g,signature:b,raw:{header:_,payload:k}}=fg(u);if(S9(g.exp),!p.kid||p.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:T}=await this.getUser(u);if(T)throw T;return{data:{claims:g,header:p,signature:b},error:null}}const y=T9(p.alg),E=await this.fetchJwk(p.kid,l),D=await crypto.subtle.importKey("jwk",E,y,!0,["verify"]);if(!await crypto.subtle.verify(y,D,b,g9(`${_}.${k}`)))throw new bl("Invalid JWT signature");return{data:{claims:g,header:p,signature:b},error:null}}catch(u){if(we(u))return{data:null,error:u};throw u}}}Fl.nextInstanceID=0;const q9=Fl;class W9 extends q9{constructor(s){super(s)}}var G9=function(o,s,l,u){function p(g){return g instanceof l?g:new l(function(b){b(g)})}return new(l||(l=Promise))(function(g,b){function _(E){try{y(u.next(E))}catch(D){b(D)}}function k(E){try{y(u.throw(E))}catch(D){b(D)}}function y(E){E.done?g(E.value):p(E.value).then(_,k)}y((u=u.apply(o,s||[])).next())})};class K9{constructor(s,l,u){var p,g,b;if(this.supabaseUrl=s,this.supabaseKey=l,!s)throw new Error("supabaseUrl is required.");if(!l)throw new Error("supabaseKey is required.");const _=X8(s),k=new URL(_);this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const y=`sb-${k.hostname.split(".")[0]}-auth-token`,E={db:q8,realtime:G8,auth:Object.assign(Object.assign({},W8),{storageKey:y}),global:$8},D=e9(u??{},E);this.storageKey=(p=D.auth.storageKey)!==null&&p!==void 0?p:"",this.headers=(g=D.global.headers)!==null&&g!==void 0?g:{},D.accessToken?(this.accessToken=D.accessToken,this.auth=new Proxy({},{get:(C,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((b=D.auth)!==null&&b!==void 0?b:{},this.headers,D.global.fetch),this.fetch=J8(l,this._getAccessToken.bind(this),D.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},D.realtime)),this.rest=new h8(new URL("rest/v1",k).href,{headers:this.headers,schema:D.db.schema,fetch:this.fetch}),D.accessToken||this._listenForAuthEvents()}get functions(){return new U7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new V8(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,l={},u={}){return this.rest.rpc(s,l,u)}channel(s,l={config:{}}){return this.realtime.channel(s,l)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,l;return G9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:u}=yield this.auth.getSession();return(l=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:l,detectSessionInUrl:u,storage:p,storageKey:g,flowType:b,lock:_,debug:k},y,E){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W9({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),y),storageKey:g,autoRefreshToken:s,persistSession:l,detectSessionInUrl:u,storage:p,flowType:b,lock:_,debug:k,fetch:E,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new D8(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,u)=>{this._handleTokenChanged(l,"CLIENT",u==null?void 0:u.access_token)})}_handleTokenChanged(s,l,u){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==u?this.changedAccessToken=u:s==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y9=(o,s,l)=>new K9(o,s,l),Q9="https://mqatlqpxvtpdbkjfqohp.supabase.co",J9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1xYXRscXB4dnRwZGJramZxb2hwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTM4NTUsImV4cCI6MjA2MzM4OTg1NX0.WZOo8IVDUWkMPSbbQDg-tvaXc4x7QKLI4W1YZ8k6lPg",_e=Y9(Q9,J9,{auth:{persistSession:!0,autoRefreshToken:!0},global:{headers:{}},db:{schema:"public"},realtime:{timeout:2e4}}),Z9=()=>{const[o,s]=V.useState(null),[l,u]=V.useState(!1),[p,g]=V.useState([]),[b,_]=V.useState(!0),[k,y]=V.useState({}),E=V.useRef({}),D=Vn();V.useEffect(()=>{C()},[]),V.useEffect(()=>{const L=()=>{const N={};Object.entries(E.current).forEach(([B,R])=>{if(R){const H=parseInt(window.getComputedStyle(R).lineHeight);N[B]=R.scrollHeight>H*5}}),y(N)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[p,o]);const C=async()=>{try{const{data:L,error:N}=await _e.from("notices").select("*").eq("is_visible",!0).order("created_at",{ascending:!1});if(N)throw N;g(L||[])}catch(L){console.error("Error fetching notices:",L)}finally{_(!1)}},T=L=>{s(o===L?null:L)},j=L=>{window.scrollTo(0,0),D(`/notice/${L}`)},O=l?p:p.slice(0,3);return b?A.jsx("section",{id:"notice",className:"py-16 sm:py-20 bg-gray-50",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-4 text-blue-900",children:""}),A.jsx("p",{className:"text-center text-gray-600 mb-8 sm:mb-12",children:"HB   "}),A.jsx("div",{className:"max-w-3xl mx-auto text-center",children:A.jsx("p",{className:"text-gray-500",children:" ..."})})]})}):A.jsx("section",{id:"notice",className:"py-16 sm:py-20 bg-gray-50",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-4 text-blue-900",children:""}),A.jsx("p",{className:"text-center text-gray-600 mb-8 sm:mb-12",children:"HB   "}),A.jsxs("div",{className:"max-w-3xl mx-auto",children:[O.length===0?A.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[A.jsx(Tu,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-500",children:"  ."})]}):O.map(L=>{const N=new Date;N.setDate(N.getDate()-14);const B=new Date(L.created_at)>N;return A.jsxs("div",{className:"mb-4 bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md",children:[A.jsx("div",{className:"p-5 cursor-pointer",onClick:()=>T(L.id),children:A.jsxs("div",{className:"flex items-start",children:[A.jsx(Tu,{className:"h-5 w-5 text-red-600 mr-4 mt-1 flex-shrink-0"}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:L.title}),B&&A.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"NEW"})]}),o===L.id?A.jsx(BE,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}):A.jsx(NE,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}),A.jsx("p",{className:"text-sm text-gray-500",children:new Date(L.created_at).toLocaleDateString()})]})]})}),A.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden bg-gray-50 ${o===L.id?"max-h-[500px]":"max-h-0"}`,children:A.jsxs("div",{className:"p-5 border-t border-gray-100",children:[A.jsx("div",{ref:R=>E.current[L.id]=R,className:"text-gray-700 leading-relaxed mb-4 overflow-hidden rich-text-content",dangerouslySetInnerHTML:{__html:L.content}}),A.jsxs("button",{onClick:R=>{R.stopPropagation(),j(L.id)},className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[" ",A.jsx(x7,{className:"h-4 w-4 ml-1"})]})]})})]},L.id)}),p.length>3&&A.jsx("div",{className:"text-center mt-8",children:A.jsx("button",{onClick:()=>u(!l),className:"inline-flex items-center px-6 py-3 bg-white border border-gray-200 rounded-full text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all duration-300 shadow-sm hover:shadow",children:l?A.jsxs(A.Fragment,{children:["",A.jsx(BE,{className:"ml-2 h-4 w-4"})]}):A.jsxs(A.Fragment,{children:["",A.jsx(NE,{className:"ml-2 h-4 w-4"})]})})})]})]})})},X9=()=>A.jsx("section",{id:"pricing",className:"py-20 bg-white",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsx("h2",{className:"text-3xl font-bold text-center mb-4 text-blue-900",children:" "}),A.jsx("p",{className:"text-center text-gray-600 mb-12 max-w-2xl mx-auto",children:"HB     "}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[A.jsxs("div",{className:"bg-gray-50 rounded-2xl shadow-lg overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[A.jsxs("div",{className:"bg-blue-900 text-white p-6",children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(DS,{className:"h-6 w-6 mr-2"}),A.jsx("h3",{className:"text-xl font-bold",children:" "})]}),A.jsx("p",{className:"text-blue-100 text-sm",children:"     "})]}),A.jsx("div",{className:"p-6",children:A.jsxs("ul",{className:"space-y-4",children:[A.jsxs("li",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block font-semibold text-gray-800",children:"1  (20)"}),A.jsx("span",{className:"text-sm text-gray-500",children:"    "})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:"block line-through text-gray-400 text-sm",children:"2,000"}),A.jsx("span",{className:"block text-red-600 font-bold",children:""})]})]}),A.jsxs("li",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block font-semibold text-gray-800",children:"30 "}),A.jsx("span",{className:"text-sm text-gray-500",children:"    "})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:"block line-through text-gray-400 text-sm",children:"7,000"}),A.jsx("span",{className:"block text-red-600 font-bold",children:"5,000"})]})]}),A.jsxs("li",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block font-semibold text-gray-800",children:"60 "}),A.jsx("span",{className:"text-sm text-gray-500",children:"   "})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:"block line-through text-gray-400 text-sm",children:"12,000"}),A.jsx("span",{className:"block text-red-600 font-bold",children:"9,000"})]})]})]})})]}),A.jsxs("div",{className:"bg-gray-50 rounded-2xl shadow-lg overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[A.jsxs("div",{className:"bg-red-600 text-white p-6",children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(C7,{className:"h-6 w-6 mr-2"}),A.jsx("h3",{className:"text-xl font-bold",children:" "})]}),A.jsx("p",{className:"text-red-100 text-sm",children:"      "})]}),A.jsx("div",{className:"p-6",children:A.jsxs("ul",{className:"space-y-4",children:[A.jsxs("li",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block font-semibold text-gray-800",children:" 1 ( 4)"}),A.jsx("span",{className:"text-sm text-gray-500",children:"  "})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:"block text-gray-800",children:" 100,000"}),A.jsx("span",{className:"block text-gray-800",children:" 150,000"})]})]}),A.jsxs("li",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block font-semibold text-gray-800",children:" 2 ( 8)"}),A.jsx("span",{className:"text-sm text-gray-500",children:"    "})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:"block text-gray-800",children:" 200,000"}),A.jsx("span",{className:"block text-gray-800",children:" 250,000"})]})]}),A.jsxs("li",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block font-semibold text-gray-800",children:" 3 ( 12)"}),A.jsx("span",{className:"text-sm text-gray-500",children:"   "})]}),A.jsx("div",{className:"text-right",children:A.jsx("span",{className:"block text-gray-800",children:" 300,000"})})]})]})})]})]}),A.jsx("div",{className:"mt-10 text-center",children:A.jsxs("div",{className:"inline-flex items-center bg-blue-50 text-blue-800 rounded-full px-4 py-2",children:[A.jsx(v7,{className:"h-5 w-5 mr-2 text-blue-600"}),A.jsx("span",{className:"font-medium",children:"    10%  "})]})})]})}),eV=()=>{const o=36.361505,s=127.378769,l=V.useRef(null);return V.useEffect(()=>{const u=()=>{if(window.naver&&window.naver.maps&&l.current){const p={center:new window.naver.maps.LatLng(o,s),zoom:16,mapTypeControl:!1,scaleControl:!1,logoControl:!1,mapDataControl:!1,zoomControl:!1,draggable:!1,scrollWheel:!1,disableDoubleClickZoom:!0,disableKineticPan:!0,keyboardShortcuts:!1},g=new window.naver.maps.Map(l.current,p),b=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(o,s),map:g,title:"HB"}),_=new window.naver.maps.InfoWindow({content:`
            <div style="padding: 10px; font-size: 14px; line-height: 1.4;">
              <strong>HB</strong><br>
                317 20<br>
               5
            </div>
          `});window.naver.maps.Event.addListener(b,"click",()=>{_.getMap()?_.close():_.open(g,b)})}};if(window.naver)u();else{const p=document.createElement("script");p.src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=ilf4jfuu23",p.onload=u,document.head.appendChild(p)}},[o,s]),A.jsx("section",{id:"location",className:"py-20 bg-gray-50",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-blue-900",children:" "}),A.jsx("div",{className:"max-w-5xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden",children:A.jsxs("div",{className:"flex flex-col md:flex-row",children:[A.jsxs("div",{className:"md:w-3/5 h-80 md:h-auto relative",children:[A.jsx("div",{ref:l,className:"w-full h-full",style:{minHeight:"320px"}}),A.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex justify-center gap-2",children:[A.jsx("a",{href:"https://map.naver.com/p/directions/-/-/-/transit?c=15.00,0,0,0,dh&destination=place%2F16292781",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-900 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-800 transition-colors",children:""}),A.jsx("a",{href:"https://map.naver.com/p/entry/place/16292781",target:"_blank",rel:"noopener noreferrer",className:"bg-white border border-blue-900 text-blue-900 px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-50 transition-colors",children:" "})]})]}),A.jsxs("div",{className:"md:w-2/5 p-6 md:p-8",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:" "}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex",children:[A.jsx(S7,{className:"h-5 w-5 text-blue-900 mr-3 flex-shrink-0 mt-1"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:""}),A.jsx("p",{className:"text-gray-700",children:"  317 20  5"}),A.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"( 3   11)"})]})]}),A.jsxs("div",{className:"flex",children:[A.jsx(y7,{className:"h-5 w-5 text-blue-900 mr-3 flex-shrink-0 mt-1"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:""}),A.jsx("p",{className:"text-gray-700",children:"   2 "})]})]}),A.jsxs("div",{className:"flex",children:[A.jsx(DS,{className:"h-5 w-5 text-blue-900 mr-3 flex-shrink-0 mt-1"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:""}),A.jsx("p",{className:"text-gray-700",children:"10:00 - 22:00 ()"})]})]})]})]})]})})]})})},tV=()=>A.jsx("section",{id:"contact",className:"py-16 sm:py-20 bg-blue-900 text-white",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-2",children:" "}),A.jsx("p",{className:"text-center text-blue-200 mb-8 sm:mb-12 px-4",children:"    "}),A.jsx("div",{className:"max-w-2xl mx-auto",children:A.jsxs("div",{className:"bg-white/10 rounded-xl sm:rounded-2xl p-6 sm:p-8 backdrop-blur-sm",children:[A.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[A.jsx("p",{className:"text-blue-100 mb-2",children:""}),A.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white",children:"10:00 - 22:00 ()"}),A.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-4 text-white",children:"010-8246-0314"})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("a",{href:"tel:010-8246-0314",className:"bg-red-600 text-white rounded-lg sm:rounded-xl flex items-center justify-center p-4 hover:bg-red-700 transition-colors shadow-lg",children:[A.jsx(M7,{className:"h-5 w-5 mr-2"}),A.jsx("span",{className:"font-bold",children:" "})]}),A.jsxs("a",{href:"https://open.kakao.com/o/sTsBwJwh",target:"_blank",rel:"noopener noreferrer",className:"bg-yellow-400 text-gray-900 rounded-lg sm:rounded-xl flex items-center justify-center p-4 hover:bg-yellow-500 transition-colors shadow-lg",children:[A.jsx(I7,{className:"h-5 w-5 mr-2"}),A.jsx("span",{className:"font-bold",children:" "})]})]})]})})]})}),nV=()=>{const o=Vn(),s=()=>{window.scrollTo(0,0),o("/admin/login")};return A.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:[A.jsxs("div",{className:"flex items-center mb-6 md:mb-0",children:[A.jsx("img",{src:xS,alt:"HB ",className:"h-8 w-8 mr-2"}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-xl font-bold text-white",children:"HB"}),A.jsx("p",{className:"text-sm",children:"  317 20  5"})]})]}),A.jsxs("div",{className:"text-center md:text-right",children:[A.jsx("p",{className:"text-sm cursor-pointer hover:text-gray-300 transition-colors",onClick:s,children:": 203-82-73001"}),A.jsx("p",{className:"text-sm",children:": "})]})]}),A.jsx("div",{className:"border-t border-gray-800 pt-6 text-center",children:A.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," HB. All rights reserved."]})})]})})},rV=()=>{const{showAnimation:o}=wk(),[s,l]=ir.useState(0);return ir.useEffect(()=>{o&&(l(0),setTimeout(()=>l(1),200),setTimeout(()=>l(2),1500))},[o]),o?A.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70",style:{transition:"all 1000ms cubic-bezier(0.4, 0, 0.2, 1)"},children:A.jsx("div",{className:`text-center transition-all duration-1000 ease-in-out transform
          ${s===1?"scale-100 opacity-100":s<1?"scale-90 opacity-0":"scale-150 opacity-0"}`,style:{transition:"all 1000ms cubic-bezier(0.4, 0, 0.2, 1)"},children:A.jsx("h2",{className:"text-2xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-white",children:"  "})})}):null},iV=()=>{const{id:o}=Ju(),[s,l]=V.useState(null),[u,p]=V.useState(null),[g,b]=V.useState(!0),_=Vn(),k=async()=>{if(console.log("[NoticeDetail] fetchNotice called. ID from closure:",o),!o){console.warn("[NoticeDetail] fetchNotice called without an ID. Aborting fetch."),l(null),p(null),console.log("[NoticeDetail] Setting loading to false (id is null/undefined)"),b(!1);return}console.log(`[NoticeDetail] Proceeding to fetch notice for ID: ${o}. Setting loading to true.`),b(!0);try{console.log(`[NoticeDetail] Attempting to fetch notice for ID: ${o} from Supabase.`),console.log(`[NoticeDetail] Preparing Supabase query for notices, ID: ${o}.`);const E=_e.from("notices").select("*").eq("id",o).single();console.log(`[NoticeDetail] Supabase notice query promise created for ID: ${o}. Awaiting...`);const{data:D,error:C}=await E;if(console.log(`[NoticeDetail] Supabase notice query awaited for ID: ${o}. Error: ${JSON.stringify(C)}, HasData: ${!!D}`),C)console.error("Error fetching notice data:",C),l(null),p(null);else if(l(D),D&&D.business_id)try{const{data:T,error:j}=await _e.from("businesses").select("*").eq("id",D.business_id).limit(1);j?(console.error("Error fetching business data specifically:",j),p(null)):T&&T.length>0?p(T[0]):(console.warn(`[NoticeDetail] Business not found for id: ${D.business_id}`),p(null))}catch(T){console.error("Error during business data fetch (inner catch):",T),p(null)}else p(null)}catch(E){console.error("Overall error in fetchNotice (outer catch):",E),l(null),p(null)}finally{console.log("[NoticeDetail] fetchNotice finished. Attempting to set loading to false."),b(!1)}};V.useEffect(()=>{console.log("[NoticeDetail] useEffect runs. Current ID from useParams:",o),console.log("[NoticeDetail] Initial call to fetchNotice from useEffect."),k();const{data:E}=_e.auth.onAuthStateChange(async(D,C)=>{console.log(`[NoticeDetail Auth] Event: ${D}, Session: ${C?"exists":"null"}. Current ID: ${o}`),D==="SIGNED_IN"||D==="TOKEN_REFRESHED"||D==="INITIAL_SESSION"?(console.log(`[NoticeDetail Auth] Relevant auth event ${D}. Preparing to call fetchNotice.`),(D==="SIGNED_IN"||D==="TOKEN_REFRESHED")&&(console.log(`[NoticeDetail Auth] Adding 100ms delay for ${D} before calling fetchNotice.`),await new Promise(T=>setTimeout(T,100)),console.log(`[NoticeDetail Auth] Delay finished for ${D}. Now calling fetchNotice.`)),await k()):D==="SIGNED_OUT"&&(console.log("[NoticeDetail Auth] User SIGNED_OUT. Setting loading to false."),b(!1))});return()=>{console.log("[NoticeDetail] Cleaning up onAuthStateChange listener."),E&&E.subscription&&E.subscription.unsubscribe()}},[o,_e]);const y=E=>{E.preventDefault(),_("/")};return g?A.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:A.jsx("div",{className:"max-w-3xl mx-auto px-4",children:A.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:" ..."})})}):s?A.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:A.jsx("div",{className:"max-w-3xl mx-auto px-4",children:A.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:A.jsxs("div",{className:"p-6 sm:p-8",children:[A.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-blue-900 mb-3",children:s.title}),A.jsx("p",{className:"text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]}),A.jsx("div",{className:"prose max-w-none mb-8 rich-text-content",dangerouslySetInnerHTML:{__html:s.content}}),u&&u.status==="recruiting"&&A.jsx("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg",children:A.jsxs("div",{className:"flex items-start space-x-3",children:[A.jsx(ES,{className:"h-5 w-5 text-blue-600 mt-1"}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-medium text-blue-900",children:u.name}),A.jsxs("p",{className:"mt-1 text-sm text-blue-800",children:[new Date(u.start_date).toLocaleDateString()," ~ ",new Date(u.end_date).toLocaleDateString()]}),A.jsx("p",{className:"mt-2 text-blue-800",children:u.description}),A.jsx(cg,{to:"/apply",state:{businessId:u.id,businessName:u.name},className:"inline-block mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})]})}),A.jsx("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:A.jsxs(cg,{to:"/",onClick:y,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:[A.jsx(Rs,{className:"h-4 w-4 mr-2"}),""]})})]})})})}):A.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:A.jsx("div",{className:"max-w-3xl mx-auto px-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[A.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-4",children:"  ."}),A.jsxs(cg,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[A.jsx(Rs,{className:"h-4 w-4 mr-2"})," "]})]})})})},oV=()=>{const o=Vn(),s=Qr(),l=s.state,[u,p]=V.useState([]),[g,b]=V.useState(null),[_,k]=V.useState(!0),[y,E]=V.useState({name:"",birthYear:"",birthMonth:"",birthDay:"",gender:"",phone:""}),[D,C]=V.useState("");V.useEffect(()=>{(async()=>{try{k(!0);const{data:L,error:N}=await _e.from("businesses").select("*").eq("status","recruiting").order("created_at",{ascending:!1});if(N)throw N;const B=L||[];if(p(B),l!=null&&l.businessId){const Y=B.find(M=>M.id===l.businessId);if(Y){b(Y),console.log("[ApplicationForm] Business selected from state:",Y.name),k(!1);return}else console.warn(`[ApplicationForm] Business with ID ${l.businessId} from state not found or not recruiting.`)}const R=new URLSearchParams(s.search),H=R.get("noticeId"),q=R.get("businessId");if(H){const{data:Y,error:M}=await _e.from("notices").select("business_id").eq("id",H).single();if(M)throw M;if(Y!=null&&Y.business_id){const $=B.find(re=>re.id===Y.business_id);$?b($):console.warn(`[ApplicationForm] Business linked to notice ${H} not found or not recruiting.`)}}else if(q){const Y=B.find(M=>M.id===q);Y?b(Y):console.warn(`[ApplicationForm] Business with ID ${q} from URL param not found or not recruiting.`)}}catch(L){console.error("Error fetching data:",L),C("    .")}finally{_&&k(!1)}})()},[s,l]);const T=async O=>{O.preventDefault(),k(!0),C("");try{if(!g)throw new Error(" .");const L=`${y.birthYear}-${y.birthMonth.padStart(2,"0")}-${y.birthDay.padStart(2,"0")}`,{data:N,error:B}=await _e.from("applications").select("id").eq("business_id",g.id).eq("name",y.name).eq("phone",y.phone);if(B)throw B;if(N&&N.length>0){C("      ."),k(!1);return}const{error:R}=await _e.from("applications").insert([{business_id:g.id,name:y.name,birthdate:L,gender:y.gender,phone:y.phone,status:"pending"}]);if(R)throw R;alert(" ."),o("/")}catch(L){C(L.message||"   .  ."),console.error("Error submitting application:",L)}finally{k(!1)}},j=O=>{const{name:L,value:N}=O.target;E(B=>({...B,[L]:N}))};if(_)return A.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:A.jsx("div",{className:"max-w-2xl mx-auto px-4",children:A.jsx("p",{className:"text-center",children:" ..."})})});if(g){if(g.status==="draft")return A.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:A.jsx("div",{className:"max-w-2xl mx-auto px-4",children:A.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[A.jsx("h2",{className:"text-xl font-bold text-yellow-800 mb-2",children:"   "}),A.jsx("p",{className:"text-yellow-700 mb-4",children:"      ."}),A.jsxs("button",{onClick:()=>o("/"),className:"inline-flex items-center px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200",children:[A.jsx(Rs,{className:"h-4 w-4 mr-2"})," "]})]})})});if(g.status==="closed"||g.status==="completed")return A.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:A.jsx("div",{className:"max-w-2xl mx-auto px-4",children:A.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[A.jsx("h2",{className:"text-xl font-bold text-blue-800 mb-2",children:" "}),A.jsx("p",{className:"text-blue-700 mb-4",children:"     ."}),A.jsxs("button",{onClick:()=>o("/"),className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200",children:[A.jsx(Rs,{className:"h-4 w-4 mr-2"})," "]})]})})})}return A.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-32",children:A.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[A.jsxs("div",{className:"mb-8",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-blue-900",children:" "}),A.jsxs("button",{onClick:()=>o(-1),className:"inline-flex items-center text-gray-600 hover:text-gray-800",children:[A.jsx(Rs,{className:"h-5 w-5 mr-1"}),A.jsx("span",{children:""})]})]}),A.jsx("p",{className:"text-gray-600",children:"    ."})]}),D&&A.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6",children:D}),A.jsxs("form",{onSubmit:T,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["  ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsxs("select",{value:(g==null?void 0:g.id)||"",onChange:O=>{const L=u.find(N=>N.id===O.target.value);b(L||null)},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",required:!0,children:[A.jsx("option",{value:"",children:" "}),u.map(O=>A.jsxs("option",{value:O.id,children:[O.name," (",new Date(O.start_date).toLocaleDateString()," ~ ",new Date(O.end_date).toLocaleDateString(),")"]},O.id))]}),g&&A.jsx("div",{className:"mt-3 p-4 bg-gray-50 rounded-lg",children:A.jsx("p",{className:"text-sm text-gray-600",children:g.description})})]}),A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:[" ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:j,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:[" ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[A.jsx("div",{children:A.jsx("input",{type:"text",name:"birthYear",value:y.birthYear,onChange:j,placeholder:"YYYY",maxLength:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),A.jsx("div",{children:A.jsx("input",{type:"text",name:"birthMonth",value:y.birthMonth,onChange:j,placeholder:"MM",maxLength:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),A.jsx("div",{children:A.jsx("input",{type:"text",name:"birthDay",value:y.birthDay,onChange:j,placeholder:"DD",maxLength:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})})]})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:[" ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",name:"gender",value:"male",checked:y.gender==="male",onChange:j,className:"h-4 w-4 text-blue-600 focus:ring-blue-500",required:!0}),A.jsx("span",{className:"ml-2",children:""})]}),A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",name:"gender",value:"female",checked:y.gender==="female",onChange:j,className:"h-4 w-4 text-blue-600 focus:ring-blue-500",required:!0}),A.jsx("span",{className:"ml-2",children:""})]})]})]}),A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"phone",className:"block text-gray-700 font-medium mb-2",children:[" ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{type:"tel",id:"phone",name:"phone",value:y.phone,onChange:j,placeholder:"010-0000-0000",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx("button",{type:"submit",disabled:_,className:`flex-1 bg-blue-900 text-white py-3 rounded-lg transition-colors ${_?"opacity-50 cursor-not-allowed":"hover:bg-blue-800"}`,children:_?" ...":""}),A.jsx("button",{type:"button",onClick:()=>o(-1),className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 transition-colors",children:""})]})]})]})})},sV=()=>{const[o,s]=V.useState(""),[l,u]=V.useState(""),[p,g]=V.useState(!1),[b,_]=V.useState(""),[k,y]=V.useState(!1),E=Vn();V.useEffect(()=>{const C=localStorage.getItem("savedAdminEmail");C&&(s(C),g(!0))},[]);const D=async C=>{C.preventDefault(),y(!0),_("");try{const{data:T,error:j}=await _e.auth.signInWithPassword({email:o,password:l});if(j)throw j;T.user&&(p?localStorage.setItem("savedAdminEmail",o):localStorage.removeItem("savedAdminEmail"),E("/admin/dashboard"))}catch{_(" .   .")}finally{y(!1)}};return A.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:A.jsxs("div",{className:"max-w-md mx-auto px-4",children:[A.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[A.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:" "}),A.jsxs("button",{onClick:()=>E("/"),className:"text-gray-600 hover:text-gray-800 flex items-center",children:[A.jsx(Rs,{className:"h-5 w-5 mr-1"}),""]})]}),b&&A.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6",children:b}),A.jsxs("form",{onSubmit:D,className:"bg-white rounded-lg shadow-md p-6",children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:""}),A.jsx("input",{type:"email",id:"email",value:o,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),A.jsxs("div",{className:"mb-4 flex items-center",children:[A.jsx("input",{type:"checkbox",id:"rememberMe",checked:p,onChange:C=>g(C.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),A.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-900",children:" "})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-2",children:""}),A.jsx("input",{type:"password",id:"password",value:l,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),A.jsx("button",{type:"submit",disabled:k,className:`w-full bg-blue-900 text-white py-3 rounded-lg hover:bg-blue-800 transition-colors ${k?"opacity-50 cursor-not-allowed":""}`,children:k?" ...":""})]})]})})},Mu=()=>{const o=Vn(),{id:s}=Ju(),l=!!s,[u,p]=V.useState(!0),[g,b]=V.useState(null),[_,k]=V.useState(null),[y,E]=V.useState(""),[D,C]=V.useState(""),[T,j]=V.useState("draft"),[O,L]=V.useState(""),[N,B]=V.useState(""),[R,H]=V.useState(void 0),q=$=>$==="draft"?"draft":$==="recruiting"?"recruiting":["closed","completed","cancelled"].includes($)?"closed":"draft";V.useEffect(()=>{l?Y():p(!1)},[s]);const Y=async()=>{try{const{data:$,error:re}=await _e.from("businesses").select("*").eq("id",s).single();if(re)throw re;$&&(k($),E($.name),C($.description),j($.status),L($.start_date),B($.end_date),H($.max_participants??void 0)),p(!1)}catch($){console.error("Error fetching business:",$),b(`   : ${$.message||"   "}`),p(!1)}},M=async $=>{if($.preventDefault(),!y||!D||!O||!N){b("   .");return}try{if(l&&_){const{error:re}=await _e.from("businesses").update({name:y,description:D,status:T,start_date:O,end_date:N,max_participants:R}).eq("id",_.id);if(re)throw re}else{const{error:re}=await _e.from("businesses").insert([{name:y,description:D,status:T,start_date:O,end_date:N,max_participants:R}]);if(re)throw re}o("/admin/dashboard",{state:{activeTab:"business"}})}catch(re){console.error("Error saving business:",re),b(` ${l?"":""} : ${re.message||"   "}`)}};return u?A.jsx("div",{className:"flex justify-center items-center h-screen",children:A.jsx("p",{className:"text-xl",children:" ..."})}):A.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:A.jsx("div",{className:"max-w-3xl mx-auto",children:A.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:l?` : ${_==null?void 0:_.name}`:"  "}),A.jsxs("button",{onClick:()=>o("/admin/dashboard",{state:{activeTab:"business"}}),className:"px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-150 flex items-center space-x-2",children:[A.jsx(Oi,{size:20}),A.jsx("span",{children:""})]})]}),g&&A.jsxs("div",{className:"mb-6 p-3 text-red-700 bg-red-100 border border-red-300 rounded-md flex items-center",children:[A.jsx(fo,{size:20,className:"mr-2"}),g]}),A.jsxs("form",{onSubmit:M,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"text",id:"name",value:y,onChange:$=>E($.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-shadow"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("textarea",{id:"description",value:D,onChange:$=>C($.target.value),required:!0,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-shadow"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"date",id:"startDate",value:O,onChange:$=>L($.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-shadow"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"date",id:"endDate",value:N,onChange:$=>B($.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-shadow"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsxs("select",{id:"status",value:q(T),onChange:$=>{j($.target.value)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white transition-shadow",children:[A.jsx("option",{value:"draft",children:""}),A.jsx("option",{value:"recruiting",children:""}),A.jsx("option",{value:"closed",children:""})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"maxParticipants",className:"block text-sm font-medium text-gray-700 mb-1",children:"   ()"}),A.jsx("input",{type:"number",id:"maxParticipants",value:R===void 0?"":R,onChange:$=>H($.target.value?parseInt($.target.value):void 0),min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-shadow"})]})]}),A.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[A.jsxs("button",{type:"button",onClick:()=>o("/admin/dashboard",{state:{activeTab:"business"}}),className:"px-6 py-2.5 bg-gray-200 text-gray-700 font-semibold rounded-lg shadow-md hover:bg-gray-300 focus:ring-4 focus:ring-gray-200 transition-all duration-150 flex items-center justify-center",children:[A.jsx(Oi,{size:18,className:"mr-2"})," "]}),A.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 transition-all duration-150 flex items-center justify-center",children:l?A.jsxs(A.Fragment,{children:[A.jsx(zl,{size:18,className:"mr-2"}),"  "]}):A.jsxs(A.Fragment,{children:[A.jsx(ru,{size:18,className:"mr-2"}),"  "]})})]})]})]})})})};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function aV(){const o={resolve:null,promise:null};return o.promise=new Promise(s=>{o.resolve=s}),o}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lV(o){let s=null;return(...l)=>(s||(s={current:o(...l)}),s.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Pt=new Array(256).fill("").map((o,s)=>("0"+s.toString(16)).slice(-2));function cV(){const[o,s,l,u]=crypto.getRandomValues(new Uint32Array(4));return"e"+Pt[o>>0&255]+Pt[o>>8&255]+Pt[o>>16&255]+Pt[o>>24&255]+Pt[s>>0&255]+Pt[s>>8&255]+Pt[s>>16&255]+Pt[s>>24&255]+Pt[l>>0&255]+Pt[l>>8&255]+Pt[l>>16&255]+Pt[l>>24&255]+Pt[u>>0&255]+Pt[u>>8&255]+Pt[u>>16&255]+Pt[u>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function dV(o,s){const l=o.extraPlugins||[];return{...o,extraPlugins:[...l,...s.filter(u=>!l.includes(u))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XS(o){return!!o&&/^\d+\.\d+\.\d+/.test(o)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eT(o){return o?["nightly","alpha","internal","nightly-","staging"].some(s=>o.includes(s)):!1}function uV(o){return XS(o)||eT(o)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hV(o){if(!XS(o))throw new Error(`Invalid semantic version: ${o||"<blank>"}.`);const[s,l,u]=o.split(".");return{major:Number.parseInt(s,10),minor:Number.parseInt(l,10),patch:Number.parseInt(u,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pV(o){if(eT(o))return 3;const{major:s}=hV(o);switch(!0){case s>=44:return 3;case s>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mV(){const{CKEDITOR_VERSION:o,CKEDITOR:s}=window;return uV(o)?{source:s?"cdn":"npm",version:o}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gV(){const o=mV();return o?pV(o.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function tT(o,s){switch(s||(s=gV()||void 0),s){case 1:case 2:return o===void 0;case 3:return o==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fV(o,s){return function(u){tT(u.config.get("licenseKey"))||u.on("collectUsageData",(p,{setUsageData:g})=>{g(`integration.${o}`,s)})}}var kV=Object.defineProperty,bV=(o,s,l)=>s in o?kV(o,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[s]=l,sn=(o,s,l)=>bV(o,typeof s!="symbol"?s+"":s,l);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const nT=class rT{constructor(s,l){sn(this,"_lifecycle"),sn(this,"_element"),sn(this,"_releaseLock",null),sn(this,"_value",null),sn(this,"_afterMountCallbacks",[]),sn(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),sn(this,"release",lV(()=>{const{_releaseLock:u,_state:p,_element:g,_lifecycle:b}=this;p.mountingInProgress?p.mountingInProgress.then(()=>b.unmount({element:g,mountResult:this.value})).catch(_=>{console.error("Semaphore unmounting error:",_)}).then(u.resolve).then(()=>{this._value=null}):(p.destroyedBeforeInitialization=!0,u.resolve())})),this._element=s,this._lifecycle=l,this._lock()}get value(){return this._value}unsafeSetValue(s){this._value=s,this._afterMountCallbacks.forEach(l=>l(s)),this._afterMountCallbacks=[]}runAfterMount(s){const{_value:l,_afterMountCallbacks:u}=this;l?s(l):u.push(s)}_lock(){const{_semaphores:s}=rT,{_state:l,_element:u,_lifecycle:p}=this,g=s.get(u)||Promise.resolve(null),b=aV();this._releaseLock=b;const _=g.then(()=>l.destroyedBeforeInitialization?Promise.resolve(void 0):(l.mountingInProgress=p.mount().then(k=>(k&&this.unsafeSetValue(k),k)),l.mountingInProgress)).then(async k=>{k&&p.afterMount&&await p.afterMount({element:u,mountResult:k})}).then(()=>b.promise).catch(k=>{console.error("Semaphore mounting error:",k)}).then(()=>{s.get(u)===_&&s.delete(u)});s.set(u,_)}};sn(nT,"_semaphores",new Map);let wV=nT;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const _V="$__CKEditorReactContextMetadata";function AV(o,s){return{...s,[_V]:o}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const vV=ir.createContext(null),CV=o=>!!o&&typeof o=="object"&&"status"in o&&["initializing","initialized","error"].includes(o.status),iT=o=>s=>CV(s)&&s.status===o,YE=iT("initializing"),yV=o=>iT("initialized")(o)&&o.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const xV=fV("react",{version:"9.5.0",frameworkVersion:ir.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function EV(o){return tT(o.licenseKey)?o:dV(o,[xV])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const kg="Lock from React integration (@ckeditor/ckeditor5-react)";class oT extends ir.Component{constructor(s){super(s),sn(this,"domContainer",ir.createRef()),sn(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:s}=window;if(!s)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[l]=s.split(".").map(Number);l>=42||s.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:s}=this;return s?s.value:null}get watchdog(){const{_semaphoreValue:s}=this;return s?s.watchdog:null}get editor(){const{_semaphoreValue:s}=this;return s?s.instance:null}shouldComponentUpdate(s){const{props:l,editorSemaphore:u}=this;return s.id!==l.id||s.disableWatchdog!==l.disableWatchdog?!0:(u&&(u.runAfterMount(({instance:p})=>{this._shouldUpdateEditorData(l,s,p)&&p.data.set(s.data)}),"disabled"in s&&u.runAfterMount(({instance:p})=>{s.disabled?p.enableReadOnlyMode(kg):p.disableReadOnlyMode(kg)})),!1)}componentDidMount(){YE(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){YE(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new wV(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:s})=>{const{onReady:l}=this.props;l&&this.domContainer.current!==null&&l(s.instance)},unmount:async({element:s,mountResult:l})=>{const{onAfterDestroy:u}=this.props;try{await this._destroyEditor(l),s.innerHTML=""}finally{u&&u(l.instance)}}})}render(){return ir.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const s=yV(this.context)?new DV(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),l={current:0};return s.setCreator(async(u,p)=>{var g;const{editorSemaphore:b}=this,{onAfterDestroy:_}=this.props;l.current>0&&_&&((g=b==null?void 0:b.value)!=null&&g.instance)&&_(b.value.instance);const k=await this._createEditor(u,p);return b&&l.current>0&&(b.unsafeSetValue({instance:k,watchdog:s}),setTimeout(()=>{this.props.onReady&&this.props.onReady(s.editor)})),l.current++,k}),s.on("error",(u,{error:p,causesRestart:g})=>{(this.props.onError||console.error)(p,{phase:"runtime",willEditorRestart:g})}),await s.create(this.domContainer.current,this._getConfig()).catch(u=>{(this.props.onError||console.error)(u,{phase:"initialization",willEditorRestart:!1})}),{watchdog:s,instance:s.editor}}_createEditor(s,l){const{contextItemMetadata:u}=this.props;return u&&(l=AV(u,l)),this.props.editor.create(s,EV(l)).then(p=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&p.enableReadOnlyMode(kg)}const g=p.model.document,b=p.editing.view.document;return g.on("change:data",_=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(_,p)}),b.on("focus",_=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(_,p)}),b.on("blur",_=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(_,p)}),p})}async _destroyEditor(s){const{watchdog:l,instance:u}=s;return new Promise((p,g)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(l)return await l.destroy(),p();if(u)return await u.destroy(),p();p()}catch(b){console.error(b),g(b)}})})}_shouldUpdateEditorData(s,l,u){return!(s.data===l.data||u.data.get()===l.data)}_getConfig(){const s=this.props.config||{};return this.props.data&&s.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...s,initialData:s.initialData||this.props.data||""}}}sn(oT,"contextType",vV);class DV{constructor(s){sn(this,"_contextWatchdog"),sn(this,"_id"),sn(this,"_creator"),this._contextWatchdog=s,this._id=cV()}setCreator(s){this._creator=s}create(s,l){return this._contextWatchdog.add({sourceElementOrData:s,config:l,creator:this._creator,id:this._id,type:"editor"})}on(s,l){this._contextWatchdog.on("itemError",(u,{itemId:p,error:g})=>{p===this._id&&l(null,{error:g,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sT(...o){return s=>{o.forEach(l=>{typeof l=="function"?l(s):l!=null&&(l.current=s)})}}const SV=V.memo(V.forwardRef(({id:o,semaphore:s,rootName:l},u)=>{const p=V.useRef(null);return V.useEffect(()=>{let g,b;return s.runAfterMount(({instance:_})=>{if(!p.current)return;b=_;const{ui:k,model:y}=b,E=y.document.getRoot(l);E&&b.ui.getEditableElement(l)&&b.detachEditable(E),g=k.view.createEditable(l,p.current),k.addEditable(g),_.editing.view.forceRender()}),()=>{if(b&&b.state!=="destroyed"&&p.current){const _=b.model.document.getRoot(l);/* istanbul ignore else -- @preserve */_&&b.detachEditable(_)}}},[s.revision]),ir.createElement("div",{key:s.revision,id:o,ref:sT(u,p)})}));SV.displayName="EditorEditable";const TV=V.forwardRef(({editor:o},s)=>{const l=V.useRef(null);return V.useEffect(()=>{const u=l.current;if(!o||!u)return;const p=o.ui.view.toolbar.element;return u.appendChild(p),()=>{u.contains(p)&&u.removeChild(p)}},[o&&o.id]),ir.createElement("div",{ref:sT(l,s)})});TV.displayName="EditorToolbarWrapper";var Nu={exports:{}};Nu.exports;(function(o,s){(function(l){const u=l.en=l.en||{};u.dictionary=Object.assign(u.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(l,u){o.exports=u()}(self,()=>(()=>{var l={9246:(b,_,k)=>{const y=k(6931),E={};for(const C of Object.keys(y))E[y[C]]=C;const D={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};b.exports=D;for(const C of Object.keys(D)){if(!("channels"in D[C]))throw new Error("missing channels property: "+C);if(!("labels"in D[C]))throw new Error("missing channel labels property: "+C);if(D[C].labels.length!==D[C].channels)throw new Error("channel and label counts mismatch: "+C);const{channels:T,labels:j}=D[C];delete D[C].channels,delete D[C].labels,Object.defineProperty(D[C],"channels",{value:T}),Object.defineProperty(D[C],"labels",{value:j})}D.rgb.hsl=function(C){const T=C[0]/255,j=C[1]/255,O=C[2]/255,L=Math.min(T,j,O),N=Math.max(T,j,O),B=N-L;let R,H;N===L?R=0:T===N?R=(j-O)/B:j===N?R=2+(O-T)/B:O===N&&(R=4+(T-j)/B),R=Math.min(60*R,360),R<0&&(R+=360);const q=(L+N)/2;return H=N===L?0:q<=.5?B/(N+L):B/(2-N-L),[R,100*H,100*q]},D.rgb.hsv=function(C){let T,j,O,L,N;const B=C[0]/255,R=C[1]/255,H=C[2]/255,q=Math.max(B,R,H),Y=q-Math.min(B,R,H),M=function($){return(q-$)/6/Y+.5};return Y===0?(L=0,N=0):(N=Y/q,T=M(B),j=M(R),O=M(H),B===q?L=O-j:R===q?L=.3333333333333333+T-O:H===q&&(L=.6666666666666666+j-T),L<0?L+=1:L>1&&(L-=1)),[360*L,100*N,100*q]},D.rgb.hwb=function(C){const T=C[0],j=C[1];let O=C[2];const L=D.rgb.hsl(C)[0],N=1/255*Math.min(T,Math.min(j,O));return O=1-.00392156862745098*Math.max(T,Math.max(j,O)),[L,100*N,100*O]},D.rgb.cmyk=function(C){const T=C[0]/255,j=C[1]/255,O=C[2]/255,L=Math.min(1-T,1-j,1-O);return[100*((1-T-L)/(1-L)||0),100*((1-j-L)/(1-L)||0),100*((1-O-L)/(1-L)||0),100*L]},D.rgb.keyword=function(C){const T=E[C];if(T)return T;let j,O=1/0;for(const B of Object.keys(y)){const R=y[B],H=(N=R,((L=C)[0]-N[0])**2+(L[1]-N[1])**2+(L[2]-N[2])**2);H<O&&(O=H,j=B)}var L,N;return j},D.keyword.rgb=function(C){return y[C]},D.rgb.xyz=function(C){let T=C[0]/255,j=C[1]/255,O=C[2]/255;return T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,j=j>.04045?((j+.055)/1.055)**2.4:j/12.92,O=O>.04045?((O+.055)/1.055)**2.4:O/12.92,[100*(.4124*T+.3576*j+.1805*O),100*(.2126*T+.7152*j+.0722*O),100*(.0193*T+.1192*j+.9505*O)]},D.rgb.lab=function(C){const T=D.rgb.xyz(C);let j=T[0],O=T[1],L=T[2];return j/=95.047,O/=100,L/=108.883,j=j>.008856?j**.3333333333333333:7.787*j+.13793103448275862,O=O>.008856?O**.3333333333333333:7.787*O+.13793103448275862,L=L>.008856?L**.3333333333333333:7.787*L+.13793103448275862,[116*O-16,500*(j-O),200*(O-L)]},D.hsl.rgb=function(C){const T=C[0]/360,j=C[1]/100,O=C[2]/100;let L,N,B;if(j===0)return B=255*O,[B,B,B];L=O<.5?O*(1+j):O+j-O*j;const R=2*O-L,H=[0,0,0];for(let q=0;q<3;q++)N=T+.3333333333333333*-(q-1),N<0&&N++,N>1&&N--,B=6*N<1?R+6*(L-R)*N:2*N<1?L:3*N<2?R+(L-R)*(.6666666666666666-N)*6:R,H[q]=255*B;return H},D.hsl.hsv=function(C){const T=C[0];let j=C[1]/100,O=C[2]/100,L=j;const N=Math.max(O,.01);return O*=2,j*=O<=1?O:2-O,L*=N<=1?N:2-N,[T,100*(O===0?2*L/(N+L):2*j/(O+j)),100*((O+j)/2)]},D.hsv.rgb=function(C){const T=C[0]/60,j=C[1]/100;let O=C[2]/100;const L=Math.floor(T)%6,N=T-Math.floor(T),B=255*O*(1-j),R=255*O*(1-j*N),H=255*O*(1-j*(1-N));switch(O*=255,L){case 0:return[O,H,B];case 1:return[R,O,B];case 2:return[B,O,H];case 3:return[B,R,O];case 4:return[H,B,O];case 5:return[O,B,R]}},D.hsv.hsl=function(C){const T=C[0],j=C[1]/100,O=C[2]/100,L=Math.max(O,.01);let N,B;B=(2-j)*O;const R=(2-j)*L;return N=j*L,N/=R<=1?R:2-R,N=N||0,B/=2,[T,100*N,100*B]},D.hwb.rgb=function(C){const T=C[0]/360;let j=C[1]/100,O=C[2]/100;const L=j+O;let N;L>1&&(j/=L,O/=L);const B=Math.floor(6*T),R=1-O;N=6*T-B,1&B&&(N=1-N);const H=j+N*(R-j);let q,Y,M;switch(B){default:case 6:case 0:q=R,Y=H,M=j;break;case 1:q=H,Y=R,M=j;break;case 2:q=j,Y=R,M=H;break;case 3:q=j,Y=H,M=R;break;case 4:q=H,Y=j,M=R;break;case 5:q=R,Y=j,M=H}return[255*q,255*Y,255*M]},D.cmyk.rgb=function(C){const T=C[0]/100,j=C[1]/100,O=C[2]/100,L=C[3]/100;return[255*(1-Math.min(1,T*(1-L)+L)),255*(1-Math.min(1,j*(1-L)+L)),255*(1-Math.min(1,O*(1-L)+L))]},D.xyz.rgb=function(C){const T=C[0]/100,j=C[1]/100,O=C[2]/100;let L,N,B;return L=3.2406*T+-1.5372*j+-.4986*O,N=-.9689*T+1.8758*j+.0415*O,B=.0557*T+-.204*j+1.057*O,L=L>.0031308?1.055*L**.4166666666666667-.055:12.92*L,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,B=B>.0031308?1.055*B**.4166666666666667-.055:12.92*B,L=Math.min(Math.max(0,L),1),N=Math.min(Math.max(0,N),1),B=Math.min(Math.max(0,B),1),[255*L,255*N,255*B]},D.xyz.lab=function(C){let T=C[0],j=C[1],O=C[2];return T/=95.047,j/=100,O/=108.883,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,j=j>.008856?j**.3333333333333333:7.787*j+.13793103448275862,O=O>.008856?O**.3333333333333333:7.787*O+.13793103448275862,[116*j-16,500*(T-j),200*(j-O)]},D.lab.xyz=function(C){let T,j,O;j=(C[0]+16)/116,T=C[1]/500+j,O=j-C[2]/200;const L=j**3,N=T**3,B=O**3;return j=L>.008856?L:(j-.13793103448275862)/7.787,T=N>.008856?N:(T-.13793103448275862)/7.787,O=B>.008856?B:(O-.13793103448275862)/7.787,T*=95.047,j*=100,O*=108.883,[T,j,O]},D.lab.lch=function(C){const T=C[0],j=C[1],O=C[2];let L;return L=360*Math.atan2(O,j)/2/Math.PI,L<0&&(L+=360),[T,Math.sqrt(j*j+O*O),L]},D.lch.lab=function(C){const T=C[0],j=C[1],O=C[2]/360*2*Math.PI;return[T,j*Math.cos(O),j*Math.sin(O)]},D.rgb.ansi16=function(C,T=null){const[j,O,L]=C;let N=T===null?D.rgb.hsv(C)[2]:T;if(N=Math.round(N/50),N===0)return 30;let B=30+(Math.round(L/255)<<2|Math.round(O/255)<<1|Math.round(j/255));return N===2&&(B+=60),B},D.hsv.ansi16=function(C){return D.rgb.ansi16(D.hsv.rgb(C),C[2])},D.rgb.ansi256=function(C){const T=C[0],j=C[1],O=C[2];return T===j&&j===O?T<8?16:T>248?231:Math.round((T-8)/247*24)+232:16+36*Math.round(T/255*5)+6*Math.round(j/255*5)+Math.round(O/255*5)},D.ansi16.rgb=function(C){let T=C%10;if(T===0||T===7)return C>50&&(T+=3.5),T=T/10.5*255,[T,T,T];const j=.5*(1+~~(C>50));return[(1&T)*j*255,(T>>1&1)*j*255,(T>>2&1)*j*255]},D.ansi256.rgb=function(C){if(C>=232){const j=10*(C-232)+8;return[j,j,j]}let T;return C-=16,[Math.floor(C/36)/5*255,Math.floor((T=C%36)/6)/5*255,T%6/5*255]},D.rgb.hex=function(C){const T=(((255&Math.round(C[0]))<<16)+((255&Math.round(C[1]))<<8)+(255&Math.round(C[2]))).toString(16).toUpperCase();return"000000".substring(T.length)+T},D.hex.rgb=function(C){const T=C.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!T)return[0,0,0];let j=T[0];T[0].length===3&&(j=j.split("").map(L=>L+L).join(""));const O=parseInt(j,16);return[O>>16&255,O>>8&255,255&O]},D.rgb.hcg=function(C){const T=C[0]/255,j=C[1]/255,O=C[2]/255,L=Math.max(Math.max(T,j),O),N=Math.min(Math.min(T,j),O),B=L-N;let R,H;return R=B<1?N/(1-B):0,H=B<=0?0:L===T?(j-O)/B%6:L===j?2+(O-T)/B:4+(T-j)/B,H/=6,H%=1,[360*H,100*B,100*R]},D.hsl.hcg=function(C){const T=C[1]/100,j=C[2]/100,O=j<.5?2*T*j:2*T*(1-j);let L=0;return O<1&&(L=(j-.5*O)/(1-O)),[C[0],100*O,100*L]},D.hsv.hcg=function(C){const T=C[1]/100,j=C[2]/100,O=T*j;let L=0;return O<1&&(L=(j-O)/(1-O)),[C[0],100*O,100*L]},D.hcg.rgb=function(C){const T=C[0]/360,j=C[1]/100,O=C[2]/100;if(j===0)return[255*O,255*O,255*O];const L=[0,0,0],N=T%1*6,B=N%1,R=1-B;let H=0;switch(Math.floor(N)){case 0:L[0]=1,L[1]=B,L[2]=0;break;case 1:L[0]=R,L[1]=1,L[2]=0;break;case 2:L[0]=0,L[1]=1,L[2]=B;break;case 3:L[0]=0,L[1]=R,L[2]=1;break;case 4:L[0]=B,L[1]=0,L[2]=1;break;default:L[0]=1,L[1]=0,L[2]=R}return H=(1-j)*O,[255*(j*L[0]+H),255*(j*L[1]+H),255*(j*L[2]+H)]},D.hcg.hsv=function(C){const T=C[1]/100,j=T+C[2]/100*(1-T);let O=0;return j>0&&(O=T/j),[C[0],100*O,100*j]},D.hcg.hsl=function(C){const T=C[1]/100,j=C[2]/100*(1-T)+.5*T;let O=0;return j>0&&j<.5?O=T/(2*j):j>=.5&&j<1&&(O=T/(2*(1-j))),[C[0],100*O,100*j]},D.hcg.hwb=function(C){const T=C[1]/100,j=T+C[2]/100*(1-T);return[C[0],100*(j-T),100*(1-j)]},D.hwb.hcg=function(C){const T=C[1]/100,j=1-C[2]/100,O=j-T;let L=0;return O<1&&(L=(j-O)/(1-O)),[C[0],100*O,100*L]},D.apple.rgb=function(C){return[C[0]/65535*255,C[1]/65535*255,C[2]/65535*255]},D.rgb.apple=function(C){return[C[0]/255*65535,C[1]/255*65535,C[2]/255*65535]},D.gray.rgb=function(C){return[C[0]/100*255,C[0]/100*255,C[0]/100*255]},D.gray.hsl=function(C){return[0,0,C[0]]},D.gray.hsv=D.gray.hsl,D.gray.hwb=function(C){return[0,100,C[0]]},D.gray.cmyk=function(C){return[0,0,0,C[0]]},D.gray.lab=function(C){return[C[0],0,0]},D.gray.hex=function(C){const T=255&Math.round(C[0]/100*255),j=((T<<16)+(T<<8)+T).toString(16).toUpperCase();return"000000".substring(j.length)+j},D.rgb.gray=function(C){return[(C[0]+C[1]+C[2])/3/255*100]}},9047:(b,_,k)=>{const y=k(9246),E=k(802),D={};Object.keys(y).forEach(C=>{D[C]={},Object.defineProperty(D[C],"channels",{value:y[C].channels}),Object.defineProperty(D[C],"labels",{value:y[C].labels});const T=E(C);Object.keys(T).forEach(j=>{const O=T[j];D[C][j]=function(L){const N=function(...B){const R=B[0];if(R==null)return R;R.length>1&&(B=R);const H=L(B);if(typeof H=="object")for(let q=H.length,Y=0;Y<q;Y++)H[Y]=Math.round(H[Y]);return H};return"conversion"in L&&(N.conversion=L.conversion),N}(O),D[C][j].raw=function(L){const N=function(...B){const R=B[0];return R==null?R:(R.length>1&&(B=R),L(B))};return"conversion"in L&&(N.conversion=L.conversion),N}(O)})}),b.exports=D},802:(b,_,k)=>{const y=k(9246);function E(T){const j=function(){const L={},N=Object.keys(y);for(let B=N.length,R=0;R<B;R++)L[N[R]]={distance:-1,parent:null};return L}(),O=[T];for(j[T].distance=0;O.length;){const L=O.pop(),N=Object.keys(y[L]);for(let B=N.length,R=0;R<B;R++){const H=N[R],q=j[H];q.distance===-1&&(q.distance=j[L].distance+1,q.parent=L,O.unshift(H))}}return j}function D(T,j){return function(O){return j(T(O))}}function C(T,j){const O=[j[T].parent,T];let L=y[j[T].parent][T],N=j[T].parent;for(;j[N].parent;)O.unshift(j[N].parent),L=D(y[j[N].parent][N],L),N=j[N].parent;return L.conversion=O,L}b.exports=function(T){const j=E(T),O={},L=Object.keys(j);for(let N=L.length,B=0;B<N;B++){const R=L[B];j[R].parent!==null&&(O[R]=C(R,j))}return O}},6931:b=>{b.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const T=C},8708:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const T=C},1866:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const T=C},7793:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const T=C},7388:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},4098:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const T=C},8264:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const T=C},6269:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const T=C},265:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const T=C},5247:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const T=C},4642:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},3350:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const T=C},7378:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const T=C},3469:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const T=C},6386:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},7693:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const T=C},1559:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const T=C},2267:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const T=C},4062:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},7719:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const T=C},8762:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},3817:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},4808:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const T=C},1232:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const T=C},6903:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},9968:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const T=C},7141:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const T=C},8991:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const T=C},70:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const T=C},7048:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},5651:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},5506:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},4043:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},2655:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const T=C},5032:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const T=C},2329:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const T=C},4143:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const T=C},8986:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},8795:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const T=C},8137:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const T=C},1623:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},5562:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},8423:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},1801:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const T=C},5727:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},9715:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const T=C},4391:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const T=C},25:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const T=C},7317:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const T=C},1905:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const T=C},6309:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const T=C},9819:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},9822:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const T=C},8149:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},3629:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},1792:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},1666:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const T=C},8527:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},1185:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},7913:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const T=C},9529:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const T=C},7621:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},253:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},7801:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const T=C},4962:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},5199:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},497:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const T=C},4:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const T=C},3344:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const T=C},9481:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const T=C},977:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const T=C},9108:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},3710:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},991:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const T=C},5380:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},8298:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const T=C},2722:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const T=C},8107:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const T=C},109:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const T=C},1671:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const T=C},2710:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const T=C},9677:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const T=C},9205:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const T=C},7676:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const T=C},695:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const T=C},4095:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const T=C},8508:(b,_,k)=>{k.d(_,{A:()=>T});var y=k(9372),E=k.n(y),D=k(935),C=k.n(D)()(E());C.push([b.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const T=C},935:b=>{b.exports=function(_){var k=[];return k.toString=function(){return this.map(function(y){var E=_(y);return y[2]?"@media ".concat(y[2]," {").concat(E,"}"):E}).join("")},k.i=function(y,E,D){typeof y=="string"&&(y=[[null,y,""]]);var C={};if(D)for(var T=0;T<this.length;T++){var j=this[T][0];j!=null&&(C[j]=!0)}for(var O=0;O<y.length;O++){var L=[].concat(y[O]);D&&C[L[0]]||(E&&(L[2]?L[2]="".concat(E," and ").concat(L[2]):L[2]=E),k.push(L))}},k}},9372:b=>{function _(y,E){return function(D){if(Array.isArray(D))return D}(y)||function(D,C){var T=D&&(typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"]);if(T!=null){var j,O,L=[],N=!0,B=!1;try{for(T=T.call(D);!(N=(j=T.next()).done)&&(L.push(j.value),!C||L.length!==C);N=!0);}catch(R){B=!0,O=R}finally{try{N||T.return==null||T.return()}finally{if(B)throw O}}return L}}(y,E)||function(D,C){if(D){if(typeof D=="string")return k(D,C);var T=Object.prototype.toString.call(D).slice(8,-1);if(T==="Object"&&D.constructor&&(T=D.constructor.name),T==="Map"||T==="Set")return Array.from(D);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return k(D,C)}}(y,E)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(y,E){(E==null||E>y.length)&&(E=y.length);for(var D=0,C=new Array(E);D<E;D++)C[D]=y[D];return C}b.exports=function(y){var E=_(y,4),D=E[1],C=E[3];if(!C)return D;if(typeof btoa=="function"){var T=btoa(unescape(encodeURIComponent(JSON.stringify(C)))),j="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(T),O="/*# ".concat(j," */"),L=C.sources.map(function(N){return"/*# sourceURL=".concat(C.sourceRoot||"").concat(N," */")});return[D].concat(L).concat([O]).join(`
`)}return[D].join(`
`)}},2591:(b,_,k)=>{var y,E=function(){return y===void 0&&(y=!!(window&&document&&document.all&&!window.atob)),y},D=function(){var M={};return function($){if(M[$]===void 0){var re=document.querySelector($);if(window.HTMLIFrameElement&&re instanceof window.HTMLIFrameElement)try{re=re.contentDocument.head}catch{re=null}M[$]=re}return M[$]}}(),C=[];function T(M){for(var $=-1,re=0;re<C.length;re++)if(C[re].identifier===M){$=re;break}return $}function j(M,$){for(var re={},oe=[],be=0;be<M.length;be++){var ae=M[be],pe=$.base?ae[0]+$.base:ae[0],xe=re[pe]||0,fe="".concat(pe," ").concat(xe);re[pe]=xe+1;var De=T(fe),wt={css:ae[1],media:ae[2],sourceMap:ae[3]};De!==-1?(C[De].references++,C[De].updater(wt)):C.push({identifier:fe,updater:Y(wt,$),references:1}),oe.push(fe)}return oe}function O(M){var $=document.createElement("style"),re=M.attributes||{};if(re.nonce===void 0){var oe=k.nc;oe&&(re.nonce=oe)}if(Object.keys(re).forEach(function(ae){$.setAttribute(ae,re[ae])}),typeof M.insert=="function")M.insert($);else{var be=D(M.insert||"head");if(!be)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");be.appendChild($)}return $}var L,N=(L=[],function(M,$){return L[M]=$,L.filter(Boolean).join(`
`)});function B(M,$,re,oe){var be=re?"":oe.media?"@media ".concat(oe.media," {").concat(oe.css,"}"):oe.css;if(M.styleSheet)M.styleSheet.cssText=N($,be);else{var ae=document.createTextNode(be),pe=M.childNodes;pe[$]&&M.removeChild(pe[$]),pe.length?M.insertBefore(ae,pe[$]):M.appendChild(ae)}}function R(M,$,re){var oe=re.css,be=re.media,ae=re.sourceMap;if(be?M.setAttribute("media",be):M.removeAttribute("media"),ae&&typeof btoa<"u"&&(oe+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ae))))," */")),M.styleSheet)M.styleSheet.cssText=oe;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(oe))}}var H=null,q=0;function Y(M,$){var re,oe,be;if($.singleton){var ae=q++;re=H||(H=O($)),oe=B.bind(null,re,ae,!1),be=B.bind(null,re,ae,!0)}else re=O($),oe=R.bind(null,re,$),be=function(){(function(pe){if(pe.parentNode===null)return!1;pe.parentNode.removeChild(pe)})(re)};return oe(M),function(pe){if(pe){if(pe.css===M.css&&pe.media===M.media&&pe.sourceMap===M.sourceMap)return;oe(M=pe)}else be()}}b.exports=function(M,$){($=$||{}).singleton||typeof $.singleton=="boolean"||($.singleton=E());var re=j(M=M||[],$);return function(oe){if(oe=oe||[],Object.prototype.toString.call(oe)==="[object Array]"){for(var be=0;be<re.length;be++){var ae=T(re[be]);C[ae].references--}for(var pe=j(oe,$),xe=0;xe<re.length;xe++){var fe=T(re[xe]);C[fe].references===0&&(C[fe].updater(),C.splice(fe,1))}re=pe}}}}},u={};function p(b){var _=u[b];if(_!==void 0)return _.exports;var k=u[b]={id:b,exports:{}};return l[b](k,k.exports,p),k.exports}p.n=b=>{var _=b&&b.__esModule?()=>b.default:()=>b;return p.d(_,{a:_}),_},p.d=(b,_)=>{for(var k in _)p.o(_,k)&&!p.o(b,k)&&Object.defineProperty(b,k,{enumerable:!0,get:_[k]})},p.o=(b,_)=>Object.prototype.hasOwnProperty.call(b,_),p.nc=void 0;var g={};return(()=>{let b;p.d(g,{default:()=>Pm});try{b={window,document}}catch{b={window:{},document:{}}}const _=b,k=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var y;const E={isMac:D(k),isWindows:(y=k,y.indexOf("windows")>-1),isGecko:function(r){return!!r.match(/gecko\/\d+/)}(k),isSafari:function(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}(k),isiOS:function(r){return!!r.match(/iphone|ipad/i)||D(r)&&navigator.maxTouchPoints>0}(k),isAndroid:function(r){return r.indexOf("android")>-1}(k),isBlink:function(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}(k),features:{isRegExpUnicodePropertySupported:function(){let r=!1;try{r="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return r}()}};function D(r){return r.indexOf("macintosh")>-1}function C(r,e,t,n){t=t||function(h,m){return h===m};const i=Array.isArray(r)?r:Array.prototype.slice.call(r),a=Array.isArray(e)?e:Array.prototype.slice.call(e),c=function(h,m,f){const w=T(h,m,f);if(w===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const v=j(h,w),x=j(m,w),S=T(v,x,f),I=h.length-S,P=m.length-S;return{firstIndex:w,lastIndexOld:I,lastIndexNew:P}}(i,a,t);return n?function(h,m){const{firstIndex:f,lastIndexOld:w,lastIndexNew:v}=h;if(f===-1)return Array(m).fill("equal");let x=[];return f>0&&(x=x.concat(Array(f).fill("equal"))),v-f>0&&(x=x.concat(Array(v-f).fill("insert"))),w-f>0&&(x=x.concat(Array(w-f).fill("delete"))),v<m&&(x=x.concat(Array(m-v).fill("equal"))),x}(c,a.length):function(h,m){const f=[],{firstIndex:w,lastIndexOld:v,lastIndexNew:x}=m;return x-w>0&&f.push({index:w,type:"insert",values:h.slice(w,x)}),v-w>0&&f.push({index:w+(x-w),type:"delete",howMany:v-w}),f}(a,c)}function T(r,e,t){for(let n=0;n<Math.max(r.length,e.length);n++)if(r[n]===void 0||e[n]===void 0||!t(r[n],e[n]))return n;return-1}function j(r,e){return r.slice(e).reverse()}function O(r,e,t){t=t||function(I,P){return I===P};const n=r.length,i=e.length;if(n>200||i>200||n+i>300)return O.fastDiff(r,e,t,!0);let a,c;if(i<n){const I=r;r=e,e=I,a="delete",c="insert"}else a="insert",c="delete";const d=r.length,h=e.length,m=h-d,f={},w={};function v(I){const P=(w[I-1]!==void 0?w[I-1]:-1)+1,z=w[I+1]!==void 0?w[I+1]:-1,F=P>z?-1:1;f[I+F]&&(f[I]=f[I+F].slice(0)),f[I]||(f[I]=[]),f[I].push(P>z?a:c);let W=Math.max(P,z),K=W-I;for(;K<d&&W<h&&t(r[K],e[W]);)K++,W++,f[I].push("equal");return W}let x,S=0;do{for(x=-S;x<m;x++)w[x]=v(x);for(x=m+S;x>m;x--)w[x]=v(x);w[m]=v(m),S++}while(w[m]!==h);return f[m].slice(1)}O.fastDiff=C;const L=function(){return function r(){r.called=!0}};class N{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=L(),this.off=L()}}const B=new Array(256).fill("").map((r,e)=>("0"+e.toString(16)).slice(-2));function R(){const r=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+B[255&r]+B[r>>8&255]+B[r>>16&255]+B[r>>24&255]+B[255&e]+B[e>>8&255]+B[e>>16&255]+B[e>>24&255]+B[255&t]+B[t>>8&255]+B[t>>16&255]+B[t>>24&255]+B[255&n]+B[n>>8&255]+B[n>>16&255]+B[n>>24&255]}const H={get(r="normal"){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function q(r,e){const t=H.get(e.priority);for(let n=0;n<r.length;n++)if(H.get(r[n].priority)<t)return void r.splice(n,0,e);r.push(e)}const Y="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class M extends Error{constructor(e,t,n){super(function(i,a){const c=new WeakSet,d=(f,w)=>{if(typeof w=="object"&&w!==null){if(c.has(w))return`[object ${w.constructor.name}]`;c.add(w)}return w},h=a?` ${JSON.stringify(a,d)}`:"",m=oe(i);return i+h+m}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new M(e.message,t);throw n.stack=e.stack,n}}function $(r,e){console.warn(...be(r,e))}function re(r,e){console.error(...be(r,e))}function oe(r){return`
Read more: ${Y}#error-${r}`}function be(r,e){const t=oe(r);return e?[r,e,t]:[r,t]}const ae="41.4.2",pe=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new M("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ae;const xe=Symbol("listeningTo"),fe=Symbol("emitterId"),De=Symbol("delegations"),wt=Z(Object);function Z(r){return r?class extends r{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let i=!1;this.listenTo(this,e,(a,...c)=>{i||(i=!0,a.off(),t.call(this,a,...c))},n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,i={}){let a,c;this[xe]||(this[xe]={});const d=this[xe];me(e)||ue(e);const h=me(e);(a=d[h])||(a=d[h]={emitter:e,callbacks:{}}),(c=a.callbacks[t])||(c=a.callbacks[t]=[]),c.push(n),function(m,f,w,v,x){f._addEventListener?f._addEventListener(w,v,x):m._addEventListener.call(f,w,v,x)}(this,e,t,n,i)}stopListening(e,t,n){const i=this[xe];let a=e&&me(e);const c=i&&a?i[a]:void 0,d=c&&t?c.callbacks[t]:void 0;if(!(!i||e&&!c||t&&!d))if(n)Zr(this,e,t,n),d.indexOf(n)!==-1&&(d.length===1?delete c.callbacks[t]:Zr(this,e,t,n));else if(d){for(;n=d.pop();)Zr(this,e,t,n);delete c.callbacks[t]}else if(c){for(t in c.callbacks)this.stopListening(e,t);delete i[a]}else{for(a in i)this.stopListening(i[a].emitter);delete this[xe]}}fire(e,...t){try{const n=e instanceof N?e:new N(this,e),i=n.name;let a=Jr(this,i);if(n.path.push(this),a){const d=[n,...t];a=Array.from(a);for(let h=0;h<a.length&&(a[h].callback.apply(this,d),n.off.called&&(delete n.off.called,this._removeEventListener(i,a[h].callback)),!n.stop.called);h++);}const c=this[De];if(c){const d=c.get(i),h=c.get("*");d&&Un(d,n,t),h&&Un(h,n,t)}return n.return}catch(n){M.rethrowUnexpectedError(n,this)}}delegate(...e){return{to:(t,n)=>{this[De]||(this[De]=new Map),e.forEach(i=>{const a=this[De].get(i);a?a.set(t,n):this[De].set(i,new Map([[t,n]]))})}}}stopDelegating(e,t){if(this[De])if(e)if(t){const n=this[De].get(e);n&&n.delete(t)}else this[De].delete(e);else this[De].clear()}_addEventListener(e,t,n){(function(c,d){const h=Oe(c);if(h[d])return;let m=d,f=null;const w=[];for(;m!==""&&!h[m];)h[m]={callbacks:[],childEvents:[]},w.push(h[m]),f&&h[m].childEvents.push(f),f=m,m=m.substr(0,m.lastIndexOf(":"));if(m!==""){for(const v of w)v.callbacks=h[m].callbacks.slice();h[m].childEvents.push(f)}})(this,e);const i=$e(this,e),a={callback:t,priority:H.get(n.priority)};for(const c of i)q(c,a)}_removeEventListener(e,t){const n=$e(this,e);for(const i of n)for(let a=0;a<i.length;a++)i[a].callback==t&&(i.splice(a,1),a--)}}:wt}function ue(r,e){r[fe]||(r[fe]=e||R())}function me(r){return r[fe]}function Oe(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function $e(r,e){const t=Oe(r)[e];if(!t)return[];let n=[t.callbacks];for(let i=0;i<t.childEvents.length;i++){const a=$e(r,t.childEvents[i]);n=n.concat(a)}return n}function Jr(r,e){let t;return r._events&&(t=r._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?Jr(r,e.substr(0,e.lastIndexOf(":"))):null}function Un(r,e,t){for(let[n,i]of r){i?typeof i=="function"&&(i=i(e.name)):i=e.name;const a=new N(e.source,i);a.path=[...e.path],n.fire(a,...t)}}function Zr(r,e,t,n){e._removeEventListener?e._removeEventListener(t,n):r._removeEventListener.call(e,t,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Z[r]=wt.prototype[r]});const Se=function(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")},lr=Symbol("observableProperties"),ta=Symbol("boundObservables"),na=Symbol("boundProperties"),Ui=Symbol("decoratedMethods"),oh=Symbol("decoratedOriginal"),sh=Le(Z());function Le(r){return r?class extends r{set(e,t){if(Se(e))return void Object.keys(e).forEach(i=>{this.set(i,e[i])},this);Yl(this);const n=this[lr];if(e in this&&!n.has(e))throw new M("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(i){const a=n.get(e);let c=this.fire(`set:${e}`,e,i,a);c===void 0&&(c=i),a===c&&n.has(e)||(n.set(e,c),this.fire(`change:${e}`,e,c,a))}}),this[e]=t}bind(...e){if(!e.length||!ah(e))throw new M("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new M("observable-bind-duplicate-properties",this);Yl(this);const t=this[na];e.forEach(i=>{if(t.has(i))throw new M("observable-bind-rebind",this)});const n=new Map;return e.forEach(i=>{const a={property:i,to:[]};t.set(i,a),n.set(i,a)}),{to:xk,toMany:Ek,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[lr])return;const t=this[na],n=this[ta];if(e.length){if(!ah(e))throw new M("observable-unbind-wrong-properties",this);e.forEach(i=>{const a=t.get(i);a&&(a.to.forEach(([c,d])=>{const h=n.get(c),m=h[d];m.delete(a),m.size||delete h[d],Object.keys(h).length||(n.delete(c),this.stopListening(c,"change"))}),t.delete(i))})}else n.forEach((i,a)=>{this.stopListening(a,"change")}),n.clear(),t.clear()}decorate(e){Yl(this);const t=this[e];if(!t)throw new M("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(n,i)=>{n.return=t.apply(this,i)}),this[e]=function(...n){return this.fire(e,n)},this[e][oh]=t,this[Ui]||(this[Ui]=[]),this[Ui].push(e)}stopListening(e,t,n){if(!e&&this[Ui]){for(const i of this[Ui])this[i]=this[i][oh];delete this[Ui]}super.stopListening(e,t,n)}}:sh}function Yl(r){r[lr]||(Object.defineProperty(r,lr,{value:new Map}),Object.defineProperty(r,ta,{value:new Map}),Object.defineProperty(r,na,{value:new Map}))}function xk(...r){const e=function(...a){if(!a.length)throw new M("observable-bind-to-parse-error",null);const c={to:[]};let d;return typeof a[a.length-1]=="function"&&(c.callback=a.pop()),a.forEach(h=>{if(typeof h=="string")d.properties.push(h);else{if(typeof h!="object")throw new M("observable-bind-to-parse-error",null);d={observable:h,properties:[]},c.to.push(d)}}),c}(...r),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new M("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new M("observable-bind-to-extra-callback",this);var i;e.to.forEach(a=>{if(a.properties.length&&a.properties.length!==n)throw new M("observable-bind-to-properties-length",this);a.properties.length||(a.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),i=this._observable,this._to.forEach(a=>{const c=i[ta];let d;c.get(a.observable)||i.listenTo(a.observable,"change",(h,m)=>{d=c.get(a.observable)[m],d&&d.forEach(f=>{lh(i,f.property)})})}),function(a){let c;a._bindings.forEach((d,h)=>{a._to.forEach(m=>{c=m.properties[d.callback?0:a._bindProperties.indexOf(h)],d.to.push([m.observable,c]),function(f,w,v,x){const S=f[ta],I=S.get(v),P=I||{};P[x]||(P[x]=new Set),P[x].add(w),I||S.set(v,P)}(a._observable,d,m.observable,c)})})}(this),this._bindProperties.forEach(a=>{lh(this._observable,a)})}function Ek(r,e,t){if(this._bindings.size>1)throw new M("observable-bind-to-many-not-one-binding",this);this.to(...function(n,i){const a=n.map(c=>[c,i]);return Array.prototype.concat.apply([],a)}(r,e),t)}function ah(r){return r.every(e=>typeof e=="string")}function lh(r,e){const t=r[na].get(e);let n;t.callback?n=t.callback.apply(r,t.to.map(i=>i[0][i[1]])):(n=t.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(r,e)?r[e]=n:r.set(e,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Le[r]=sh.prototype[r]});class Dk{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function Ql(r){let e=0;for(const t of r)e++;return e}function Nt(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)if(r[n]!=e[n])return n;return r.length==e.length?"same":r.length<e.length?"prefix":"extension"}function Gt(r){return!(!r||!r[Symbol.iterator])}const ch=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt;var Sk=typeof self=="object"&&self&&self.Object===Object&&self;const En=ch||Sk||Function("return this")(),Hn=En.Symbol;var dh=Object.prototype,ra=dh.hasOwnProperty,uh=dh.toString,xr=Hn?Hn.toStringTag:void 0;const hh=function(r){var e=ra.call(r,xr),t=r[xr];try{r[xr]=void 0;var n=!0}catch{}var i=uh.call(r);return n&&(e?r[xr]=t:delete r[xr]),i};var ia=Object.prototype.toString;const ph=function(r){return ia.call(r)};var Hi=Hn?Hn.toStringTag:void 0;const cr=function(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Hi&&Hi in Object(r)?hh(r):ph(r)},zt=Array.isArray,Kt=function(r){return r!=null&&typeof r=="object"},Bo=function(r){return typeof r=="string"||!zt(r)&&Kt(r)&&cr(r)=="[object String]"};function Ft(r,e,t={},n=[]){const i=t&&t.xmlns,a=i?r.createElementNS(i,e):r.createElement(e);for(const c in t)a.setAttribute(c,t[c]);!Bo(n)&&Gt(n)||(n=[n]);for(let c of n)Bo(c)&&(c=r.createTextNode(c)),a.appendChild(c);return a}const Er=function(r,e){return function(t){return r(e(t))}},$i=Er(Object.getPrototypeOf,Object);var oa=Function.prototype,Jl=Object.prototype,jo=oa.toString,Zl=Jl.hasOwnProperty,Xr=jo.call(Object);const Vt=function(r){if(!Kt(r)||cr(r)!="[object Object]")return!1;var e=$i(r);if(e===null)return!0;var t=Zl.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&jo.call(t)==Xr},sa=function(){this.__data__=[],this.size=0},ei=function(r,e){return r===e||r!=r&&e!=e},Po=function(r,e){for(var t=r.length;t--;)if(ei(r[t][0],e))return t;return-1};var Xl=Array.prototype.splice;const mh=function(r){var e=this.__data__,t=Po(e,r);return!(t<0)&&(t==e.length-1?e.pop():Xl.call(e,t,1),--this.size,!0)},ec=function(r){var e=this.__data__,t=Po(e,r);return t<0?void 0:e[t][1]},gh=function(r){return Po(this.__data__,r)>-1},fh=function(r,e){var t=this.__data__,n=Po(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this};function dr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}dr.prototype.clear=sa,dr.prototype.delete=mh,dr.prototype.get=ec,dr.prototype.has=gh,dr.prototype.set=fh;const Oo=dr,kh=function(){this.__data__=new Oo,this.size=0},bh=function(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t},ti=function(r){return this.__data__.get(r)},tc=function(r){return this.__data__.has(r)},ur=function(r){if(!Se(r))return!1;var e=cr(r);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Lo=En["__core-js_shared__"];var aa=function(){var r=/[^.]+$/.exec(Lo&&Lo.keys&&Lo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();const wh=function(r){return!!aa&&aa in r};var _h=Function.prototype.toString;const Yt=function(r){if(r!=null){try{return _h.call(r)}catch{}try{return r+""}catch{}}return""};var nc=/^\[object .+?Constructor\]$/,ni=Function.prototype,Ah=Object.prototype,rc=ni.toString,vh=Ah.hasOwnProperty,Ch=RegExp("^"+rc.call(vh).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const yh=function(r){return!(!Se(r)||wh(r))&&(ur(r)?Ch:nc).test(Yt(r))},xh=function(r,e){return r==null?void 0:r[e]},Dr=function(r,e){var t=xh(r,e);return yh(t)?t:void 0},ri=Dr(En,"Map"),qi=Dr(Object,"create"),U=function(){this.__data__=qi?qi(null):{},this.size=0},ne=function(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e};var se=Object.prototype.hasOwnProperty;const ve=function(r){var e=this.__data__;if(qi){var t=e[r];return t==="__lodash_hash_undefined__"?void 0:t}return se.call(e,r)?e[r]:void 0};var Pe=Object.prototype.hasOwnProperty;const Qt=function(r){var e=this.__data__;return qi?e[r]!==void 0:Pe.call(e,r)},Jt=function(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=qi&&e===void 0?"__lodash_hash_undefined__":e,this};function Zt(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Zt.prototype.clear=U,Zt.prototype.delete=ne,Zt.prototype.get=ve,Zt.prototype.has=Qt,Zt.prototype.set=Jt;const hr=Zt,Ro=function(){this.size=0,this.__data__={hash:new hr,map:new(ri||Oo),string:new hr}},zo=function(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null},Sr=function(r,e){var t=r.__data__;return zo(e)?t[typeof e=="string"?"string":"hash"]:t.map},ic=function(r){var e=Sr(this,r).delete(r);return this.size-=e?1:0,e},oc=function(r){return Sr(this,r).get(r)},ii=function(r){return Sr(this,r).has(r)},Wi=function(r,e){var t=Sr(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this};function Dn(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Dn.prototype.clear=Ro,Dn.prototype.delete=ic,Dn.prototype.get=oc,Dn.prototype.has=ii,Dn.prototype.set=Wi;const sc=Dn,lT=function(r,e){var t=this.__data__;if(t instanceof Oo){var n=t.__data__;if(!ri||n.length<199)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new sc(n)}return t.set(r,e),this.size=t.size,this};function Fo(r){var e=this.__data__=new Oo(r);this.size=e.size}Fo.prototype.clear=kh,Fo.prototype.delete=bh,Fo.prototype.get=ti,Fo.prototype.has=tc,Fo.prototype.set=lT;const Vo=Fo,cT=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r},ac=function(){try{var r=Dr(Object,"defineProperty");return r({},"",{}),r}catch{}}(),lc=function(r,e,t){e=="__proto__"&&ac?ac(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t};var dT=Object.prototype.hasOwnProperty;const Eh=function(r,e,t){var n=r[e];dT.call(r,e)&&ei(n,t)&&(t!==void 0||e in r)||lc(r,e,t)},Uo=function(r,e,t,n){var i=!t;t||(t={});for(var a=-1,c=e.length;++a<c;){var d=e[a],h=void 0;h===void 0&&(h=r[d]),i?lc(t,d,h):Eh(t,d,h)}return t},uT=function(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n},Tk=function(r){return Kt(r)&&cr(r)=="[object Arguments]"};var Ik=Object.prototype,hT=Ik.hasOwnProperty,pT=Ik.propertyIsEnumerable;const cc=Tk(function(){return arguments}())?Tk:function(r){return Kt(r)&&hT.call(r,"callee")&&!pT.call(r,"callee")},mT=function(){return!1};var Mk=s&&!s.nodeType&&s,Nk=Mk&&!0&&o&&!o.nodeType&&o,Bk=Nk&&Nk.exports===Mk?En.Buffer:void 0;const la=(Bk?Bk.isBuffer:void 0)||mT;var gT=/^(?:0|[1-9]\d*)$/;const dc=function(r,e){var t=typeof r;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&gT.test(r))&&r>-1&&r%1==0&&r<e},Dh=function(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=9007199254740991};var Je={};Je["[object Float32Array]"]=Je["[object Float64Array]"]=Je["[object Int8Array]"]=Je["[object Int16Array]"]=Je["[object Int32Array]"]=Je["[object Uint8Array]"]=Je["[object Uint8ClampedArray]"]=Je["[object Uint16Array]"]=Je["[object Uint32Array]"]=!0,Je["[object Arguments]"]=Je["[object Array]"]=Je["[object ArrayBuffer]"]=Je["[object Boolean]"]=Je["[object DataView]"]=Je["[object Date]"]=Je["[object Error]"]=Je["[object Function]"]=Je["[object Map]"]=Je["[object Number]"]=Je["[object Object]"]=Je["[object RegExp]"]=Je["[object Set]"]=Je["[object String]"]=Je["[object WeakMap]"]=!1;const fT=function(r){return Kt(r)&&Dh(r.length)&&!!Je[cr(r)]},Sh=function(r){return function(e){return r(e)}};var jk=s&&!s.nodeType&&s,ca=jk&&!0&&o&&!o.nodeType&&o,Th=ca&&ca.exports===jk&&ch.process;const Ho=function(){try{var r=ca&&ca.require&&ca.require("util").types;return r||Th&&Th.binding&&Th.binding("util")}catch{}}();var Pk=Ho&&Ho.isTypedArray;const Ih=Pk?Sh(Pk):fT;var kT=Object.prototype.hasOwnProperty;const Ok=function(r,e){var t=zt(r),n=!t&&cc(r),i=!t&&!n&&la(r),a=!t&&!n&&!i&&Ih(r),c=t||n||i||a,d=c?uT(r.length,String):[],h=d.length;for(var m in r)!e&&!kT.call(r,m)||c&&(m=="length"||i&&(m=="offset"||m=="parent")||a&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||dc(m,h))||d.push(m);return d};var bT=Object.prototype;const Mh=function(r){var e=r&&r.constructor;return r===(typeof e=="function"&&e.prototype||bT)},wT=Er(Object.keys,Object);var _T=Object.prototype.hasOwnProperty;const AT=function(r){if(!Mh(r))return wT(r);var e=[];for(var t in Object(r))_T.call(r,t)&&t!="constructor"&&e.push(t);return e},uc=function(r){return r!=null&&Dh(r.length)&&!ur(r)},da=function(r){return uc(r)?Ok(r):AT(r)},vT=function(r,e){return r&&Uo(e,da(e),r)},CT=function(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e};var yT=Object.prototype.hasOwnProperty;const xT=function(r){if(!Se(r))return CT(r);var e=Mh(r),t=[];for(var n in r)(n!="constructor"||!e&&yT.call(r,n))&&t.push(n);return t},$o=function(r){return uc(r)?Ok(r,!0):xT(r)},ET=function(r,e){return r&&Uo(e,$o(e),r)};var Lk=s&&!s.nodeType&&s,Rk=Lk&&!0&&o&&!o.nodeType&&o,zk=Rk&&Rk.exports===Lk?En.Buffer:void 0,Fk=zk?zk.allocUnsafe:void 0;const Vk=function(r,e){if(e)return r.slice();var t=r.length,n=Fk?Fk(t):new r.constructor(t);return r.copy(n),n},Uk=function(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e},DT=function(r,e){for(var t=-1,n=r==null?0:r.length,i=0,a=[];++t<n;){var c=r[t];e(c,t,r)&&(a[i++]=c)}return a},Hk=function(){return[]};var ST=Object.prototype.propertyIsEnumerable,$k=Object.getOwnPropertySymbols;const Nh=$k?function(r){return r==null?[]:(r=Object(r),DT($k(r),function(e){return ST.call(r,e)}))}:Hk,TT=function(r,e){return Uo(r,Nh(r),e)},qk=function(r,e){for(var t=-1,n=e.length,i=r.length;++t<n;)r[i+t]=e[t];return r},Wk=Object.getOwnPropertySymbols?function(r){for(var e=[];r;)qk(e,Nh(r)),r=$i(r);return e}:Hk,IT=function(r,e){return Uo(r,Wk(r),e)},Gk=function(r,e,t){var n=e(r);return zt(r)?n:qk(n,t(r))},Bh=function(r){return Gk(r,da,Nh)},MT=function(r){return Gk(r,$o,Wk)},jh=Dr(En,"DataView"),Ph=Dr(En,"Promise"),Oh=Dr(En,"Set"),Lh=Dr(En,"WeakMap");var Kk="[object Map]",Yk="[object Promise]",Qk="[object Set]",Jk="[object WeakMap]",Zk="[object DataView]",NT=Yt(jh),BT=Yt(ri),jT=Yt(Ph),PT=Yt(Oh),OT=Yt(Lh),Gi=cr;(jh&&Gi(new jh(new ArrayBuffer(1)))!=Zk||ri&&Gi(new ri)!=Kk||Ph&&Gi(Ph.resolve())!=Yk||Oh&&Gi(new Oh)!=Qk||Lh&&Gi(new Lh)!=Jk)&&(Gi=function(r){var e=cr(r),t=e=="[object Object]"?r.constructor:void 0,n=t?Yt(t):"";if(n)switch(n){case NT:return Zk;case BT:return Kk;case jT:return Yk;case PT:return Qk;case OT:return Jk}return e});const ua=Gi;var LT=Object.prototype.hasOwnProperty;const RT=function(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&LT.call(r,"index")&&(t.index=r.index,t.input=r.input),t},hc=En.Uint8Array,Rh=function(r){var e=new r.constructor(r.byteLength);return new hc(e).set(new hc(r)),e},zT=function(r,e){var t=e?Rh(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)};var FT=/\w*$/;const VT=function(r){var e=new r.constructor(r.source,FT.exec(r));return e.lastIndex=r.lastIndex,e};var Xk=Hn?Hn.prototype:void 0,eb=Xk?Xk.valueOf:void 0;const UT=function(r){return eb?Object(eb.call(r)):{}},tb=function(r,e){var t=e?Rh(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)},HT=function(r,e,t){var n=r.constructor;switch(e){case"[object ArrayBuffer]":return Rh(r);case"[object Boolean]":case"[object Date]":return new n(+r);case"[object DataView]":return zT(r,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return tb(r,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(r);case"[object RegExp]":return VT(r);case"[object Symbol]":return UT(r)}};var nb=Object.create;const $T=function(){function r(){}return function(e){if(!Se(e))return{};if(nb)return nb(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),rb=function(r){return typeof r.constructor!="function"||Mh(r)?{}:$T($i(r))},qT=function(r){return Kt(r)&&ua(r)=="[object Map]"};var ib=Ho&&Ho.isMap;const WT=ib?Sh(ib):qT,GT=function(r){return Kt(r)&&ua(r)=="[object Set]"};var ob=Ho&&Ho.isSet;const KT=ob?Sh(ob):GT;var sb="[object Arguments]",ab="[object Function]",lb="[object Object]",Ge={};Ge[sb]=Ge["[object Array]"]=Ge["[object ArrayBuffer]"]=Ge["[object DataView]"]=Ge["[object Boolean]"]=Ge["[object Date]"]=Ge["[object Float32Array]"]=Ge["[object Float64Array]"]=Ge["[object Int8Array]"]=Ge["[object Int16Array]"]=Ge["[object Int32Array]"]=Ge["[object Map]"]=Ge["[object Number]"]=Ge[lb]=Ge["[object RegExp]"]=Ge["[object Set]"]=Ge["[object String]"]=Ge["[object Symbol]"]=Ge["[object Uint8Array]"]=Ge["[object Uint8ClampedArray]"]=Ge["[object Uint16Array]"]=Ge["[object Uint32Array]"]=!0,Ge["[object Error]"]=Ge[ab]=Ge["[object WeakMap]"]=!1;const zh=function r(e,t,n,i,a,c){var d,h=1&t,m=2&t,f=4&t;if(n&&(d=a?n(e,i,a,c):n(e)),d!==void 0)return d;if(!Se(e))return e;var w=zt(e);if(w){if(d=RT(e),!h)return Uk(e,d)}else{var v=ua(e),x=v==ab||v=="[object GeneratorFunction]";if(la(e))return Vk(e,h);if(v==lb||v==sb||x&&!a){if(d=m||x?{}:rb(e),!h)return m?IT(e,ET(d,e)):TT(e,vT(d,e))}else{if(!Ge[v])return a?e:{};d=HT(e,v,h)}}c||(c=new Vo);var S=c.get(e);if(S)return S;c.set(e,d),KT(e)?e.forEach(function(P){d.add(r(P,t,n,P,e,c))}):WT(e)&&e.forEach(function(P,z){d.set(z,r(P,t,n,z,e,c))});var I=w?void 0:(f?m?MT:Bh:m?$o:da)(e);return cT(I||e,function(P,z){I&&(P=e[z=P]),Eh(d,z,r(P,t,n,z,e,c))}),d},Fh=function(r,e){return zh(r,5,e=typeof e=="function"?e:void 0)},Ki=function(r){return Kt(r)&&r.nodeType===1&&!Vt(r)};class cb{constructor(e,t){this._config={},t&&this.define(db(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,i=!1){if(Vt(t))return void this._setObjectToTarget(e,t,i);const a=t.split(".");t=a.pop();for(const c of a)Vt(e[c])||(e[c]={}),e=e[c];if(Vt(n))return Vt(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,i);i&&e[t]!==void 0||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const i of n){if(!Vt(e[i])){e=null;break}e=e[i]}return e?db(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(i=>{this._setToTarget(e,i,t[i],n)})}}function db(r){return Fh(r,YT)}function YT(r){return Ki(r)||typeof r=="function"?r:void 0}function oi(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}function pc(r){const e=Object.prototype.toString.apply(r);return e=="[object Window]"||e=="[object global]"}const ub=Sn(Z());function Sn(r){return r?class extends r{listenTo(e,t,n,i={}){if(oi(e)||pc(e)){const a={capture:!!i.useCapture,passive:!!i.usePassive},c=this._getProxyEmitter(e,a)||new QT(e,a);this.listenTo(c,t,n,i)}else super.listenTo(e,t,n,i)}stopListening(e,t,n){if(oi(e)||pc(e)){const i=this._getAllProxyEmitters(e);for(const a of i)this.stopListening(a,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(n,i){const a=n[xe];return a&&a[i]?a[i].emitter:null}(this,hb(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:ub}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(r=>{Sn[r]=ub.prototype[r]});class QT extends Z(){constructor(e,t){super(),ue(this,hb(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),Z().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){Z().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function hb(r,e){let t=function(n){return n["data-ck-expando"]||(n["data-ck-expando"]=R())}(r);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}function pb(r){const e=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function at(r){return Object.prototype.toString.call(r)=="[object Text]"}function mc(r){return Object.prototype.toString.apply(r)=="[object Range]"}function mb(r){return r&&r.parentNode?r.offsetParent===_.document.body?null:r.offsetParent:null}const gb=["top","right","bottom","left","width","height"];class Ce{constructor(e){const t=mc(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Vh(e)||t)if(t){const n=Ce.getDomRangeRects(e);gc(this,Ce.getBoundingRect(n))}else gc(this,e.getBoundingClientRect());else if(pc(e)){const{innerWidth:n,innerHeight:i}=e;gc(this,{top:0,right:n,bottom:i,left:0,width:n,height:i})}else gc(this,e)}clone(){return new Ce(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const n=new Ce(t);return n._source=this._source,n}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(fb(e))return t;let n,i=e,a=e.parentNode||e.commonAncestorContainer;for(;a&&!fb(a);){const d=((c=a)instanceof HTMLElement?c.ownerDocument.defaultView.getComputedStyle(c).overflow:"visible")==="visible";i instanceof HTMLElement&&kb(i)==="absolute"&&(n=i);const h=kb(a);if(d||n&&(h==="relative"&&d||h!=="relative")){i=a,a=a.parentNode;continue}const m=new Ce(a),f=t.getIntersection(m);if(!f)return null;f.getArea()<t.getArea()&&(t=f),i=a,a=a.parentNode}var c;return t}isEqual(e){for(const t of gb)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=_.window,n=this.clone().moveBy(e,t);if(Vh(n._source)){const i=mb(n._source);i&&function(a,c){const d=new Ce(c),h=pb(c);let m=0,f=0;m-=d.left,f-=d.top,m+=c.scrollLeft,f+=c.scrollTop,m-=h.left,f-=h.top,a.moveBy(m,f)}(n,i)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,i;if(pc(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{const a=pb(e);t=e.offsetWidth-e.clientWidth-a.left-a.right,n=e.offsetHeight-e.clientHeight-a.top-a.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=a.left,this.top+=a.top,this.right-=a.right,this.bottom-=a.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,i==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const i of n)t.push(new Ce(i));else{let i=e.startContainer;at(i)&&(i=i.parentNode);const a=new Ce(i.getBoundingClientRect());a.right=a.left,a.width=0,t.push(a)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const i of e)n++,t.left=Math.min(t.left,i.left),t.top=Math.min(t.top,i.top),t.right=Math.max(t.right,i.right),t.bottom=Math.max(t.bottom,i.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Ce(t))}}function gc(r,e){for(const t of gb)r[t]=e[t]}function fb(r){return!!Vh(r)&&r===r.ownerDocument.body}function Vh(r){return r!==null&&typeof r=="object"&&r.nodeType===1&&typeof r.getBoundingClientRect=="function"}function kb(r){return r instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).position:"static"}const lt=class{constructor(r,e){lt._observerInstance||lt._createObserver(),this._element=r,this._callback=e,lt._addElementCallback(r,e),lt._observerInstance.observe(r)}get element(){return this._element}destroy(){lt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(r,e){lt._elementCallbacks||(lt._elementCallbacks=new Map);let t=lt._elementCallbacks.get(r);t||(t=new Set,lt._elementCallbacks.set(r,t)),t.add(e)}static _deleteElementCallback(r,e){const t=lt._getElementCallbacks(r);t&&(t.delete(e),t.size||(lt._elementCallbacks.delete(r),lt._observerInstance.unobserve(r))),lt._elementCallbacks&&!lt._elementCallbacks.size&&(lt._observerInstance=null,lt._elementCallbacks=null)}static _getElementCallbacks(r){return lt._elementCallbacks?lt._elementCallbacks.get(r):null}static _createObserver(){lt._observerInstance=new _.window.ResizeObserver(r=>{for(const e of r){const t=lt._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}};let ha=lt;function bb(r,e){r instanceof HTMLTextAreaElement&&(r.value=e),r.innerHTML=e}function qo(r){return e=>e+r}function pa(r){let e=0;for(;r.previousSibling;)r=r.previousSibling,e++;return e}function wb(r,e,t){r.insertBefore(t,r.childNodes[e]||null)}function ma(r){return r&&r.nodeType===Node.COMMENT_NODE}function Yi(r){return!!(r&&r.getClientRects&&r.getClientRects().length)}ha._observerInstance=null,ha._elementCallbacks=null;var _b=Math.pow;function fc({element:r,target:e,positions:t,limiter:n,fitInViewport:i,viewportOffsetConfig:a}){ur(e)&&(e=e()),ur(n)&&(n=n());const c=mb(r),d=function(v){v=Object.assign({top:0,bottom:0,left:0,right:0},v);const x=new Ce(_.window);return x.top+=v.top,x.height-=v.top,x.bottom-=v.bottom,x.height-=v.bottom,x}(a),h=new Ce(r),m=Ab(e,d);let f;if(!m||!d.getIntersection(m))return null;const w={targetRect:m,elementRect:h,positionedElementAncestor:c,viewportRect:d};if(n||i){if(n){const v=Ab(n,d);v&&(w.limiterRect=v)}f=function(v,x){const{elementRect:S}=x,I=S.getArea(),P=v.map(W=>new vb(W,x)).filter(W=>!!W.name);let z=0,F=null;for(const W of P){const{limiterIntersectionArea:K,viewportIntersectionArea:ie}=W;if(K===I)return W;const de=_b(ie,2)+_b(K,2);de>z&&(z=de,F=W)}return F}(t,w)}else f=new vb(t[0],w);return f}function Ab(r,e){const t=new Ce(r).getVisible();return t?t.getIntersection(e):null}class vb{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:i,top:a,name:c,config:d}=n;this.name=c,this.config=d,this._positioningFunctionCoordinates={left:i,top:a},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Cb(r){const e=r.parentNode;e&&e.removeChild(r)}function JT({window:r,rect:e,alignToTop:t,forceScroll:n,viewportOffset:i}){const a=e.clone().moveBy(0,i.bottom),c=e.clone().moveBy(0,-i.top),d=new Ce(r).excludeScrollbarsAndBorders(),h=t&&n,m=[c,a].every(S=>d.contains(S));let{scrollX:f,scrollY:w}=r;const v=f,x=w;h?w-=d.top-e.top+i.top:m||(xb(c,d)?w-=d.top-e.top+i.top:yb(a,d)&&(w+=t?e.top-d.top-i.top:e.bottom-d.bottom+i.bottom)),m||(Eb(e,d)?f-=d.left-e.left+i.left:Db(e,d)&&(f+=e.right-d.right+i.right)),f==v&&w===x||r.scrollTo(f,w)}function ZT({parent:r,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:i=0,limiterElement:a}){const c=Uh(r),d=t&&n;let h,m,f;const w=a||c.document.body;for(;r!=w;)m=e(),h=new Ce(r).excludeScrollbarsAndBorders(),f=h.contains(m),d?r.scrollTop-=h.top-m.top+i:f||(xb(m,h)?r.scrollTop-=h.top-m.top+i:yb(m,h)&&(r.scrollTop+=t?m.top-h.top-i:m.bottom-h.bottom+i)),f||(Eb(m,h)?r.scrollLeft-=h.left-m.left+i:Db(m,h)&&(r.scrollLeft+=m.right-h.right+i)),r=r.parentNode}function yb(r,e){return r.bottom>e.bottom}function xb(r,e){return r.top<e.top}function Eb(r,e){return r.left<e.left}function Db(r,e){return r.right>e.right}function Uh(r){return mc(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function XT(r){if(mc(r)){let e=r.commonAncestorContainer;return at(e)&&(e=e.parentNode),e}return r.parentNode}function Sb(r,e){const t=Uh(r),n=new Ce(r);if(t===e)return n;{let i=t;for(;i!=e;){const a=i.frameElement,c=new Ce(a).excludeScrollbarsAndBorders();n.moveBy(c.left,c.top),i=i.parent}}return n}const eI={ctrl:"",cmd:"",alt:"",shift:""},tI={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Tb={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},Te=function(){const r={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)r[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)r[e-48]=e;for(let e=112;e<=123;e++)r["f"+(e-111)]=e;return Object.assign(r,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),r}(),nI=Object.fromEntries(Object.entries(Te).map(([r,e])=>{let t;return t=e in Tb?Tb[e]:r.charAt(0).toUpperCase()+r.slice(1),[e,t]}));function Wo(r){let e;if(typeof r=="string"){if(e=Te[r.toLowerCase()],!e)throw new M("keyboard-unknown-key",null,{key:r})}else e=r.keyCode+(r.altKey?Te.alt:0)+(r.ctrlKey?Te.ctrl:0)+(r.shiftKey?Te.shift:0)+(r.metaKey?Te.cmd:0);return e}function ga(r){return typeof r=="string"&&(r=function(e){return e.split("+").map(t=>t.trim())}(r)),r.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return Wo(t.slice(0,-1));const n=Wo(t);return(E.isMac||E.isiOS)&&n==Te.ctrl?Te.cmd:n}(e):e).reduce((e,t)=>t+e,0)}function kc(r){let e=ga(r);return Object.entries(E.isMac||E.isiOS?eI:tI).reduce((t,[n,i])=>(e&Te[n]&&(e&=~Te[n],t+=i),t),"")+(e?nI[e]:"")}function Hh(r,e){const t=e==="ltr";switch(r){case Te.arrowleft:return t?"left":"right";case Te.arrowright:return t?"right":"left";case Te.arrowup:return"up";case Te.arrowdown:return"down"}}function qe(r){return Array.isArray(r)?r:[r]}const $h=function(r,e,t){(t!==void 0&&!ei(r[e],t)||t===void 0&&!(e in r))&&lc(r,e,t)},Ib=function(r){return function(e,t,n){for(var i=-1,a=Object(e),c=n(e),d=c.length;d--;){var h=c[++i];if(t(a[h],h,a)===!1)break}return e}}(),rI=function(r){return Kt(r)&&uc(r)},Mb=function(r,e){if((e!=="constructor"||typeof r[e]!="function")&&e!="__proto__")return r[e]},iI=function(r){return Uo(r,$o(r))},oI=function(r,e,t,n,i,a,c){var d=Mb(r,t),h=Mb(e,t),m=c.get(h);if(m)$h(r,t,m);else{var f=void 0,w=f===void 0;if(w){var v=zt(h),x=!v&&la(h),S=!v&&!x&&Ih(h);f=h,v||x||S?zt(d)?f=d:rI(d)?f=Uk(d):x?(w=!1,f=Vk(h,!0)):S?(w=!1,f=tb(h,!0)):f=[]:Vt(h)||cc(h)?(f=d,cc(d)?f=iI(d):Se(d)&&!ur(d)||(f=rb(h))):w=!1}w&&(c.set(h,f),i(f,h,n,a,c),c.delete(h)),$h(r,t,f)}},sI=function r(e,t,n,i,a){e!==t&&Ib(t,function(c,d){if(a||(a=new Vo),Se(c))oI(e,t,d,n,r,i,a);else{var h=void 0;h===void 0&&(h=c),$h(e,d,h)}},$o)},si=function(r){return r},aI=function(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)};var Nb=Math.max;const lI=function(r,e,t){return e=Nb(e===void 0?r.length-1:e,0),function(){for(var n=arguments,i=-1,a=Nb(n.length-e,0),c=Array(a);++i<a;)c[i]=n[e+i];i=-1;for(var d=Array(e+1);++i<e;)d[i]=n[i];return d[e]=t(c),aI(r,this,d)}},cI=function(r){return function(){return r}},dI=ac?function(r,e){return ac(r,"toString",{configurable:!0,enumerable:!1,value:cI(e),writable:!0})}:si;var uI=Date.now;const hI=function(r){var e=0,t=0;return function(){var n=uI(),i=16-(n-t);if(t=n,i>0){if(++e>=800)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}(dI),pI=function(r,e){return hI(lI(r,e,si),r+"")},mI=function(r,e,t){if(!Se(t))return!1;var n=typeof e;return!!(n=="number"?uc(t)&&dc(e,t.length):n=="string"&&e in t)&&ei(t[e],r)},Bb=function(r){return pI(function(e,t){var n=-1,i=t.length,a=i>1?t[i-1]:void 0,c=i>2?t[2]:void 0;for(a=r.length>3&&typeof a=="function"?(i--,a):void 0,c&&mI(t[0],t[1],c)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var d=t[n];d&&r(e,d,n,a)}return e})},qh=Bb(function(r,e,t){sI(r,e,t)});function gI(r,e,t=1,n){if(typeof t!="number")throw new M("translation-service-quantity-not-a-number",null,{quantity:t});const i=n||_.window.CKEDITOR_TRANSLATIONS,a=function(f){return Object.keys(f).length}(i);a===1&&(r=Object.keys(i)[0]);const c=e.id||e.string;if(a===0||!function(f,w,v){return!!v[f]&&!!v[f].dictionary[w]}(r,c,i))return t!==1?e.plural:e.string;const d=i[r].dictionary,h=i[r].getPluralForm||(f=>f===1?0:1),m=d[c];return typeof m=="string"?m:m[Number(h(t))]}_.window.CKEDITOR_TRANSLATIONS||(_.window.CKEDITOR_TRANSLATIONS={});const fI=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function jb(r){return fI.includes(r)?"rtl":"ltr"}class kI{constructor({uiLanguage:e="en",contentLanguage:t,translations:n}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=jb(this.uiLanguage),this.contentLanguageDirection=jb(this.contentLanguage),this.translations=function(i){return Array.isArray(i)?i.reduce((a,c)=>qh(a,c)):i}(n),this.t=(i,a)=>this._t(i,a)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=qe(t),typeof e=="string"&&(e={string:e});const n=e.plural?t[0]:1;return function(i,a){return i.replace(/%(\d+)/g,(c,d)=>d<a.length?a[d]:c)}(gI(this.uiLanguage,e,n,this.translations),t)}}class $n extends Z(){constructor(e={},t={}){super();const n=Gt(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const i of e)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new M("collection-add-item-invalid-index",this);let n=0;for(const i of e){const a=this._getItemIdBeforeAdding(i),c=t+n;this._items.splice(c,0,i),this._itemMap.set(a,i),this.fire("add",i,c),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new M("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new M("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(i,a,c)=>{const d=t._bindToCollection==this,h=t._bindToInternalToExternalMap.get(a);if(d&&h)this._bindToExternalToInternalMap.set(a,h),this._bindToInternalToExternalMap.set(h,a);else{const m=e(a);if(!m)return void this._skippedIndexesFromExternal.push(c);let f=c;for(const w of this._skippedIndexesFromExternal)c>w&&f--;for(const w of t._skippedIndexesFromExternal)f>=w&&f++;this._bindToExternalToInternalMap.set(a,m),this._bindToInternalToExternalMap.set(m,a),this.add(m,f);for(let w=0;w<t._skippedIndexesFromExternal.length;w++)f<=t._skippedIndexesFromExternal[w]&&t._skippedIndexesFromExternal[w]++}};for(const i of t)n(0,i,t.getIndex(i));this.listenTo(t,"add",n),this.listenTo(t,"remove",(i,a,c)=>{const d=this._bindToExternalToInternalMap.get(a);d&&this.remove(d),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((h,m)=>(c<m&&h.push(m-1),c>m&&h.push(m),h),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new M("collection-add-invalid-id",this);if(this.get(n))throw new M("collection-add-item-already-exists",this)}else e[t]=n=R();return n}_remove(e){let t,n,i,a=!1;const c=this._idProperty;if(typeof e=="string"?(n=e,i=this._itemMap.get(n),a=!i,i&&(t=this._items.indexOf(i))):typeof e=="number"?(t=e,i=this._items[t],a=!i,i&&(n=i[c])):(i=e,n=i[c],t=this._items.indexOf(i),a=t==-1||!this._itemMap.get(n)),a)throw new M("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const d=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(d),this.fire("remove",i,t),[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function _t(r){const e=r.next();return e.done?null:e.value}class At extends Sn(Le()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new M("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Ut{constructor(){this._listener=new(Sn())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+Wo(n),n)})}set(e,t,n={}){const i=ga(e),a=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(c,d)=>{t(d,()=>{d.preventDefault(),d.stopPropagation(),c.stop()}),c.return=!0},{priority:a})}press(e){return!!this._listener.fire("_keydown:"+Wo(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function pr(r){return Gt(r)?new Map(r):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(r)}function Wh(r,e){let t;function n(...i){n.cancel(),t=setTimeout(()=>r(...i),e)}return n.cancel=()=>{clearTimeout(t)},n}function Gh(r,e){return!!(t=r.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}(r.charAt(e));var t}function Kh(r,e){return!!(t=r.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const bI=function(){const r=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+r.map(n=>n.source).join("|")+")";return new RegExp(`${e}|${t}(?:${t})*`,"ug")}();function Pb(r,e){const t=String(r).matchAll(bI);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}class Tn extends $n{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,i)=>{this._renderViewIntoCollectionParent(n,i)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new M("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const i of e)n.delegate(i).to(t);this.on("add",(n,i)=>{for(const a of e)i.delegate(a).to(t)}),this.on("remove",(n,i)=>{for(const a of e)i.stopDelegating(a,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class qn extends Z(){constructor(e){super(),Object.assign(this,zb(Rb(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new M("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)wc(n)?yield n:Yh(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,i)=>new wI({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i}),if:(n,i,a)=>new Ob({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:a})}}static extend(e,t){if(e._isRendered)throw new M("template-extend-render",[this,e]);Hb(e,zb(Rb(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new M("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),bc(this.text)?this._bindToObservable({schema:this.text,updater:_I(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const i in this.attributes){const a=t.getAttribute(i),c=this.attributes[i];n&&(n.attributes[i]=a);const d=$b(c)?c[0].ns:null;if(bc(c)){const h=$b(c)?c[0].value:c;n&&qb(i)&&h.unshift(a),this._bindToObservable({schema:h,updater:AI(t,i,d),data:e})}else if(i=="style"&&typeof c[0]!="string")this._renderStyleAttribute(c[0],e);else{n&&a&&qb(i)&&c.unshift(a);const h=c.map(m=>m&&m.value||m).reduce((m,f)=>m.concat(f),[]).reduce(Vb,"");Go(h)||t.setAttributeNS(d,i,h)}}}_renderStyleAttribute(e,t){const n=t.node;for(const i in e){const a=e[i];bc(a)?this._bindToObservable({schema:[a],updater:vI(n,i),data:t}):n.style[i]=a}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,i=e.isApplying;let a=0;for(const c of this.children)if(Qh(c)){if(!i){c.setParent(t);for(const d of c)n.appendChild(d.element)}}else if(wc(c))i||(c.isRendered||c.render(),n.appendChild(c.element));else if(oi(c))n.appendChild(c);else if(i){const d={children:[],bindings:[],attributes:{}};e.revertData.children.push(d),c._renderNode({intoFragment:!1,node:n.childNodes[a++],isApplying:!0,revertData:d})}else n.appendChild(c.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(i=>{const[a,c]=t.split("@");return i.activateDomEventListener(a,c,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const i=n.revertData;Lb(e,t,n);const a=e.filter(c=>!Go(c)).filter(c=>c.observable).map(c=>c.activateAttributeListener(e,t,n));i&&i.bindings.push(a)}_revertTemplateFromNode(e,t){for(const i of t.bindings)for(const a of i)a();if(t.text)return void(e.textContent=t.text);const n=e;for(const i in t.attributes){const a=t.attributes[i];a===null?n.removeAttribute(i):n.setAttribute(i,a)}for(let i=0;i<t.children.length;++i)this._revertTemplateFromNode(n.childNodes[i],t.children[i])}}class fa{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const i=()=>Lb(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class wI extends fa{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const i=(a,c)=>{t&&!c.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(c):this.observable.fire(this.eventNameOrFunction,c))};return this.emitter.listenTo(n.node,e,i),()=>{this.emitter.stopListening(n.node,e,i)}}}class Ob extends fa{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Go(super.getValue(e))&&(this.valueIfTrue||!0)}}function bc(r){return!!r&&(r.value&&(r=r.value),Array.isArray(r)?r.some(bc):r instanceof fa)}function Lb(r,e,{node:t}){const n=function(a,c){return a.map(d=>d instanceof fa?d.getValue(c):d)}(r,t);let i;i=r.length==1&&r[0]instanceof Ob?n[0]:n.reduce(Vb,""),Go(i)?e.remove():e.set(i)}function _I(r){return{set(e){r.textContent=e},remove(){r.textContent=""}}}function AI(r,e,t){return{set(n){r.setAttributeNS(t,e,n)},remove(){r.removeAttributeNS(t,e)}}}function vI(r,e){return{set(t){r.style[e]=t},remove(){r.style[e]=null}}}function Rb(r){return Fh(r,e=>{if(e&&(e instanceof fa||Yh(e)||wc(e)||Qh(e)))return e})}function zb(r){if(typeof r=="string"?r=function(e){return{text:[e]}}(r):r.text&&function(e){e.text=qe(e.text)}(r),r.on&&(r.eventListeners=function(e){for(const t in e)Fb(e,t);return e}(r.on),delete r.on),!r.text){r.attributes&&function(t){for(const n in t)t[n].value&&(t[n].value=qe(t[n].value)),Fb(t,n)}(r.attributes);const e=[];if(r.children)if(Qh(r.children))e.push(r.children);else for(const t of r.children)Yh(t)||wc(t)||oi(t)?e.push(t):e.push(new qn(t));r.children=e}return r}function Fb(r,e){r[e]=qe(r[e])}function Vb(r,e){return Go(e)?r:Go(r)?e:`${r} ${e}`}function Ub(r,e){for(const t in e)r[t]?r[t].push(...e[t]):r[t]=e[t]}function Hb(r,e){if(e.attributes&&(r.attributes||(r.attributes={}),Ub(r.attributes,e.attributes)),e.eventListeners&&(r.eventListeners||(r.eventListeners={}),Ub(r.eventListeners,e.eventListeners)),e.text&&r.text.push(...e.text),e.children&&e.children.length){if(r.children.length!=e.children.length)throw new M("ui-template-extend-children-mismatch",r);let t=0;for(const n of e.children)Hb(r.children[t++],n)}}function Go(r){return!r&&r!==0}function wc(r){return r instanceof ce}function Yh(r){return r instanceof qn}function Qh(r){return r instanceof Tn}function $b(r){return Se(r[0])&&r[0].ns}function qb(r){return r=="class"||r=="style"}var CI=p(2591),ee=p.n(CI),Wb=p(7676),yI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Wb.A,yI),Wb.A.locals;class ce extends Sn(Le()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new $n,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=qn.bind(this,this)}createCollection(e){const t=new Tn(e);return this._viewCollections.add(t),t}registerChild(e){Gt(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Gt(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new qn(e)}extendTemplate(e){qn.extend(this.template,e)}render(){if(this.isRendered)throw new M("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function _c({emitter:r,activator:e,callback:t,contextElements:n}){r.listenTo(document,"mousedown",(i,a)=>{if(!e())return;const c=typeof a.composedPath=="function"?a.composedPath():[],d=typeof n=="function"?n():n;for(const h of d)if(h.contains(a.target)||c.includes(h))return;t()})}function Jh(r){return class extends r{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Ac({view:r}){r.listenTo(r.element,"submit",(e,t)=>{t.preventDefault(),r.fire("submit")},{useCapture:!0})}function xI({keystrokeHandler:r,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:i}){const a=()=>n;function c(m){return f=>{const w=t.find(S=>S.element===e.focusedElement),v=t.getIndex(w),x=m(v,t);t.get(x).focus(),f.stopPropagation(),f.preventDefault()}}function d(m,f){return m===f-1?0:m+1}function h(m,f){return m===0?f-1:m-1}r.set("arrowright",c((m,f)=>i==="rtl"?h(m,f.length):d(m,f.length))),r.set("arrowleft",c((m,f)=>i==="rtl"?d(m,f.length):h(m,f.length))),r.set("arrowup",c((m,f)=>{let w=m-a();return w<0&&(w=m+a()*Math.floor(f.length/a()),w>f.length-1&&(w-=a())),w})),r.set("arrowdown",c((m,f)=>{let w=m+a();return w>f.length-1&&(w=m%a()),w}))}class J extends Le(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Gb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Gb),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Gb(r){r.return=!1,r.stop()}class Ae extends Le(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,i=n.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!i)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Kb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Kb),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Kb(r){r.return=!1,r.stop()}class Yb extends Ae{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){q(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class Qb extends Z(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const i of t)i.pluginName&&this._availablePlugins.set(i.pluginName,i);this._contextPlugins=new Map;for(const[i,a]of n)this._contextPlugins.set(i,a),this._contextPlugins.set(a,i),i.pluginName&&this._availablePlugins.set(i.pluginName,i)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new M("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const i=this,a=this._context;(function S(I,P=new Set){I.forEach(z=>{h(z)&&(P.has(z)||(P.add(z),z.pluginName&&!i._availablePlugins.has(z.pluginName)&&i._availablePlugins.set(z.pluginName,z),z.requires&&S(z.requires,P)))})})(e),v(e);const c=[...function S(I,P=new Set){return I.map(z=>h(z)?z:i._availablePlugins.get(z)).reduce((z,F)=>P.has(F)?z:(P.add(F),F.requires&&(v(F.requires,F),S(F.requires,P).forEach(W=>z.add(W))),z.add(F)),new Set)}(e.filter(S=>!f(S,t)))];(function(S,I){for(const P of I){if(typeof P!="function")throw new M("plugincollection-replace-plugin-invalid-type",null,{pluginItem:P});const z=P.pluginName;if(!z)throw new M("plugincollection-replace-plugin-missing-name",null,{pluginItem:P});if(P.requires&&P.requires.length)throw new M("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:z});const F=i._availablePlugins.get(z);if(!F)throw new M("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:z});const W=S.indexOf(F);if(W===-1){if(i._contextPlugins.has(F))return;throw new M("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:z})}if(F.requires&&F.requires.length)throw new M("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:z});S.splice(W,1,P),i._availablePlugins.set(z,P)}})(c,n);const d=c.map(S=>{let I=i._contextPlugins.get(S);return I=I||new S(a),i._add(S,I),I});return x(d,"init").then(()=>x(d,"afterInit")).then(()=>d);function h(S){return typeof S=="function"}function m(S){return h(S)&&!!S.isContextPlugin}function f(S,I){return I.some(P=>P===S||w(S)===P||w(P)===S)}function w(S){return h(S)?S.pluginName||S.name:S}function v(S,I=null){S.map(P=>h(P)?P:i._availablePlugins.get(P)||P).forEach(P=>{(function(z,F){if(!h(z))throw F?new M("plugincollection-soft-required",a,{missingPlugin:z,requiredBy:w(F)}):new M("plugincollection-plugin-not-found",a,{plugin:z})})(P,I),function(z,F){if(m(F)&&!m(z))throw new M("plugincollection-context-required",a,{plugin:w(z),requiredBy:w(F)})}(P,I),function(z,F){if(F&&f(z,t))throw new M("plugincollection-required",a,{plugin:w(z),requiredBy:w(F)})}(P,I)})}function x(S,I){return S.reduce((P,z)=>z[I]?i._contextPlugins.has(z)?P:P.then(z[I].bind(z)):P,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new M("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}var Jb=Object.getOwnPropertySymbols,EI=Object.prototype.hasOwnProperty,DI=Object.prototype.propertyIsEnumerable;class Zb{constructor(e){this._contextOwner=null;const t=e||{},{translations:n}=t,i=((d,h)=>{var m={};for(var f in d)EI.call(d,f)&&h.indexOf(f)<0&&(m[f]=d[f]);if(d!=null&&Jb)for(var f of Jb(d))h.indexOf(f)<0&&DI.call(d,f)&&(m[f]=d[f]);return m})(t,["translations"]);this.config=new cb(i,this.constructor.defaultConfig);const a=this.constructor.builtinPlugins;this.config.define("plugins",a),this.plugins=new Qb(this,a);const c=this.config.get("language")||{};this.locale=new kI({uiLanguage:typeof c=="string"?c:c.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new $n}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new M("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new M("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new M("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class vc extends Le(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class SI extends Ut{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const i=t;t=(a,c)=>{this.editor.execute(i),c()}}super.set(e,t,n)}}var Xb=p(4098),TI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Xb.A,TI),Xb.A.locals;const Cc=new WeakMap;let ew=!1;function tw({view:r,element:e,text:t,isDirectHost:n=!0,keepOnFocus:i=!1}){const a=r.document;function c(d){Cc.get(a).set(e,{text:d,isDirectHost:n,keepOnFocus:i,hostElement:n?e:null}),r.change(h=>Zh(a,h))}Cc.has(a)||(Cc.set(a,new Map),a.registerPostFixer(d=>Zh(a,d)),a.on("change:isComposing",()=>{r.change(d=>Zh(a,d))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(d,h,m)=>{c(m)}),e.placeholder?c(e.placeholder):t&&c(t),t&&function(){ew||$("enableplaceholder-deprecated-text-option"),ew=!0}()}function II(r,e){return!e.hasClass("ck-placeholder")&&(r.addClass("ck-placeholder",e),!0)}function MI(r,e){return!!e.hasClass("ck-placeholder")&&(r.removeClass("ck-placeholder",e),!0)}function NI(r,e){if(!r.isAttached()||Array.from(r.getChildren()).some(i=>!i.is("uiElement")))return!1;const t=r.document,n=t.selection.anchor;return(!t.isComposing||!n||n.parent!==r)&&(!!e||!t.isFocused||!!n&&n.parent!==r)}function Zh(r,e){const t=Cc.get(r),n=[];let i=!1;for(const[a,c]of t)c.isDirectHost&&(n.push(a),nw(e,a,c)&&(i=!0));for(const[a,c]of t){if(c.isDirectHost)continue;const d=BI(a);d&&(n.includes(d)||(c.hostElement=d,nw(e,a,c)&&(i=!0)))}return i}function nw(r,e,t){const{text:n,isDirectHost:i,hostElement:a}=t;let c=!1;return a.getAttribute("data-placeholder")!==n&&(r.setAttribute("data-placeholder",n,a),c=!0),(i||e.childCount==1)&&NI(a,t.keepOnFocus)?II(r,a)&&(c=!0):MI(r,a)&&(c=!0),c}function BI(r){if(r.childCount){const e=r.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Qi{is(){throw new Error("is() method is abstract")}}const rw=function(r){return zh(r,4)};class Ji extends Z(Qi){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new M("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),i=e.getAncestors(t);let a=0;for(;n[a]==i[a]&&n[a];)a++;return a===0?null:n[a-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),i=Nt(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=rw(this);return delete e.parent,e}}Ji.prototype.is=function(r){return r==="node"||r==="view:node"};class Ve extends Ji{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Ve&&(this===e||this.data===e.data)}_clone(){return new Ve(this.document,this.data)}}Ve.prototype.is=function(r){return r==="$text"||r==="view:$text"||r==="text"||r==="view:text"||r==="node"||r==="view:node"};class mr extends Qi{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new M("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new M("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}mr.prototype.is=function(r){return r==="$textProxy"||r==="view:$textProxy"||r==="textProxy"||r==="view:textProxy"};class gr{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const i=iw(t,n);if(i)return{element:t,pattern:n,match:i}}return null}matchAll(...e){const t=[];for(const n of e)for(const i of this._patterns){const a=iw(n,i);a&&t.push({element:n,pattern:i,match:a})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function iw(r,e){if(typeof e=="function")return e(r);const t={};return e.name&&(t.name=function(n,i){return n instanceof RegExp?!!i.match(n):n===i}(e.name,r.name),!t.name)||e.attributes&&(t.attributes=function(n,i){const a=new Set(i.getAttributeKeys());return Vt(n)?(n.style!==void 0&&$("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&$("matcher-pattern-deprecated-attributes-class-key",n)):(a.delete("style"),a.delete("class")),Xh(n,a,c=>i.getAttribute(c))}(e.attributes,r),!t.attributes)||e.classes&&(t.classes=function(n,i){return Xh(n,i.getClassNames(),()=>{})}(e.classes,r),!t.classes)||e.styles&&(t.styles=function(n,i){return Xh(n,i.getStyleNames(!0),a=>i.getStyle(a))}(e.styles,r),!t.styles)?null:t}function Xh(r,e,t){const n=function(c){return Array.isArray(c)?c.map(d=>Vt(d)?(d.key!==void 0&&d.value!==void 0||$("matcher-pattern-missing-key-or-value",d),[d.key,d.value]):[d,!0]):Vt(c)?Object.entries(c):[[c,!0]]}(r),i=Array.from(e),a=[];if(n.forEach(([c,d])=>{i.forEach(h=>{(function(m,f){return m===!0||m===f||m instanceof RegExp&&f.match(m)})(c,h)&&function(m,f,w){if(m===!0)return!0;const v=w(f);return m===v||m instanceof RegExp&&!!String(v).match(m)}(d,h,t)&&a.push(h)})}),n.length&&!(a.length<n.length))return a}const yc=function(r){return typeof r=="symbol"||Kt(r)&&cr(r)=="[object Symbol]"};var jI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PI=/^\w*$/;const ep=function(r,e){if(zt(r))return!1;var t=typeof r;return!(t!="number"&&t!="symbol"&&t!="boolean"&&r!=null&&!yc(r))||PI.test(r)||!jI.test(r)||e!=null&&r in Object(e)};function tp(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=t.cache;if(a.has(i))return a.get(i);var c=r.apply(this,n);return t.cache=a.set(i,c)||a,c};return t.cache=new(tp.Cache||sc),t}tp.Cache=sc;const OI=tp,LI=function(r){var e=OI(r,function(n){return t.size===500&&t.clear(),n}),t=e.cache;return e};var RI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zI=/\\(\\)?/g,FI=LI(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(RI,function(t,n,i,a){e.push(i?a.replace(zI,"$1"):n||t)}),e});const VI=FI,UI=function(r,e){for(var t=-1,n=r==null?0:r.length,i=Array(n);++t<n;)i[t]=e(r[t],t,r);return i};var ow=Hn?Hn.prototype:void 0,sw=ow?ow.toString:void 0;const HI=function r(e){if(typeof e=="string")return e;if(zt(e))return UI(e,r)+"";if(yc(e))return sw?sw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},np=function(r){return r==null?"":HI(r)},xc=function(r,e){return zt(r)?r:ep(r,e)?[r]:VI(np(r))},$I=function(r){var e=r==null?0:r.length;return e?r[e-1]:void 0},Ko=function(r){if(typeof r=="string"||yc(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e},rp=function(r,e){for(var t=0,n=(e=xc(e,r)).length;r!=null&&t<n;)r=r[Ko(e[t++])];return t&&t==n?r:void 0},aw=function(r,e,t){var n=-1,i=r.length;e<0&&(e=-e>i?0:i+e),(t=t>i?i:t)<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=r[n+e];return a},qI=function(r,e){return e.length<2?r:rp(r,aw(e,0,-1))},WI=function(r,e){return e=xc(e,r),(r=qI(r,e))==null||delete r[Ko($I(e))]},GI=function(r,e){return r==null||WI(r,e)},ka=function(r,e,t){var n=r==null?void 0:rp(r,e);return n===void 0?t:n},KI=function(r,e,t,n){if(!Se(r))return r;for(var i=-1,a=(e=xc(e,r)).length,c=a-1,d=r;d!=null&&++i<a;){var h=Ko(e[i]),m=t;if(h==="__proto__"||h==="constructor"||h==="prototype")return r;if(i!=c){var f=d[h];(m=void 0)==void 0&&(m=Se(f)?f:dc(e[i+1])?[]:{})}Eh(d,h,m),d=d[h]}return r},YI=function(r,e,t){return r==null?r:KI(r,e,t)};class ip{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(n){let i=null,a=0,c=0,d=null;const h=new Map;if(n==="")return h;n.charAt(n.length-1)!=";"&&(n+=";");for(let m=0;m<n.length;m++){const f=n.charAt(m);if(i===null)switch(f){case":":d||(d=n.substr(a,m-a),c=m+1);break;case'"':case"'":i=f;break;case";":{const w=n.substr(c,m-c);d&&h.set(d.trim(),w.trim()),d=null,a=m+1;break}}else f===i&&(i=null)}return h}(e);for(const[n,i]of t)this._styleProcessor.toNormalizedForm(n,i,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)}set(e,t){if(Se(e))for(const[n,i]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,i,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=op(e);GI(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Se(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([t])=>t)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),i=ka(this._styles,n);i&&!Object.keys(i).length&&this.remove(n)}}class QI{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(Se(t))sp(n,op(e),t);else if(this._normalizers.has(e)){const i=this._normalizers.get(e),{path:a,value:c}=i(t);sp(n,a,c)}else sp(n,e,t)}getNormalized(e,t){if(!e)return qh({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return ka(t,n);const i=n(e,t);if(i)return i}return ka(t,op(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(i=>{const a=this.getNormalized(i,e);return a&&typeof a=="object"?Object.keys(a).length:a}),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function op(r){return r.replace("-",".")}function sp(r,e,t){let n=t;Se(t)&&(n=qh({},ka(r,e),t)),YI(r,e,n)}class pn extends Ji{constructor(e,t,n,i){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(a){const c=pr(a);for(const[d,h]of c)h===null?c.delete(d):typeof h!="string"&&c.set(d,String(h));return c}(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const a=this._attrs.get("class");lw(this._classes,a),this._attrs.delete("class")}this._styles=new ip(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof pn))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new gr(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(i=>`${i[0]}="${i[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const i of this.getChildren())t.push(i._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=function(a,c){return typeof c=="string"?[new Ve(a,c)]:(Gt(c)||(c=[c]),Array.from(c).map(d=>typeof d=="string"?new Ve(a,d):d instanceof mr?new Ve(a,d.data):d))}(this.document,t);for(const a of i)a.parent!==null&&a._remove(),a.parent=this,a.document=this.document,this._children.splice(e,0,a),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?lw(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of qe(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of qe(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of qe(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function lw(r,e){const t=e.split(/\s+/);r.clear(),t.forEach(n=>r.add(n))}pn.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="view:element"):r==="element"||r==="view:element"||r==="node"||r==="view:node"};class ba extends pn{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=JI}}function JI(){const r=[...this.getChildren()],e=r[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of r)if(!t.is("uiElement"))return null;return this.childCount}ba.prototype.is=function(r,e){return e?e===this.name&&(r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Ec extends Le(ba){constructor(e,t,n,i){super(e,t,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",a=>a&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Ec.prototype.is=function(r,e){return e?e===this.name&&(r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};const cw=Symbol("rootName");class dw extends Ec{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(cw)}set rootName(e){this._setCustomProperty(cw,e)}set _name(e){this.name=e}}dw.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"):r==="rootElement"||r==="view:rootElement"||r==="editableElement"||r==="view:editableElement"||r==="containerElement"||r==="view:containerElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Zi{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new M("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new M("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=te._createAt(e.startPosition):this._position=te._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(n instanceof Ve){if(e.isAtEnd)return this._position=te._createAfter(n),this._next();i=n.data[e.offset]}else i=n.getChild(e.offset);if(i instanceof pn){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new te(i,0);return this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}if(i instanceof Ve){if(this.singleCharacters)return e=new te(i,0),this._position=e,this._next();let a,c=i.data.length;return i==this._boundaryEndParent?(c=this.boundaries.end.offset,a=new mr(i,0,c),e=te._createAfter(a)):(a=new mr(i,0,i.data.length),e.offset++),this._position=e,this._formatReturnValue("text",a,t,e,c)}if(typeof i=="string"){let a;this.singleCharacters?a=1:a=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const c=new mr(n,e.offset,a);return e.offset+=a,this._position=e,this._formatReturnValue("text",c,t,e,a)}return e=te._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(n instanceof Ve){if(e.isAtStart)return this._position=te._createBefore(n),this._previous();i=n.data[e.offset-1]}else i=n.getChild(e.offset-1);if(i instanceof pn)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",i,t,e,1)):(e=new te(i,i.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,t,e));if(i instanceof Ve){if(this.singleCharacters)return e=new te(i,i.data.length),this._position=e,this._previous();let a,c=i.data.length;if(i==this._boundaryStartParent){const d=this.boundaries.start.offset;a=new mr(i,d,i.data.length-d),c=a.data.length,e=te._createBefore(a)}else a=new mr(i,0,i.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",a,t,e,c)}if(typeof i=="string"){let a;if(this.singleCharacters)a=1;else{const d=n===this._boundaryStartParent?this.boundaries.start.offset:0;a=e.offset-d}e.offset-=a;const c=new mr(n,e.offset,a);return this._position=e,this._formatReturnValue("text",c,t,e,a)}return e=te._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,i,a){return t instanceof mr&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=te._createAfter(t.textNode):(i=te._createAfter(t.textNode),this._position=i)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=te._createBefore(t.textNode):(i=te._createBefore(t.textNode),this._position=i))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:a}}}}class te extends Qi{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Ec);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=te._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Zi(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]==n[i]&&t[i];)i++;return i===0?null:t[i-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const i=Nt(t,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<n[i]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Zi(e)}clone(){return new te(this.parent,this.offset)}static _createAt(e,t){if(e instanceof te)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new M("view-createpositionat-offset-required",n)}return new te(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new te(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new M("view-position-after-root",e,{root:e});return new te(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new te(e.textNode,e.offsetInText);if(!e.parent)throw new M("view-position-before-root",e,{root:e});return new te(e.parent,e.index)}}te.prototype.is=function(r){return r==="position"||r==="view:position"};class he extends Qi{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Zi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Dc,{direction:"backward"}),t=this.end.getLastMatchingPosition(Dc);return e.parent.is("$text")&&e.isAtStart&&(e=te._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=te._createAfter(t.parent)),new he(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Dc);if(e.isAfter(this.end)||e.isEqual(this.end))return new he(e,e);let t=this.end.getLastMatchingPosition(Dc,{direction:"backward"});const n=e.nodeAfter,i=t.nodeBefore;return n&&n.is("$text")&&(e=new te(n,0)),i&&i.is("$text")&&(t=new te(i,i.data.length)),new he(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new he(this.start,e.start)),this.containsPosition(e.end)&&t.push(new he(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new he(t,n)}return null}getWalker(e={}){return e.boundaries=this,new Zi(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new he(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Zi(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Zi(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,i){return new this(new te(e,t),new te(n,i))}static _createFromPositionAndShift(e,t){const n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(te._createBefore(e),t)}}function Dc(r){return!(!r.item.is("attributeElement")&&!r.item.is("uiElement"))}he.prototype.is=function(r){return r==="range"||r==="view:range"};class Wn extends Z(Qi){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const i of e._ranges)if(t.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Ql(this.getRanges());if(t!=Ql(e.getRanges()))return!1;if(t==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let i=!1;for(let a of e.getRanges())if(a=a.getTrimmed(),n.start.isEqual(a.start)&&n.end.isEqual(a.end)){i=!0;break}if(!i)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,i]=e;if(typeof n=="object"&&(i=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(i);else if(t instanceof Wn||t instanceof ap)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof he)this._setRanges([t],i&&i.backward),this._setFakeOptions(i);else if(t instanceof te)this._setRanges([new he(t)]),this._setFakeOptions(i);else if(t instanceof Ji){const a=!!i&&!!i.backward;let c;if(n===void 0)throw new M("view-selection-setto-required-second-parameter",this);c=n=="in"?he._createIn(t):n=="on"?he._createOn(t):new he(te._createAt(t,n)),this._setRanges([c],a),this._setFakeOptions(i)}else{if(!Gt(t))throw new M("view-selection-setto-not-selectable",this);this._setRanges(t,i&&i.backward),this._setFakeOptions(i)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new M("view-selection-setfocus-no-ranges",this);const n=te._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.pop(),n.compareWith(i)=="before"?this._addRange(new he(n,i),!0):this._addRange(new he(i,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof he))throw new M("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new M("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new he(e.start,e.end))}}Wn.prototype.is=function(r){return r==="selection"||r==="view:selection"};class ap extends Z(Qi){constructor(...e){super(),this._selection=new Wn,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}ap.prototype.is=function(r){return r==="selection"||r=="documentSelection"||r=="view:selection"||r=="view:documentSelection"};class Yo extends N{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const lp=Symbol("bubbling contexts");function cp(r){return class extends r{fire(e,...t){try{const n=e instanceof N?e:new N(this,e),i=dp(this);if(!i.size)return;if(wa(n,"capturing",this),Qo(i,"$capture",n,...t))return n.return;const a=n.startRange||this.selection.getFirstRange(),c=a?a.getContainedElement():null,d=!!c&&!!uw(i,c);let h=c||function(m){if(!m)return null;const f=m.start.parent,w=m.end.parent,v=f.getPath(),x=w.getPath();return v.length>x.length?f:w}(a);if(wa(n,"atTarget",h),!d){if(Qo(i,"$text",n,...t))return n.return;wa(n,"bubbling",h)}for(;h;){if(h.is("rootElement")){if(Qo(i,"$root",n,...t))return n.return}else if(h.is("element")&&Qo(i,h.name,n,...t))return n.return;if(Qo(i,h,n,...t))return n.return;h=h.parent,wa(n,"bubbling",h)}return wa(n,"bubbling",this),Qo(i,"$document",n,...t),n.return}catch(n){M.rethrowUnexpectedError(n,this)}}_addEventListener(e,t,n){const i=qe(n.context||"$document"),a=dp(this);for(const c of i){let d=a.get(c);d||(d=new(Z()),a.set(c,d)),this.listenTo(d,e,t,n)}}_removeEventListener(e,t){const n=dp(this);for(const i of n.values())this.stopListening(i,e,t)}}}{const r=cp(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{cp[e]=r.prototype[e]})}function wa(r,e,t){r instanceof Yo&&(r._eventPhase=e,r._currentTarget=t)}function Qo(r,e,t,...n){const i=typeof e=="string"?r.get(e):uw(r,e);return!!i&&(i.fire(t,...n),t.stop.called)}function uw(r,e){for(const[t,n]of r)if(typeof t=="function"&&t(e))return n;return null}function dp(r){return r[lp]||(r[lp]=new Map),r[lp]}class Sc extends cp(Le()){constructor(e){super(),this._postFixers=new Set,this.selection=new ap,this.roots=new $n({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}class Xi extends pn{constructor(e,t,n,i){super(e,t,n,i),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=ZI}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new M("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function ZI(){if(up(this))return null;let r=this.parent;for(;r&&r.is("attributeElement");){if(up(r)>1)return null;r=r.parent}return!r||up(r)>1?null:this.childCount}function up(r){return Array.from(r.getChildren()).filter(e=>!e.is("uiElement")).length}Xi.DEFAULT_PRIORITY=10,Xi.prototype.is=function(r,e){return e?e===this.name&&(r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"):r==="attributeElement"||r==="view:attributeElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class hp extends pn{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=XI}_insertChild(e,t){if(t&&(t instanceof Ji||Array.from(t).length>0))throw new M("view-emptyelement-cannot-add",[this,t]);return 0}}function XI(){return null}hp.prototype.is=function(r,e){return e?e===this.name&&(r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"):r==="emptyElement"||r==="view:emptyElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class Tc extends pn{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=t5}_insertChild(e,t){if(t&&(t instanceof Ji||Array.from(t).length>0))throw new M("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function e5(r){r.document.on("arrowKey",(e,t)=>function(n,i,a){if(i.keyCode==Te.arrowright){const c=i.domTarget.ownerDocument.defaultView.getSelection(),d=c.rangeCount==1&&c.getRangeAt(0).collapsed;if(d||i.shiftKey){const h=c.focusNode,m=c.focusOffset,f=a.domPositionToView(h,m);if(f===null)return;let w=!1;const v=f.getLastMatchingPosition(x=>(x.item.is("uiElement")&&(w=!0),!(!x.item.is("uiElement")&&!x.item.is("attributeElement"))));if(w){const x=a.viewPositionToDom(v);d?c.collapse(x.parent,x.offset):c.extend(x.parent,x.offset)}}}}(0,t,r.domConverter),{priority:"low"})}function t5(){return null}Tc.prototype.is=function(r,e){return e?e===this.name&&(r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"):r==="uiElement"||r==="view:uiElement"||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class pp extends pn{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=n5}_insertChild(e,t){if(t&&(t instanceof Ji||Array.from(t).length>0))throw new M("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function n5(){return null}pp.prototype.is=function(r,e){return e?e===this.name&&(r==="rawElement"||r==="view:rawElement"||r==="element"||r==="view:element"):r==="rawElement"||r==="view:rawElement"||r===this.name||r==="view:"+this.name||r==="element"||r==="view:element"||r==="node"||r==="view:node"};class eo extends Z(Qi){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=function(a,c){return typeof c=="string"?[new Ve(a,c)]:(Gt(c)||(c=[c]),Array.from(c).map(d=>typeof d=="string"?new Ve(a,d):d instanceof mr?new Ve(a,d.data):d))}(this.document,t);for(const a of i)a.parent!==null&&a._remove(),a.parent=this,this._children.splice(e,0,a),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}eo.prototype.is=function(r){return r==="documentFragment"||r==="view:documentFragment"};class hw{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new eo(this.document,e)}createText(e){return new Ve(this.document,e)}createAttributeElement(e,t,n={}){const i=new Xi(this.document,e,t);return typeof n.priority=="number"&&(i._priority=n.priority),n.id&&(i._id=n.id),n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createContainerElement(e,t,n={},i={}){let a=null;Vt(n)?i=n:a=n;const c=new ba(this.document,e,t,a);return i.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),c}createEditableElement(e,t,n={}){const i=new Ec(this.document,e,t);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createEmptyElement(e,t,n={}){const i=new hp(this.document,e,t);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createUIElement(e,t,n){const i=new Tc(this.document,e,t);return n&&(i.render=n),i}createRawElement(e,t,n,i={}){const a=new pp(this.document,e,t);return n&&(a.render=n),i.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),a}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Vt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof te?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new M("view-writer-break-non-container-element",this.document);if(!t.parent)throw new M("view-writer-break-root",this.document);if(e.isAtStart)return te._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(te._createAfter(t),n);const i=new he(e,te._createAt(t,"end")),a=new te(n,0);this.move(i,a)}return te._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const c=n.parent,d=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new te(c,d))}const i=n.getChild(t-1),a=n.getChild(t);if(!i||!a)return e;if(i.is("$text")&&a.is("$text"))return mw(i,a);if(i.is("attributeElement")&&a.is("attributeElement")&&i.isSimilar(a)){const c=i.childCount;return i._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new te(i,c))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new M("view-writer-merge-containers-invalid-position",this.document);const i=t.getChild(t.childCount-1),a=i instanceof Ve?te._createAt(i,"end"):te._createAt(t,"end");return this.move(he._createIn(n),te._createAt(t,"end")),this.remove(he._createOn(n)),a}insert(e,t){gw(t=Gt(t)?[...t]:[t],this.document);const n=t.reduce((c,d)=>{const h=c[c.length-1],m=!d.is("uiElement");return h&&h.breakAttributes==m?h.nodes.push(d):c.push({breakAttributes:m,nodes:[d]}),c},[]);let i=null,a=e;for(const{nodes:c,breakAttributes:d}of n){const h=this._insertNodes(a,c,d);i||(i=h.start),a=h.end}return i?new he(i,a):new he(e)}remove(e){const t=e instanceof he?e:he._createOn(e);if(_a(t,this.document),t.isCollapsed)return new eo(this.document);const{start:n,end:i}=this._breakAttributesRange(t,!0),a=n.parent,c=i.offset-n.offset,d=a._removeChildren(n.offset,c);for(const m of d)this._removeFromClonedElementsGroup(m);const h=this.mergeAttributes(n);return t.start=h,t.end=h.clone(),new eo(this.document,d)}clear(e,t){_a(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const a=i.item;let c;if(a.is("element")&&t.isSimilar(a))c=he._createOn(a);else if(!i.nextPosition.isAfter(e.start)&&a.is("$textProxy")){const d=a.getAncestors().find(h=>h.is("element")&&t.isSimilar(h));d&&(c=he._createIn(d))}c&&(c.end.isAfter(e.end)&&(c.end=e.end),c.start.isBefore(e.start)&&(c.start=e.start),this.remove(c))}}move(e,t){let n;if(t.isAfter(e.end)){const i=(t=this._breakAttributes(t,!0)).parent,a=i.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=i.childCount-a}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Xi))throw new M("view-writer-wrap-invalid-attribute",this.document);if(_a(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&(n=i.parent,!Array.from(n.getChildren()).some(c=>!c.is("uiElement")))&&(i=i.getLastMatchingPosition(c=>c.item.is("uiElement"))),i=this._wrapPosition(i,t);const a=this.document.selection;return a.isCollapsed&&a.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new he(i)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof Xi))throw new M("view-writer-unwrap-invalid-attribute",this.document);if(_a(e,this.document),e.isCollapsed)return e;const{start:n,end:i}=this._breakAttributesRange(e,!0),a=n.parent,c=this._unwrapChildren(a,n.offset,i.offset,t),d=this.mergeAttributes(c.start);d.isEqual(c.start)||c.end.offset--;const h=this.mergeAttributes(c.end);return new he(d,h)}rename(e,t){const n=new ba(this.document,e,t.getAttributes());return this.insert(te._createAfter(t),n),this.move(he._createIn(t),te._createAt(n,0)),this.remove(he._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return te._createAt(e,t)}createPositionAfter(e){return te._createAfter(e)}createPositionBefore(e){return te._createBefore(e)}createRange(e,t){return new he(e,t)}createRangeOn(e){return he._createOn(e)}createRangeIn(e){return he._createIn(e)}createSelection(...e){return new Wn(...e)}createSlot(e="children"){if(!this._slotFactory)throw new M("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let i,a;if(i=n?mp(e):e.parent.is("$text")?e.parent.parent:e.parent,!i)throw new M("view-writer-invalid-position-container",this.document);a=n?this._breakAttributes(e,!0):e.parent.is("$text")?gp(e):e;const c=i._insertChild(a.offset,t);for(const f of t)this._addToClonedElementsGroup(f);const d=a.getShiftedBy(c),h=this.mergeAttributes(a);h.isEqual(a)||d.offset--;const m=this.mergeAttributes(d);return new he(h,m)}_wrapChildren(e,t,n,i){let a=t;const c=[];for(;a<n;){const h=e.getChild(a),m=h.is("$text"),f=h.is("attributeElement");if(f&&this._wrapAttributeElement(i,h))c.push(new te(e,a));else if(m||!f||r5(i,h)){const w=i._clone();h._remove(),w._appendChild(h),e._insertChild(a,w),this._addToClonedElementsGroup(w),c.push(new te(e,a))}else this._wrapChildren(h,0,h.childCount,i);a++}let d=0;for(const h of c)h.offset-=d,h.offset!=t&&(this.mergeAttributes(h).isEqual(h)||(d++,n--));return he._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,i){let a=t;const c=[];for(;a<n;){const h=e.getChild(a);if(h.is("attributeElement"))if(h.isSimilar(i)){const m=h.getChildren(),f=h.childCount;h._remove(),e._insertChild(a,m),this._removeFromClonedElementsGroup(h),c.push(new te(e,a),new te(e,a+f)),a+=f,n+=f-1}else this._unwrapAttributeElement(i,h)?(c.push(new te(e,a),new te(e,a+1)),a++):(this._unwrapChildren(h,0,h.childCount,i),a++);else a++}let d=0;for(const h of c)h.offset-=d,!(h.offset==t||h.offset==n)&&(this.mergeAttributes(h).isEqual(h)||(d++,n--));return he._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:i}=this._breakAttributesRange(e,!0),a=n.parent,c=this._wrapChildren(a,n.offset,i.offset,t),d=this.mergeAttributes(c.start);d.isEqual(c.start)||c.end.offset--;const h=this.mergeAttributes(c.end);return new he(d,h)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return pw(e.clone());e.parent.is("$text")&&(e=gp(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const i=new he(e,e.getShiftedBy(1));this.wrap(i,t);const a=new te(n.parent,n.index);n._remove();const c=a.nodeBefore,d=a.nodeAfter;return c instanceof Ve&&d instanceof Ve?mw(c,d):pw(a)}_wrapAttributeElement(e,t){if(!fw(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!fw(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,i=e.end;if(_a(e,this.document),e.isCollapsed){const h=this._breakAttributes(e.start,t);return new he(h,h)}const a=this._breakAttributes(i,t),c=a.parent.childCount,d=this._breakAttributes(n,t);return a.offset+=a.parent.childCount-c,new he(d,a)}_breakAttributes(e,t=!1){const n=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new M("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new M("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new M("view-writer-cannot-break-raw-element",this.document);if(!t&&i.is("$text")&&fp(i.parent)||fp(i))return e.clone();if(i.is("$text"))return this._breakAttributes(gp(e),t);if(n==i.childCount){const a=new te(i.parent,i.index+1);return this._breakAttributes(a,t)}if(n===0){const a=new te(i.parent,i.index);return this._breakAttributes(a,t)}{const a=i.index+1,c=i._clone();i.parent._insertChild(a,c),this._addToClonedElementsGroup(c);const d=i.childCount-n,h=i._removeChildren(n,d);c._appendChild(h);const m=new te(i.parent,a);return this._breakAttributes(m,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const i of e.getChildren())this._addToClonedElementsGroup(i);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const i of e.getChildren())this._removeFromClonedElementsGroup(i);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function mp(r){let e=r.parent;for(;!fp(e);){if(!e)return;e=e.parent}return e}function r5(r,e){return r.priority<e.priority||!(r.priority>e.priority)&&r.getIdentity()<e.getIdentity()}function pw(r){const e=r.nodeBefore;if(e&&e.is("$text"))return new te(e,e.data.length);const t=r.nodeAfter;return t&&t.is("$text")?new te(t,0):r}function gp(r){if(r.offset==r.parent.data.length)return new te(r.parent.parent,r.parent.index+1);if(r.offset===0)return new te(r.parent.parent,r.parent.index);const e=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new Ve(r.root.document,e)),new te(r.parent.parent,r.parent.index+1)}function mw(r,e){const t=r.data.length;return r._data+=e.data,e._remove(),new te(r,t)}const i5=[Ve,Xi,ba,hp,pp,Tc];function gw(r,e){for(const t of r){if(!i5.some(n=>t instanceof n))throw new M("view-writer-insert-invalid-node-type",e);t.is("$text")||gw(t.getChildren(),e)}}function fp(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function _a(r,e){const t=mp(r.start),n=mp(r.end);if(!t||!n||t!==n)throw new M("view-writer-invalid-range-container",e)}function fw(r,e){return r.id===null&&e.id===null}const kw=r=>r.createTextNode(""),bw=r=>{const e=r.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},ww=r=>{const e=r.createElement("br");return e.dataset.ckeFiller="true",e},Gn=7,Aa="".repeat(Gn);function mn(r){return typeof r=="string"?r.substr(0,Gn)===Aa:at(r)&&r.data.substr(0,Gn)===Aa}function Jo(r){return r.data.length==Gn&&mn(r)}function _w(r){const e=typeof r=="string"?r:r.data;return mn(r)?e.slice(Gn):e}function o5(r,e){if(e.keyCode==Te.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,i=t.getRangeAt(0).startOffset;mn(n)&&i<=Gn&&t.collapse(n,0)}}}var Aw=p(8264),s5={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Aw.A,s5),Aw.A.locals;class a5 extends Le(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),E.isBlink&&!E.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new M("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!E.isAndroid)return;let e=null;const t=!(E.isBlink&&!E.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=te._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),i=n.parent.ownerDocument;mn(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=vw(i,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),a=this._diffNodeLists(n,i),c=this._findUpdateActions(a,n,i,l5);if(c.indexOf("update")!==-1){const d={equal:0,insert:0,delete:0};for(const h of c)if(h==="update"){const m=d.equal+d.insert,f=d.equal+d.delete,w=e.getChild(m);!w||w.is("uiElement")||w.is("rawElement")||this._updateElementMappings(w,n[f]),Cb(i[m]),d.equal++}else d[h]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?te._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&at(t.parent)&&mn(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!mn(e))throw new M("view-renderer-filler-was-lost",this);Jo(e)?e.remove():e.data=e.data.substr(Gn),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(c){if(c.getAttribute("contenteditable")=="false")return!1;const d=c.findAncestor(h=>h.hasAttribute("contenteditable"));return!d||d.getAttribute("contenteditable")=="true"}(t))return!1;const i=e.nodeBefore,a=e.nodeAfter;return!(i instanceof Ve||a instanceof Ve)&&!!(n!==t.getFillerOffset()||i&&i.is("element","br"))&&(!E.isAndroid||!i&&!a)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let i=this.domConverter.viewToDom(e).data;const a=t.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(i=Aa+i),Cw(n,i)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(a=>a.name),i=e.getAttributeKeys();for(const a of i)this.domConverter.setDomElementAttribute(t,a,e.getAttribute(a),e);for(const a of n)e.hasAttribute(a)||this.domConverter.removeDomElementAttribute(t,a)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(E.isAndroid){let w=null;for(const v of Array.from(n.childNodes)){if(w&&at(w)&&at(v)){n.normalize();break}w=v}}const i=t.inlineFillerPosition,a=n.childNodes,c=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));i&&i.parent===e&&vw(n.ownerDocument,c,i.offset);const d=this._diffNodeLists(a,c),h=this._findUpdateActions(d,a,c,c5);let m=0;const f=new Set;for(const w of h)w==="delete"?(f.add(a[m]),Cb(a[m])):w!=="equal"&&w!=="update"||m++;m=0;for(const w of h)w==="insert"?(wb(n,m,c[m]),m++):w==="update"?(Cw(a[m],c[m].data),m++):w==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(c[m])),m++);for(const w of f)w.parentNode||this.domConverter.unbindDomElement(w)}_diffNodeLists(e,t){return e=function(n,i){const a=Array.from(n);return a.length==0||!i||a[a.length-1]==i&&a.pop(),a}(e,this._fakeSelectionContainer),O(e,t,d5.bind(null,this.domConverter))}_findUpdateActions(e,t,n,i){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let a=[],c=[],d=[];const h={equal:0,insert:0,delete:0};for(const m of e)m==="insert"?d.push(n[h.equal+h.insert]):m==="delete"?c.push(t[h.equal+h.delete]):(a=a.concat(O(c,d,i).map(f=>f==="equal"?"update":f)),a.push("equal"),c=[],d=[]),h[m]++;return a.concat(O(c,d,i).map(m=>m==="equal"?"update":m))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(E.isBlink&&!E.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&E.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(c){const d=c.createElement("div");return d.className="ck-fake-selection-container",Object.assign(d.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),d.textContent="",d}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const i=t.getSelection(),a=t.createRange();i.removeAllRanges(),a.selectNodeContents(n),i.addRange(a)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,i.parent,i.offset),E.isGecko&&function(a,c){let d=a.parent,h=a.offset;if(at(d)&&Jo(d)&&(h=pa(d)+1,d=d.parentNode),d.nodeType!=Node.ELEMENT_NODE||h!=d.childNodes.length-1)return;const m=d.childNodes[h];m&&m.tagName=="BR"&&c.addRange(c.getRangeAt(0))}(i,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,i=this.domConverter.mapDomToView(n);n&&i&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function vw(r,e,t){const n=e instanceof Array?e:e.childNodes,i=n[t];if(at(i))return i.data=Aa+i.data,i;{const a=r.createTextNode(Aa);return Array.isArray(e)?n.splice(t,0,a):wb(e,t,a),a}}function l5(r,e){return oi(r)&&oi(e)&&!at(r)&&!at(e)&&!ma(r)&&!ma(e)&&r.tagName.toLowerCase()===e.tagName.toLowerCase()}function c5(r,e){return oi(r)&&oi(e)&&at(r)&&at(e)}function d5(r,e,t){return e===t||(at(e)&&at(t)?e.data===t.data:!(!r.isBlockFiller(e)||!r.isBlockFiller(t)))}function Cw(r,e){const t=r.data;if(t==e)return;const n=C(t,e);for(const i of n)i.type==="insert"?r.insertData(i.index,i.values.join("")):r.deleteData(i.index,i.howMany)}const u5=ww(_.document),h5=kw(_.document),p5=bw(_.document),Ic="data-ck-unsafe-attribute-",yw="data-ck-unsafe-element";class Mc{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new gr,this._inlineObjectElementMatcher=new gr,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?_.document:_.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Wn(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const n=new DOMParser().parseFromString(t,"text/html"),i=n.createDocumentFragment(),a=n.body.childNodes;for(;a.length>0;)i.appendChild(a[0]);const c=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),d=[];let h;for(;h=c.nextNode();)d.push(h);for(const m of d){for(const w of m.getAttributeNames())this.setDomElementAttribute(m,w,m.getAttribute(w));const f=m.tagName.toLowerCase();this._shouldRenameElement(f)&&(Dw(f),m.replaceWith(this._createReplacementDomElement(f,m)))}for(;e.firstChild;)e.firstChild.remove();e.append(i)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let i;if(n.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,n);else{if(n.is("uiElement"))return i=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(i,n),i;this._shouldRenameElement(n.name)?(Dw(n.name),i=this._createReplacementDomElement(n.name)):i=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(i,this),t.bind&&this.bindElements(i,n);for(const a of n.getAttributeKeys())this.setDomElementAttribute(i,a,n.getAttribute(a),n)}if(t.withChildren!==!1)for(const a of this.viewChildrenToDom(n,t))i instanceof HTMLTemplateElement?i.content.appendChild(a):i.appendChild(a);return i}}setDomElementAttribute(e,t,n,i){const a=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(t);a||$("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(c){try{_.document.createAttribute(c)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!a?e.removeAttribute(t):e.hasAttribute(Ic+t)&&a&&e.removeAttribute(Ic+t),e.setAttribute(a?t:Ic+t,n)):$("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=yw&&(e.removeAttribute(t),e.removeAttribute(Ic+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const a of e.getChildren()){n===i&&(yield this._getBlockFiller());const c=a.is("element")&&!!a.getCustomProperty("dataPipeline:transparentRendering")&&!_t(a.getAttributes());c&&this.renderingMode=="data"?yield*this.viewChildrenToDom(a,t):(c&&$("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:a}),yield this.viewToDom(a,t)),i++}n===i&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),i=this._domDocument.createRange();return i.setStart(t.parent,t.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let i=e.offset;return mn(n)&&(i+=Gn),{parent:n,offset:i}}{let n,i,a;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;a=n.childNodes[0]}else{const c=e.nodeBefore;if(i=c.is("$text")?this.findCorrespondingDomText(c):this.mapViewToDom(c),!i)return null;n=i.parentNode,a=i.nextSibling}return at(a)&&mn(a)?{parent:a,offset:Gn}:{parent:n,offset:i?pa(i)+1:0}}}domToView(e,t={}){const n=[],i=this._domToView(e,t,n),a=i.next().value;return a?(i.next(),this._processDomInlineNodes(null,n,t),a.is("$text")&&a.data.length==0?null:a):null}*domChildrenToView(e,t={},n=[]){let i=[];i=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let a=0;a<i.length;a++){const c=i[a],d=this._domToView(c,t,n),h=d.next().value;h!==null&&(this._isBlockViewElement(h)&&this._processDomInlineNodes(e,n,t),yield h,d.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(function(i){if(!E.isGecko||!i.rangeCount)return!1;const a=i.getRangeAt(0).startContainer;try{Object.prototype.toString.call(a)}catch{return!0}return!1}(e))return new Wn([]);if(e.rangeCount===1){let i=e.getRangeAt(0).startContainer;at(i)&&(i=i.parentNode);const a=this.fakeSelectionToView(i);if(a)return a}const t=this.isDomSelectionBackward(e),n=[];for(let i=0;i<e.rangeCount;i++){const a=e.getRangeAt(i),c=this.domRangeToView(a);c&&n.push(c)}return new Wn(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new he(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,pa(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return te._createBefore(n);if(at(e)){if(Jo(e))return this.domPositionToView(e.parentNode,pa(e));const i=this.findCorrespondingViewText(e);let a=t;return i?(mn(e)&&(a-=Gn,a=a<0?0:a),new te(i,a)):null}if(t===0){const i=this.mapDomToView(e);if(i)return new te(i,0)}else{const i=e.childNodes[t-1];if(at(i)&&Jo(i)||i&&this.isBlockFiller(i))return this.domPositionToView(i.parentNode,pa(i));const a=at(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(a&&a.parent)return new te(a.parent,a.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Jo(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const i=this.mapDomToView(n);if(i){const a=i.nextSibling;return a instanceof Ve?a:null}}else{const i=this.mapDomToView(e.parentNode);if(i){const a=i.getChild(0);return a instanceof Ve?a:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:i}=_.window,a=[];xw(t,c=>{const{scrollLeft:d,scrollTop:h}=c;a.push([d,h])}),t.focus(),xw(t,c=>{const[d,h]=a.shift();c.scrollLeft=d,c.scrollTop=h}),_.window.scrollTo(n,i)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(u5):!(e.tagName!=="BR"||!Ew(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(p5)||function(t,n){return t.isEqualNode(h5)&&Ew(t,n)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(n){const i=[];let a=n;for(;a&&a.nodeType!=Node.DOCUMENT_NODE;)i.unshift(a),a=a.parentNode;return i}(e);for(t.pop();t.length;){const n=t.pop(),i=this._domToViewMapping.get(n);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return kw(this._domDocument);case"markedNbsp":return bw(this._domDocument);case"br":return ww(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(at(e)&&mn(e)&&t<Gn||this.isElement(e)&&mn(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const i=this.getHostViewElement(e);if(i)return i;if(ma(e)&&t.skipComments)return null;if(at(e)){if(Jo(e))return null;{const a=e.data;if(a==="")return null;const c=new Ve(this.document,a);return n.push(c),c}}{let a=this.mapDomToView(e);if(a)return this._isInlineObjectElement(a)&&n.push(a),a;if(this.isDocumentFragment(e))a=new eo(this.document),t.bind&&this.bindDocumentFragments(e,a);else{a=this._createViewElement(e,t),t.bind&&this.bindElements(e,a);const d=e.attributes;if(d)for(let h=d.length,m=0;m<h;m++)a._setAttribute(d[m].name,d[m].value);if(this._isViewElementWithRawContent(a,t))return a._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(a)||n.push(a),a;if(ma(e))return a._setCustomProperty("$rawContent",e.data),a}yield a;const c=[];if(t.withChildren!==!1)for(const d of this.domChildrenToView(e,t,c))a._appendChild(d);if(this._isInlineObjectElement(a))n.push(a);else for(const d of c)n.push(d)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if(!c.is("$text")){i=!1;continue}let d,h=!1;if(m5(c,this.preElements))d=_w(c.data);else{d=c.data.replace(/[ \n\t\r]{1,}/g," "),h=/[^\S\u00A0]/.test(d.charAt(d.length-1));const m=a>0?t[a-1]:null,f=a+1<t.length?t[a+1]:null,w=!m||m.is("element")&&m.name=="br"||i,v=!f&&!mn(c.data);n.withChildren!==!1&&(w&&(d=d.replace(/^ /,"")),v&&(d=d.replace(/ $/,""))),d=_w(d),d=d.replace(/ \u00A0/g,"  ");const x=f&&f.is("element")&&f.name!="br",S=f&&f.is("$text")&&f.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(d)||!f||x||S)&&(d=d.replace(/\u00A0$/," ")),(w||m&&m.is("element")&&m.name!="br")&&(d=d.replace(/^\u00A0/," "))}d.length==0&&c.parent?(c._remove(),t.splice(a,1),a--):(c._data=d,i=h)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),i=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&n&&!i||(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new Zi({startPosition:t?te._createAfter(e):te._createBefore(e),direction:t?"forward":"backward"});for(const i of n){if(i.item.is("element","br"))return null;if(this._isInlineObjectElement(i.item))return i.item;if(i.item.is("containerElement"))return null;if(i.item.is("$textProxy"))return i.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(ma(e))return new Tc(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new pn(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(yw,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const i of t.getAttributeNames())n.setAttribute(i,t.getAttribute(i))}return n}}function m5(r,e){return r.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function xw(r,e){let t=r;for(;t;)e(t),t=t.parentElement}function Ew(r,e){const t=r.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Dw(r){r==="script"&&$("domconverter-unsafe-script-element-detected"),r==="style"&&$("domconverter-unsafe-style-element-detected")}class fr extends Sn(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Sw=Bb(function(r,e){Uo(e,$o(e),r)});class Zo{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,Sw(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ai extends fr{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(n,i)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(i.target)&&this.onDomEvent(i)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Zo(this.view,t,n))}}class g5 extends ai{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Wo(this)}};this.fire(e.type,e,t)}}const kp=function(){return En.Date.now()};var f5=/\s/;const k5=function(r){for(var e=r.length;e--&&f5.test(r.charAt(e)););return e};var b5=/^\s+/;const w5=function(r){return r&&r.slice(0,k5(r)+1).replace(b5,"")};var _5=/^[-+]0x[0-9a-f]+$/i,A5=/^0b[01]+$/i,v5=/^0o[0-7]+$/i,C5=parseInt;const Tw=function(r){if(typeof r=="number")return r;if(yc(r))return NaN;if(Se(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Se(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=w5(r);var t=A5.test(r);return t||v5.test(r)?C5(r.slice(2),t?2:8):_5.test(r)?NaN:+r};var y5=Math.max,x5=Math.min;const Xo=function(r,e,t){var n,i,a,c,d,h,m=0,f=!1,w=!1,v=!0;if(typeof r!="function")throw new TypeError("Expected a function");function x(F){var W=n,K=i;return n=i=void 0,m=F,c=r.apply(K,W)}function S(F){var W=F-h;return h===void 0||W>=e||W<0||w&&F-m>=a}function I(){var F=kp();if(S(F))return P(F);d=setTimeout(I,function(W){var K=e-(W-h);return w?x5(K,a-(W-m)):K}(F))}function P(F){return d=void 0,v&&n?x(F):(n=i=void 0,c)}function z(){var F=kp(),W=S(F);if(n=arguments,i=this,h=F,W){if(d===void 0)return function(K){return m=K,d=setTimeout(I,e),f?x(K):c}(h);if(w)return clearTimeout(d),d=setTimeout(I,e),x(h)}return d===void 0&&(d=setTimeout(I,e)),c}return e=Tw(e)||0,Se(t)&&(f=!!t.leading,a=(w="maxWait"in t)?y5(Tw(t.maxWait)||0,e):a,v="trailing"in t?!!t.trailing:v),z.cancel=function(){d!==void 0&&clearTimeout(d),m=0,n=h=i=d=void 0},z.flush=function(){return d===void 0?c:P(kp())},z};class E5 extends fr{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Xo(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new Wn(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Te.arrowleft&&e!=Te.arrowup||n.setTo(n.getFirstPosition()),e!=Te.arrowright&&e!=Te.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}const D5=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},S5=function(r){return this.__data__.has(r)};function Nc(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new sc;++e<t;)this.add(r[e])}Nc.prototype.add=Nc.prototype.push=D5,Nc.prototype.has=S5;const T5=Nc,I5=function(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1},M5=function(r,e){return r.has(e)},Iw=function(r,e,t,n,i,a){var c=1&t,d=r.length,h=e.length;if(d!=h&&!(c&&h>d))return!1;var m=a.get(r),f=a.get(e);if(m&&f)return m==e&&f==r;var w=-1,v=!0,x=2&t?new T5:void 0;for(a.set(r,e),a.set(e,r);++w<d;){var S=r[w],I=e[w];if(n)var P=c?n(I,S,w,e,r,a):n(S,I,w,r,e,a);if(P!==void 0){if(P)continue;v=!1;break}if(x){if(!I5(e,function(z,F){if(!M5(x,F)&&(S===z||i(S,z,t,n,a)))return x.push(F)})){v=!1;break}}else if(S!==I&&!i(S,I,t,n,a)){v=!1;break}}return a.delete(r),a.delete(e),v},N5=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n,i){t[++e]=[i,n]}),t},B5=function(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t};var Mw=Hn?Hn.prototype:void 0,bp=Mw?Mw.valueOf:void 0;const j5=function(r,e,t,n,i,a,c){switch(t){case"[object DataView]":if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=e.byteLength||!a(new hc(r),new hc(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ei(+r,+e);case"[object Error]":return r.name==e.name&&r.message==e.message;case"[object RegExp]":case"[object String]":return r==e+"";case"[object Map]":var d=N5;case"[object Set]":var h=1&n;if(d||(d=B5),r.size!=e.size&&!h)return!1;var m=c.get(r);if(m)return m==e;n|=2,c.set(r,e);var f=Iw(d(r),d(e),n,i,a,c);return c.delete(r),f;case"[object Symbol]":if(bp)return bp.call(r)==bp.call(e)}return!1};var P5=Object.prototype.hasOwnProperty;const O5=function(r,e,t,n,i,a){var c=1&t,d=Bh(r),h=d.length;if(h!=Bh(e).length&&!c)return!1;for(var m=h;m--;){var f=d[m];if(!(c?f in e:P5.call(e,f)))return!1}var w=a.get(r),v=a.get(e);if(w&&v)return w==e&&v==r;var x=!0;a.set(r,e),a.set(e,r);for(var S=c;++m<h;){var I=r[f=d[m]],P=e[f];if(n)var z=c?n(P,I,f,e,r,a):n(I,P,f,r,e,a);if(!(z===void 0?I===P||i(I,P,t,n,a):z)){x=!1;break}S||(S=f=="constructor")}if(x&&!S){var F=r.constructor,W=e.constructor;F==W||!("constructor"in r)||!("constructor"in e)||typeof F=="function"&&F instanceof F&&typeof W=="function"&&W instanceof W||(x=!1)}return a.delete(r),a.delete(e),x};var Nw="[object Arguments]",Bw="[object Array]",Bc="[object Object]",jw=Object.prototype.hasOwnProperty;const L5=function(r,e,t,n,i,a){var c=zt(r),d=zt(e),h=c?Bw:ua(r),m=d?Bw:ua(e),f=(h=h==Nw?Bc:h)==Bc,w=(m=m==Nw?Bc:m)==Bc,v=h==m;if(v&&la(r)){if(!la(e))return!1;c=!0,f=!1}if(v&&!f)return a||(a=new Vo),c||Ih(r)?Iw(r,e,t,n,i,a):j5(r,e,h,t,n,i,a);if(!(1&t)){var x=f&&jw.call(r,"__wrapped__"),S=w&&jw.call(e,"__wrapped__");if(x||S){var I=x?r.value():r,P=S?e.value():e;return a||(a=new Vo),i(I,P,t,n,a)}}return!!v&&(a||(a=new Vo),O5(r,e,t,n,i,a))},jc=function r(e,t,n,i,a){return e===t||(e==null||t==null||!Kt(e)&&!Kt(t)?e!=e&&t!=t:L5(e,t,n,i,r,a))},R5=function(r,e,t){var n=(t=typeof t=="function"?t:void 0)?t(r,e):void 0;return n===void 0?jc(r,e,void 0,t):!!n};class Pw extends fr{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,i=new Set;for(const c of e){const d=t.mapDomToView(c.target);d&&(d.is("uiElement")||d.is("rawElement")||c.type!=="childList"||this._isBogusBrMutation(c)||i.add(d))}for(const c of e){const d=t.mapDomToView(c.target);if((!d||!d.is("uiElement")&&!d.is("rawElement"))&&c.type==="characterData"){const h=t.findCorrespondingViewText(c.target);h&&!i.has(h.parent)?n.add(h):!h&&mn(c.target)&&i.add(t.mapDomToView(c.target.parentNode))}}let a=!1;for(const c of n)a=!0,this.renderer.markToSync("text",c);for(const c of i){const d=t.mapViewToDom(c),h=Array.from(c.getChildren()),m=Array.from(t.domChildrenToView(d,{withChildren:!1}));R5(h,m,z5)||(a=!0,this.renderer.markToSync("children",c))}a&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function z5(r,e){if(!Array.isArray(r))return r===e||!(!r.is("$text")||!e.is("$text"))&&r.data===e.data}class Pc extends ai{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,i)=>{const a=t.selection.editableElement;a!==null&&a!==i.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class F5 extends fr{constructor(e){super(e),this.mutationObserver=e.getObserver(Pw),this.focusObserver=e.getObserver(Pc),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Xo(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Xo(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(i,a)=>{this.document.isComposing&&!E.isAndroid||(this._handleSelectionChange(a,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(n);if(i.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(i)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(i))this.view.forceRender();else{const a={oldSelection:this.selection,newSelection:i,domSelection:n};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class V5 extends ai{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Ow{constructor(e,t={}){this._files=t.cacheFiles?Lw(e):null,this._native=e}get files(){return this._files||(this._files=Lw(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Lw(r){const e=Array.from(r.files||[]),t=Array.from(r.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class U5 extends ai{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,i=n.document;let a=null,c=null,d=[];if(e.dataTransfer&&(a=new Ow(e.dataTransfer)),e.data!==null?c=e.data:a&&(c=a.getData("text/plain")),i.selection.isFake)d=Array.from(i.selection.getRanges());else if(t.length)d=t.map(h=>{const m=n.domConverter.domPositionToView(h.startContainer,h.startOffset),f=n.domConverter.domPositionToView(h.endContainer,h.endOffset);return m?n.createRange(m,f):f?n.createRange(f):void 0}).filter(h=>!!h);else if(E.isAndroid){const h=e.target.ownerDocument.defaultView.getSelection();d=Array.from(n.domConverter.domSelectionToView(h).getRanges())}if(E.isAndroid&&e.inputType=="insertCompositionText"&&c&&c.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(d[0].end)]});else if(e.inputType=="insertText"&&c&&c.includes(`
`)){const h=c.split(/\n{1,2}/g);let m=d;for(let f=0;f<h.length;f++){const w=h[f];w!=""&&(this.fire(e.type,e,{data:w,dataTransfer:a,targetRanges:m,inputType:e.inputType,isComposing:e.isComposing}),m=[i.selection.getFirstRange()]),f+1<h.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:m}),m=[i.selection.getFirstRange()])}}else this.fire(e.type,e,{data:c,dataTransfer:a,targetRanges:d,inputType:e.inputType,isComposing:e.isComposing})}}class H5 extends fr{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&((i=n.keyCode)==Te.arrowright||i==Te.arrowleft||i==Te.arrowup||i==Te.arrowdown)){const a=new Yo(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(a,n),a.stop.called&&t.stop()}var i})}observe(){}stopObserving(){}}class $5 extends fr{constructor(e){super(e);const t=this.document;t.on("keydown",(n,i)=>{if(!this.isEnabled||i.keyCode!=Te.tab||i.ctrlKey)return;const a=new Yo(t,"tab",t.selection.getFirstRange());t.fire(a,i),a.stop.called&&n.stop()})}observe(){}stopObserving(){}}const Kn=function(r){return zh(r,5)};class q5 extends Le(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Sc(e),this.domConverter=new Mc(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new a5(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new hw(this.document),this.addObserver(Pw),this.addObserver(Pc),this.addObserver(F5),this.addObserver(g5),this.addObserver(E5),this.addObserver(V5),this.addObserver(H5),this.addObserver(U5),this.addObserver($5),this.document.on("arrowKey",o5,{priority:"low"}),e5(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),E.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const i={};for(const{name:c,value:d}of Array.from(e.attributes))i[c]=d,c==="class"?this._writer.addClass(d.split(" "),n):this._writer.setAttribute(c,d,n);this._initialDomRootAttributes.set(e,i);const a=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};a(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(c,d)=>this._renderer.markToSync("children",d)),n.on("change:attributes",(c,d)=>this._renderer.markToSync("attributes",d)),n.on("change:text",(c,d)=>this._renderer.markToSync("text",d)),n.on("change:isReadOnly",()=>this.change(a)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const c of this._observers.values())c.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:i})=>t.removeAttribute(i));const n=this._initialDomRootAttributes.get(t);for(const i in n)t.setAttribute(i,n[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const i of this._observers.values())i.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,i]of this.domRoots)t.observe(i,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:i=20}={}){const a=this.document.selection.getFirstRange();if(!a)return;const c=Kn({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:i});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const d={target:this.domConverter.viewRangeToDom(a),viewportOffset:n,ancestorOffset:i,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",d,c),function({target:h,viewportOffset:m=0,ancestorOffset:f=0,alignToTop:w,forceScroll:v}){const x=Uh(h);let S=x,I=null;for(m=function(P){return typeof P=="number"?{top:P,bottom:P,left:P,right:P}:P}(m);S;){let P;P=XT(S==x?h:I),ZT({parent:P,getRect:()=>Sb(h,S),alignToTop:w,ancestorOffset:f,forceScroll:v});const z=Sb(h,S);if(JT({window:S,rect:z,viewportOffset:m,alignToTop:w,forceScroll:v}),S.parent!=S){if(I=S.frameElement,S=S.parent,!I)return}else S=null}}(d)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){M.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Pc).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return te._createAt(e,t)}createPositionAfter(e){return te._createAfter(e)}createPositionBefore(e){return te._createBefore(e)}createRange(e,t){return new he(e,t)}createRangeOn(e){return he._createOn(e)}createRangeIn(e){return he._createIn(e)}createSelection(...e){return new Wn(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class li{is(){throw new Error("is() method is abstract")}}class to extends li{constructor(e){super(),this.parent=null,this._attrs=pr(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new M("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new M("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),i=e.getAncestors(t);let a=0;for(;n[a]==i[a]&&n[a];)a++;return a===0?null:n[a-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),i=Nt(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=pr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}to.prototype.is=function(r){return r==="node"||r==="model:node"};class va{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,i)=>n+i.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new M("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new M("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof to))throw new M("model-nodelist-insertnodes-not-node",this);this._nodes=function(n,i,a,c){if(Math.max(i.length,n.length)>1e4)return n.slice(0,a).concat(i).concat(n.slice(a+c,n.length));{const d=Array.from(n);return d.splice(a,c,...i),d}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Ue extends to{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Ue(this.data,this.getAttributes())}static fromJSON(e){return new Ue(e.data,e.attributes)}}Ue.prototype.is=function(r){return r==="$text"||r==="model:$text"||r==="text"||r==="model:text"||r==="node"||r==="model:node"};class Yn extends li{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new M("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new M("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Yn.prototype.is=function(r){return r==="$textProxy"||r==="model:$textProxy"||r==="textProxy"||r==="model:textProxy"};class Re extends to{constructor(e,t,n){super(t),this._children=new va,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new Re(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(i){return typeof i=="string"?[new Ue(i)]:(Gt(i)||(i=[i]),Array.from(i).map(a=>typeof a=="string"?new Ue(a):a instanceof Yn?new Ue(a.data,a.getAttributes()):a))}(t);for(const i of n)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const i of n)i.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(Re.fromJSON(n)):t.push(Ue.fromJSON(n))}return new Re(e.name,e.attributes,t)}}Re.prototype.is=function(r,e){return e?e===this.name&&(r==="element"||r==="model:element"):r==="element"||r==="model:element"||r==="node"||r==="model:node"};class Tr{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new M("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new M("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Q._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,i,a;do i=this.position,a=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=i,this._visitedParent=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=Ca(t,n),a=i||Rw(t,n,i);if(a instanceof Re){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=a;return this._position=t,no("elementStart",a,e,t,1)}if(a instanceof Ue){let c;if(this.singleCharacters)c=1;else{let m=a.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<m&&(m=this.boundaries.end.offset),c=m-t.offset}const d=t.offset-a.startOffset,h=new Yn(a,d,c);return t.offset+=c,this._position=t,no("text",h,e,t,c)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():no("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=t.parent,a=Ca(t,i),c=a||zw(t,i,a);if(c instanceof Re)return t.offset--,this.shallow?(this._position=t,no("elementStart",c,e,t,1)):(t.path.push(c.maxOffset),this._position=t,this._visitedParent=c,this.ignoreElementEnd?this._previous():no("elementEnd",c,e,t));if(c instanceof Ue){let d;if(this.singleCharacters)d=1;else{let f=c.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),d=t.offset-f}const h=t.offset-c.startOffset,m=new Yn(c,h-d,d);return t.offset-=d,this._position=t,no("text",m,e,t,d)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,no("elementStart",n,e,t,1)}}function no(r,e,t,n,i){return{done:!1,value:{type:r,item:e,previousPosition:t,nextPosition:n,length:i}}}class Q extends li{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new M("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new M("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new M("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new M("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Ca(this,this.parent)}get nodeAfter(){const e=this.parent;return Rw(this,e,Ca(this,e))}get nodeBefore(){const e=this.parent;return zw(this,e,Ca(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Nt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Tr(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Nt(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]==n[i]&&t[i];)i++;return i===0?null:t[i-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const i=this.path[n]-e.path[n];if(i<-1||i>1)return!1;if(i===1)return Fw(e,this,n);if(i===-1)return Fw(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?wp(this.path,t):wp(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:Nt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Q._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?Q._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=Q._createAt(this);if(this.root!=e.root)return n;if(Nt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Nt(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i])return null;n.path[i]-=t}}return n}_getTransformedByInsertion(e,t){const n=Q._createAt(this);if(this.root!=e.root)return n;if(Nt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Nt(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;e.offset<=this.path[i]&&(n.path[i]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return Q._createAt(this);const i=this._getTransformedByDeletion(e,n);return i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):i._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,i=Q._createAt(t);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-e.offset,i.path=[...i.path,...this.path.slice(n+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof Q)return new Q(e.root,e.path,e.stickiness);{const i=e;if(t=="end")t=i.maxOffset;else{if(t=="before")return this._createBefore(i,n);if(t=="after")return this._createAfter(i,n);if(t!==0&&!t)throw new M("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new M("model-position-parent-incorrect",[this,e]);const a=i.getPath();return a.push(t),new this(i.root,a,n)}}static _createAfter(e,t){if(!e.parent)throw new M("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new M("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new Q(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new M("model-position-fromjson-no-root",t,{rootName:e.root});return new Q(t.getRoot(e.root),e.path,e.stickiness)}}function Ca(r,e){const t=e.getChild(e.offsetToIndex(r.offset));return t&&t.is("$text")&&t.startOffset<r.offset?t:null}function Rw(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset))}function zw(r,e,t){return t!==null?null:e.getChild(e.offsetToIndex(r.offset)-1)}function Fw(r,e,t){return t+1!==r.path.length&&!!wp(e.path,t+1)&&!!function(n,i){let a=n.parent,c=n.path.length-1,d=0;for(;c>=i;){if(n.path[c]+d!==a.maxOffset)return!1;d=1,c--,a=a.parent}return!0}(r,t+1)}function wp(r,e){for(;e<r.length;){if(r[e]!==0)return!1;e++}return!0}Q.prototype.is=function(r){return r==="position"||r==="model:position"};class G extends li{constructor(e,t){super(),this.start=Q._createAt(e),this.end=t?Q._createAt(t):Q._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Tr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Nt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}containsItem(e){const t=Q._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new G(this.start,e.start)),this.containsPosition(e.end)&&t.push(new G(e.end,this.end))):t.push(new G(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new G(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let i=this.start,a=this.end;return e.start.isBefore(i)&&(i=e.start),e.end.isAfter(a)&&(a=e.end),new G(i,a)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=Q._createAt(this.start);let i=n.parent;for(;n.path.length>t+1;){const a=i.maxOffset-n.offset;a!==0&&e.push(new G(n,n.getShiftedBy(a))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const a=this.end.path[n.path.length-1],c=a-n.offset;c!==0&&e.push(new G(n,n.getShiftedBy(c))),n.offset=a,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Tr(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Tr(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Tr(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new G(this.start,this.end)]}getTransformedByOperations(e){const t=[new G(this.start,this.end)];for(const n of e)for(let i=0;i<t.length;i++){const a=t[i].getTransformedByOperation(n);t.splice(i,1,...a),i+=a.length-1}for(let n=0;n<t.length;n++){const i=t[n];for(let a=n+1;a<t.length;a++){const c=t[a];(i.containsRange(c)||c.containsRange(i)||i.isEqual(c))&&t.splice(a,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,i=e.howMany,a=e.targetPosition;return this._getTransformedByMove(n,a,i,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new G(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new G(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Q._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new G(t,n)):new G(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new G(this.start,e),new G(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const i=new G(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,t),i.end=i.end._getTransformedByInsertion(e,t),[i]}}_getTransformedByMove(e,t,n,i=!1){if(this.isCollapsed){const w=this.start._getTransformedByMove(e,t,n);return[new G(w)]}const a=G._createFromPositionAndShift(e,n),c=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!i&&(a.containsPosition(this.start)||a.containsPosition(this.end))){const w=this.start._getTransformedByMove(e,t,n),v=this.end._getTransformedByMove(e,t,n);return[new G(w,v)]}let d;const h=this.getDifference(a);let m=null;const f=this.getIntersection(a);if(h.length==1?m=new G(h[0].start._getTransformedByDeletion(e,n),h[0].end._getTransformedByDeletion(e,n)):h.length==2&&(m=new G(this.start,this.end._getTransformedByDeletion(e,n))),d=m?m._getTransformedByInsertion(c,n,f!==null||i):[],f){const w=new G(f.start._getCombined(a.start,c),f.end._getCombined(a.start,c));d.length==2?d.splice(1,0,w):d.push(w)}return d}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),i=this.end._getTransformedByDeletion(e,t);return n==null&&i==null?null:(n==null&&(n=e),i==null&&(i=e),new G(n,i))}static _createFromPositionAndShift(e,t){const n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return new this(Q._createAt(e,0),Q._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Q._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new M("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((a,c)=>a.start.isAfter(c.start)?1:-1);const n=e.indexOf(t),i=new this(t.start,t.end);if(n>0)for(let a=n-1;e[a].end.isEqual(i.start);a++)i.start=Q._createAt(e[a].start);for(let a=n+1;a<e.length&&e[a].start.isEqual(i.end);a++)i.end=Q._createAt(e[a].end);return i}static fromJSON(e,t){return new this(Q.fromJSON(e.start,t),Q.fromJSON(e.end,t))}}G.prototype.is=function(r){return r==="range"||r==="model:range"};class Vw extends Z(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new M("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),i=this._viewToModelMapping.get(n),a=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=Q._createAt(i,a)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const i of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(i);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const i=this._elementToMarkerNames.get(e);i&&(i.delete(t),i.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new G(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new he(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const i of t)if(i.is("attributeElement"))for(const a of i.getElementsWithSameId())n.add(a);else n.add(i);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let i=0;for(let a=0;a<t;a++)i+=this.getModelLength(e.getChild(a));return i}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,i=0,a=0,c=0;if(e.is("$text"))return new te(e,t);for(;a<t;)n=e.getChild(c),i=this.getModelLength(n),a+=i,c++;return a==t?this._moveViewPositionToTextNode(new te(e,c)):this.findPositionIn(n,t-(a-i))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof Ve?new te(t,t.data.length):n instanceof Ve?new te(n,0):e}}class W5{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Oc(t),e instanceof Yn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Oc(t),e instanceof Yn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Oc(t),e instanceof Yn&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const i=n.get(t);return i===void 0?null:i}revert(e,t){t=Oc(t),e instanceof Yn&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n!==!0&&null}verifyAllConsumed(e){const t=[];for(const[n,i]of this._consumable)for(const[a,c]of i){const d=a.split(":")[0];c&&e==d&&t.push({event:a,item:n.name||n.description})}if(t.length)throw new M("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const i=n.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,i=e.parent,a=Symbol("$textProxy:"+e.data);let c,d;return c=this._textProxyRegistry.get(t),c||(c=new Map,this._textProxyRegistry.set(t,c)),d=c.get(n),d||(d=new Map,c.set(n,d)),d.set(i,a),a}}function Oc(r){const e=r.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?r:e.length>1?e[0]+":"+e[1]:e[0]}var G5=Object.defineProperty,K5=Object.defineProperties,Y5=Object.getOwnPropertyDescriptors,Uw=Object.getOwnPropertySymbols,Q5=Object.prototype.hasOwnProperty,J5=Object.prototype.propertyIsEnumerable,Hw=(r,e,t)=>e in r?G5(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_p=(r,e)=>{for(var t in e||(e={}))Q5.call(e,t)&&Hw(r,t,e[t]);if(Uw)for(var t of Uw(e))J5.call(e,t)&&Hw(r,t,e[t]);return r},$w=(r,e)=>K5(r,Y5(e));class qw extends Z(){constructor(e){super(),this._conversionApi=_p({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const i=this._createConversionApi(n,e.getRefreshedItems());for(const c of e.getMarkersToRemove())this._convertMarkerRemove(c.name,c.range,i);const a=this._reduceChanges(e.getChanges());for(const c of a)c.type==="insert"?this._convertInsert(G._createFromPositionAndShift(c.position,c.length),i):c.type==="reinsert"?this._convertReinsert(G._createFromPositionAndShift(c.position,c.length),i):c.type==="remove"?this._convertRemove(c.position,c.length,c.name,i):this._convertAttribute(c.range,c.attributeKey,c.attributeOldValue,c.attributeNewValue,i);i.mapper.flushDeferredBindings();for(const c of i.mapper.flushUnboundMarkerNames()){const d=t.get(c).getRange();this._convertMarkerRemove(c,d,i),this._convertMarkerAdd(c,d,i)}for(const c of e.getMarkersToAdd())this._convertMarkerAdd(c.name,c.range,i);i.consumable.verifyAllConsumed("insert")}convert(e,t,n,i={}){const a=this._createConversionApi(n,void 0,i);this._convertInsert(e,a);for(const[c,d]of t)this._convertMarkerAdd(c,d,a);a.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const i=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},i);const a=e.getFirstPosition().root;if(!i.mapper.toViewElement(a))return;const c=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(i.consumable,e,c),this.fire("selection",{selection:e},i),e.isCollapsed){for(const d of c)if(i.consumable.test(e,"addMarker:"+d.name)){const h=d.getRange();if(!Z5(e.getFirstPosition(),d,i.mapper))continue;const m={item:e,markerName:d.name,markerRange:h};this.fire(`addMarker:${d.name}`,m,i)}for(const d of e.getAttributeKeys())if(i.consumable.test(e,"attribute:"+d)){const h={item:e,range:e.getFirstRange(),attributeKey:d,attributeOldValue:null,attributeNewValue:e.getAttribute(d)};this.fire(`attribute:${d}:$text`,h,i)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const i of Array.from(e.getWalker({shallow:!0})).map(Ww))this._testAndFire("insert",i,t)}_convertRemove(e,t,n,i){this.fire(`remove:${n}`,{position:e,length:t},i)}_convertAttribute(e,t,n,i,a){this._addConsumablesForRange(a.consumable,e,`attribute:${t}`);for(const c of e){const d={item:c.item,range:G._createFromPositionAndShift(c.previousPosition,c.length),attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${t}`,d,a)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const i of n.map(Ww))this._testAndFire("insert",$w(_p({},i),{reconversion:!0}),t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const i=`addMarker:${e}`;if(n.consumable.add(t,i),this.fire(i,{markerName:e,markerRange:t},n),n.consumable.consume(t,i)){this._addConsumablesForRange(n.consumable,t,i);for(const a of t.getItems()){if(!n.consumable.test(a,i))continue;const c={item:a,range:G._createOn(a),markerName:e,markerRange:t};this.fire(i,c,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const i=n.item;if(e.test(i,"insert")===null){e.add(i,"insert");for(const a of i.getAttributeKeys())e.add(i,"attribute:"+a)}}return e}_addConsumablesForRange(e,t,n){for(const i of t.getItems())e.add(i,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const i of n)e.add(t,"addMarker:"+i.name);for(const i of t.getAttributeKeys())e.add(t,"attribute:"+i);return e}_testAndFire(e,t,n){const i=function(h,m){const f=m.item.is("element")?m.item.name:"$text";return`${h}:${f}`}(e,t),a=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,c=this._firedEventsMap.get(n),d=c.get(a);if(d){if(d.has(i))return;d.add(i)}else c.set(a,new Set([i]));this.fire(i,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:G._createOn(e)};for(const i of n.item.getAttributeKeys())n.attributeKey=i,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(i),this._testAndFire(`attribute:${i}`,n,t)}_createConversionApi(e,t=new Set,n={}){const i=$w(_p({},this._conversionApi),{consumable:new W5,writer:e,options:n,convertItem:a=>this._convertInsert(G._createOn(a),i),convertChildren:a=>this._convertInsert(G._createIn(a),i,{doNotAddConsumables:!0}),convertAttributes:a=>this._testAndFireAddAttributes(a,i),canReuseView:a=>!t.has(i.mapper.toModelElement(a))});return this._firedEventsMap.set(i,new Map),i}}function Z5(r,e,t){const n=e.getRange(),i=Array.from(r.getAncestors());return i.shift(),i.reverse(),!i.some(a=>{if(n.containsItem(a))return!!t.toViewElement(a).getCustomProperty("addHighlight")})}function Ww(r){return{item:r.item,range:G._createFromPositionAndShift(r.previousPosition,r.length)}}class gn extends Z(li){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const i of e._ranges)if(t.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new G(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new G(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new G(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,i]=e;if(typeof n=="object"&&(i=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof gn)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof G)this._setRanges([t],!!i&&!!i.backward);else if(t instanceof Q)this._setRanges([new G(t)]);else if(t instanceof to){const a=!!i&&!!i.backward;let c;if(n=="in")c=G._createIn(t);else if(n=="on")c=G._createOn(t);else{if(n===void 0)throw new M("model-selection-setto-required-second-parameter",[this,t]);c=new G(Q._createAt(t,n))}this._setRanges([c],a)}else{if(!Gt(t))throw new M("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,i&&!!i.backward)}}_setRanges(e,t=!1){const n=Array.from(e),i=n.some(a=>{if(!(a instanceof G))throw new M("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(c=>!c.isEqual(a))});(n.length!==this._ranges.length||i)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new M("model-selection-setfocus-no-ranges",[this,e]);const n=Q._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(i)=="before"?(this._pushRange(new G(n,i)),this._lastRangeBackward=!0):(this._pushRange(new G(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=Kw(t.start,e);eM(n,t)&&(yield n);for(const a of t.getWalker()){const c=a.item;a.type=="elementEnd"&&X5(c,e,t)&&(yield c)}const i=Kw(t.end,e);tM(i,t)&&(yield i)}}containsEntireContent(e=this.anchor.root){const t=Q._createAt(e,0),n=Q._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new G(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new M("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Gw(r,e){return!e.has(r)&&(e.add(r),r.root.document.model.schema.isBlock(r)&&!!r.parent)}function X5(r,e,t){return Gw(r,e)&&Ap(r,t)}function Kw(r,e){const t=r.parent.root.document.model.schema,n=r.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const a=n.find(c=>!i&&(i=t.isLimit(c),!i&&Gw(c,e)));return n.forEach(c=>e.add(c)),a}function Ap(r,e){const t=function(n){const i=n.root.document.model.schema;let a=n.parent;for(;a;){if(i.isBlock(a))return a;a=a.parent}}(r);return t?!e.containsRange(G._createOn(t),!0):!0}function eM(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.start.isTouching(Q._createAt(r,r.maxOffset))&&Ap(r,e))}function tM(r,e){return!!r&&(!(!e.isCollapsed&&!r.isEmpty)||!e.end.isTouching(Q._createAt(r,0))&&Ap(r,e))}gn.prototype.is=function(r){return r==="selection"||r==="model:selection"};class fn extends Z(G){constructor(e,t){super(e,t),nM.call(this)}detach(){this.stopListening()}toRange(){return new G(this.start,this.end)}static fromRange(e){return new fn(e.start,e.end)}}function nM(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&rM.call(this,t)},{priority:"low"})}function rM(r){const e=this.getTransformedByOperation(r),t=G._createFromRanges(e),n=!t.isEqual(this),i=function(c,d){switch(d.type){case"insert":return c.containsPosition(d.position);case"move":case"remove":case"reinsert":case"merge":return c.containsPosition(d.sourcePosition)||c.start.isEqual(d.sourcePosition)||c.containsPosition(d.targetPosition);case"split":return c.containsPosition(d.splitPosition)||c.containsPosition(d.insertionPosition)}return!1}(this,r);let a=null;if(n){t.root.rootName=="$graveyard"&&(a=r.type=="remove"?r.sourcePosition:r.deletionPosition);const c=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",c,{deletionPosition:a})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:a})}fn.prototype.is=function(r){return r==="liveRange"||r==="model:liveRange"||r=="range"||r==="model:range"};const Lc="selection:";class Qn extends Z(li){constructor(e){super(),this._selection=new iM(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Lc+e}static _isStoreAttributeKey(e){return e.startsWith(Lc)}}Qn.prototype.is=function(r){return r==="selection"||r=="model:selection"||r=="documentSelection"||r=="model:documentSelection"};class iM extends gn{constructor(e){super(),this.markers=new $n({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const i=n[0];i.isDocumentOperation&&i.type!="marker"&&i.type!="rename"&&i.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,i,a)=>{this._updateMarker(n,a)}),this.listenTo(this._document,"change",(t,n)=>{(function(i,a){const c=i.document.differ;for(const d of c.getChanges()){if(d.type!="insert")continue;const h=d.position.parent;d.length===h.maxOffset&&i.enqueueChange(a,m=>{const f=Array.from(h.getAttributeKeys()).filter(w=>w.startsWith(Lc));for(const w of f)m.removeAttribute(w,h)})}})(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=R();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new M("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new M("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=fn.fromRange(e);return t.on("change:range",(n,i,a)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=a.deletionPosition;const c=this._ranges.indexOf(t);this._ranges.splice(c,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const i of this._model.markers){const a=i.name.split(":",1)[0];if(!this._observedMarkers.has(a))continue;const c=i.getRange();for(const d of this.getRanges())c.containsRange(d,!d.isCollapsed)&&e.push(i)}const n=Array.from(this.markers);for(const i of e)this.markers.has(i)||(this.markers.add(i),t=!0);for(const i of Array.from(this.markers))e.includes(i)||(this.markers.remove(i),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let i=!1;const a=Array.from(this.markers),c=this.markers.has(e);if(t){let d=!1;for(const h of this.getRanges())if(t.containsRange(h,!h.isCollapsed)){d=!0;break}d&&!c?(this.markers.add(e),i=!0):!d&&c&&(this.markers.remove(e),i=!0)}else c&&(this.markers.remove(e),i=!0);i&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateAttributes(e){const t=pr(this._getSurroundingAttributes()),n=pr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[a,c]of this._attributePriority)c=="low"&&(this._attrs.delete(a),this._attributePriority.delete(a));this._setAttributesTo(t);const i=[];for(const[a,c]of this.getAttributes())n.has(a)&&n.get(a)===c||i.push(a);for(const[a]of n)this.hasAttribute(a)||i.push(a);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(e,t,n=!0){const i=n?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,i),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return(n!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,n),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,i]of this.getAttributes())e.get(n)!==i&&this._removeAttribute(n,!1);for(const[n,i]of e)this._setAttribute(n,i,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Lc)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const i=e.textNode?e.textNode:e.nodeBefore,a=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=ya(i,t)),n||(n=ya(a,t)),!this.isGravityOverridden&&!n){let c=i;for(;c&&!n;)c=c.previousSibling,n=ya(c,t)}if(!n){let c=a;for(;c&&!n;)c=c.nextSibling,n=ya(c,t)}n||(n=this.getStoredAttributes())}else{const i=this.getFirstRange();for(const a of i){if(a.item.is("element")&&t.isObject(a.item)){n=ya(a.item,t);break}if(a.type=="text"){n=a.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function ya(r,e){if(!r)return null;if(r instanceof Yn||r instanceof Ue)return r.getAttributes();if(!e.isInline(r))return null;if(!e.isObject(r))return[];const t=[];for(const[n,i]of r.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,i]);return t}class Yw{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class oM extends Yw{elementToElement(e){return this.add(function(t){const n=Zw(t.model),i=xa(t.view,"container");return n.attributes.length&&(n.children=!0),a=>{a.on(`insert:${n.name}`,aM(i,n_(n)),{priority:t.converterPriority||"normal"}),(n.children||n.attributes.length)&&a.on("reduceChanges",t_(n),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const n=Zw(t.model),i=xa(t.view,"container");return n.children=!0,a=>{if(a._conversionApi.schema.checkChild(n.name,"$text"))throw new M("conversion-element-to-structure-disallowed-text",a,{elementName:n.name});var c,d;a.on(`insert:${n.name}`,(c=i,d=n_(n),(h,m,f)=>{if(!d(m.item,f.consumable,{preflight:!0}))return;const w=new Map;f.writer._registerSlotFactory(function(S,I,P){return(z,F)=>{const W=z.createContainerElement("$slot");let K=null;if(F==="children")K=Array.from(S.getChildren());else{if(typeof F!="function")throw new M("conversion-slot-mode-unknown",P.dispatcher,{modeOrFilter:F});K=Array.from(S.getChildren()).filter(ie=>F(ie))}return I.set(W,K),W}}(m.item,w,f));const v=c(m.item,f,m);if(f.writer._clearSlotFactory(),!v)return;(function(S,I,P){const z=Array.from(I.values()).flat(),F=new Set(z);if(F.size!=z.length)throw new M("conversion-slot-filter-overlap",P.dispatcher,{element:S});if(F.size!=S.childCount)throw new M("conversion-slot-filter-incomplete",P.dispatcher,{element:S})})(m.item,w,f),d(m.item,f.consumable);const x=f.mapper.toViewPosition(m.range.start);f.mapper.bindElements(m.item,v),f.writer.insert(x,v),f.convertAttributes(m.item),function(S,I,P,z){P.mapper.on("modelToViewPosition",K,{priority:"highest"});let F=null,W=null;for([F,W]of I)r_(S,W,P,z),P.writer.move(P.writer.createRangeIn(F),P.writer.createPositionBefore(F)),P.writer.remove(F);function K(ie,de){const ke=de.modelPosition.nodeAfter,We=W.indexOf(ke);We<0||(de.viewPosition=de.mapper.findPositionIn(F,We))}P.mapper.off("modelToViewPosition",K)}(v,w,f,{reconversion:m.reconversion})}),{priority:t.converterPriority||"normal"}),a.on("reduceChanges",t_(n),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=Kn(t);let n=t.model;typeof n=="string"&&(n={key:n});let i=`attribute:${n.key}`;if(n.name&&(i+=":"+n.name),n.values)for(const c of n.values)t.view[c]=xa(t.view[c],"attribute");else t.view=xa(t.view,"attribute");const a=Xw(t);return c=>{c.on(i,sM(a),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Kn(t);let n=t.model;typeof n=="string"&&(n={key:n});let i=`attribute:${n.key}`;if(n.name&&(i+=":"+n.name),n.values)for(const c of n.values)t.view[c]=e_(t.view[c]);else t.view=e_(t.view);const a=Xw(t);return c=>{var d;c.on(i,(d=a,(h,m,f)=>{if(!f.consumable.test(m.item,h.name))return;const w=d(m.attributeOldValue,f,m),v=d(m.attributeNewValue,f,m);if(!w&&!v)return;f.consumable.consume(m.item,h.name);const x=f.mapper.toViewElement(m.item),S=f.writer;if(!x)throw new M("conversion-attribute-to-attribute-on-text",f.dispatcher,m);if(m.attributeOldValue!==null&&w)if(w.key=="class"){const I=typeof w.value=="string"?w.value.split(/\s+/):w.value;for(const P of I)S.removeClass(P,x)}else if(w.key=="style")if(typeof w.value=="string"){const I=new ip(S.document.stylesProcessor);I.setTo(w.value);for(const[P]of I.getStylesEntries())S.removeStyle(P,x)}else{const I=Object.keys(w.value);for(const P of I)S.removeStyle(P,x)}else S.removeAttribute(w.key,x);if(m.attributeNewValue!==null&&v)if(v.key=="class"){const I=typeof v.value=="string"?v.value.split(/\s+/):v.value;for(const P of I)S.addClass(P,x)}else if(v.key=="style")if(typeof v.value=="string"){const I=new ip(S.document.stylesProcessor);I.setTo(v.value);for(const[P,z]of I.getStylesEntries())S.setStyle(P,z,x)}else{const I=Object.keys(v.value);for(const P of I)S.setStyle(P,v.value[P],x)}else S.setAttribute(v.key,v.value,x)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const n=xa(t.view,"ui");return i=>{i.on(`addMarker:${t.model}`,lM(n),{priority:t.converterPriority||"normal"}),i.on(`removeMarker:${t.model}`,(a,c,d)=>{const h=d.mapper.markerNameToElements(c.markerName);if(h){for(const m of h)d.mapper.unbindElementFromMarkerName(m,c.markerName),d.writer.clear(d.writer.createRangeOn(m),m);d.writer.clearClonedElementsGroup(c.markerName),a.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return n=>{var i;n.on(`addMarker:${t.model}`,(i=t.view,(a,c,d)=>{if(!c.item||!(c.item instanceof gn||c.item instanceof Qn||c.item.is("$textProxy")))return;const h=vp(i,c,d);if(!h||!d.consumable.consume(c.item,a.name))return;const m=d.writer,f=Qw(m,h),w=m.document.selection;if(c.item instanceof gn||c.item instanceof Qn)m.wrap(w.getFirstRange(),f);else{const v=d.mapper.toViewRange(c.range),x=m.wrap(v,f);for(const S of x.getItems())if(S.is("attributeElement")&&S.isSimilar(f)){d.mapper.bindElementToMarker(S,c.markerName);break}}}),{priority:t.converterPriority||"normal"}),n.on(`addMarker:${t.model}`,function(a){return(c,d,h)=>{if(!d.item||!(d.item instanceof Re))return;const m=vp(a,d,h);if(!m||!h.consumable.test(d.item,c.name))return;const f=h.mapper.toViewElement(d.item);if(f&&f.getCustomProperty("addHighlight")){h.consumable.consume(d.item,c.name);for(const w of G._createIn(d.item))h.consumable.consume(w.item,c.name);f.getCustomProperty("addHighlight")(f,m,h.writer),h.mapper.bindElementToMarker(f,d.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,function(a){return(c,d,h)=>{if(d.markerRange.isCollapsed)return;const m=vp(a,d,h);if(!m)return;const f=Qw(h.writer,m),w=h.mapper.markerNameToElements(d.markerName);if(w){for(const v of w)h.mapper.unbindElementFromMarkerName(v,d.markerName),v.is("attributeElement")?h.writer.unwrap(h.writer.createRangeOn(v),f):v.getCustomProperty("removeHighlight")(v,m.id,h.writer);h.writer.clearClonedElementsGroup(d.markerName),c.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=Kn(t);const n=t.model;let i=t.view;return i||(i=a=>({group:n,name:a.substr(t.model.length+1)})),a=>{var c;a.on(`addMarker:${n}`,(c=i,(d,h,m)=>{const f=c(h.markerName,m);if(!f)return;const w=h.markerRange;m.consumable.consume(w,d.name)&&(Jw(w,!1,m,h,f),Jw(w,!0,m,h,f),d.stop())}),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${n}`,function(d){return(h,m,f)=>{const w=d(m.markerName,f);if(!w)return;const v=f.mapper.markerNameToElements(m.markerName);if(v){for(const S of v)f.mapper.unbindElementFromMarkerName(S,m.markerName),S.is("containerElement")?(x(`data-${w.group}-start-before`,S),x(`data-${w.group}-start-after`,S),x(`data-${w.group}-end-before`,S),x(`data-${w.group}-end-after`,S)):f.writer.clear(f.writer.createRangeOn(S),S);f.writer.clearClonedElementsGroup(m.markerName),h.stop()}function x(S,I){if(I.hasAttribute(S)){const P=new Set(I.getAttribute(S).split(","));P.delete(w.name),P.size==0?f.writer.removeAttribute(S,I):f.writer.setAttribute(S,Array.from(P).join(","),I)}}}}(i),{priority:t.converterPriority||"normal"})}}(e))}}function Qw(r,e){const t=r.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function sM(r){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const i=r(t.attributeOldValue,n,t),a=r(t.attributeNewValue,n,t);if(!i&&!a)return;n.consumable.consume(t.item,e.name);const c=n.writer,d=c.document.selection;if(t.item instanceof gn||t.item instanceof Qn)c.wrap(d.getFirstRange(),a);else{let h=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&i&&(h=c.unwrap(h,i)),t.attributeNewValue!==null&&a&&c.wrap(h,a)}}}function aM(r,e=dM){return(t,n,i)=>{if(!e(n.item,i.consumable,{preflight:!0}))return;const a=r(n.item,i,n);if(!a)return;e(n.item,i.consumable);const c=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,a),i.writer.insert(c,a),i.convertAttributes(n.item),r_(a,n.item.getChildren(),i,{reconversion:n.reconversion})}}function lM(r){return(e,t,n)=>{t.isOpening=!0;const i=r(t,n);t.isOpening=!1;const a=r(t,n);if(!i||!a)return;const c=t.markerRange;if(c.isCollapsed&&!n.consumable.consume(c,e.name))return;for(const m of c)if(!n.consumable.consume(m.item,e.name))return;const d=n.mapper,h=n.writer;h.insert(d.toViewPosition(c.start),i),n.mapper.bindElementToMarker(i,t.markerName),c.isCollapsed||(h.insert(d.toViewPosition(c.end),a),n.mapper.bindElementToMarker(a,t.markerName)),e.stop()}}function Jw(r,e,t,n,i){const a=e?r.start:r.end,c=a.nodeAfter&&a.nodeAfter.is("element")?a.nodeAfter:null,d=a.nodeBefore&&a.nodeBefore.is("element")?a.nodeBefore:null;if(c||d){let h,m;e&&c||!e&&!d?(h=c,m=!0):(h=d,m=!1);const f=t.mapper.toViewElement(h);if(f)return void function(w,v,x,S,I,P){const z=`data-${P.group}-${v?"start":"end"}-${x?"before":"after"}`,F=w.hasAttribute(z)?w.getAttribute(z).split(","):[];F.unshift(P.name),S.writer.setAttribute(z,F.join(","),w),S.mapper.bindElementToMarker(w,I.markerName)}(f,e,m,t,n,i)}(function(h,m,f,w,v){const x=`${v.group}-${m?"start":"end"}`,S=v.name?{name:v.name}:null,I=f.writer.createUIElement(x,S);f.writer.insert(h,I),f.mapper.bindElementToMarker(I,w.markerName)})(t.mapper.toViewPosition(a),e,t,n,i)}function Zw(r){return typeof r=="string"&&(r={name:r}),{name:r.name,attributes:r.attributes?qe(r.attributes):[],children:!!r.children}}function xa(r,e){return typeof r=="function"?r:(t,n)=>function(i,a,c){typeof i=="string"&&(i={name:i});let d;const h=a.writer,m=Object.assign({},i.attributes);if(c=="container")d=h.createContainerElement(i.name,m);else if(c=="attribute"){const f={priority:i.priority||Xi.DEFAULT_PRIORITY};d=h.createAttributeElement(i.name,m,f)}else d=h.createUIElement(i.name,m);if(i.styles){const f=Object.keys(i.styles);for(const w of f)h.setStyle(w,i.styles[w],d)}if(i.classes){const f=i.classes;if(typeof f=="string")h.addClass(f,d);else for(const w of f)h.addClass(w,d)}return d}(r,n,e)}function Xw(r){return r.model.values?(e,t,n)=>{const i=r.view[e];return i?i(e,t,n):null}:r.view}function e_(r){return typeof r=="string"?e=>({key:r,value:e}):typeof r=="object"?r.value?()=>r:e=>({key:r.key,value:e}):r}function vp(r,e,t){const n=typeof r=="function"?r(e,t):r;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function t_(r){const e=function(t){return(n,i)=>{if(!n.is("element",t.name))return!1;if(i.type=="attribute"){if(t.attributes.includes(i.attributeKey))return!0}else if(t.children)return!0;return!1}}(r);return(t,n)=>{const i=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const a of n.changes){const c=a.type=="attribute"?a.range.start.nodeAfter:a.position.parent;if(c&&e(c,a)){if(!n.reconvertedElements.has(c)){n.reconvertedElements.add(c);const d=Q._createBefore(c);let h=i.length;for(let m=i.length-1;m>=0;m--){const f=i[m],w=(f.type=="attribute"?f.range.start:f.position).compareWith(d);if(w=="before"||f.type=="remove"&&w=="same")break;h=m}i.splice(h,0,{type:"remove",name:c.name,position:d,length:1},{type:"reinsert",name:c.name,position:d,length:1})}}else i.push(a)}n.changes=i}}function n_(r){return(e,t,n={})=>{const i=["insert"];for(const a of r.attributes)e.hasAttribute(a)&&i.push(`attribute:${a}`);return!!i.every(a=>t.test(e,a))&&(n.preflight||i.forEach(a=>t.consume(e,a)),!0)}}function r_(r,e,t,n){for(const i of e)cM(r.root,i,t,n)||t.convertItem(i)}function cM(r,e,t,n){const{writer:i,mapper:a}=t;if(!n.reconversion)return!1;const c=a.toViewElement(e);return!(!c||c.root==r)&&!!t.canReuseView(c)&&(i.move(i.createRangeOn(c),a.toViewPosition(Q._createBefore(e))),!0)}function dM(r,e,{preflight:t}={}){return t?e.test(r,"insert"):e.consume(r,"insert")}function i_(r){const{schema:e,document:t}=r.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return r.insertElement("paragraph",n),!0;return!1}function o_(r,e,t){const n=t.createContext(r);return!!t.checkChild(n,"paragraph")&&!!t.checkChild(n.push("paragraph"),e)}function s_(r,e){const t=e.createElement("paragraph");return e.insert(t,r),e.createPositionAt(t,0)}var uM=Object.defineProperty,hM=Object.defineProperties,pM=Object.getOwnPropertyDescriptors,a_=Object.getOwnPropertySymbols,mM=Object.prototype.hasOwnProperty,gM=Object.prototype.propertyIsEnumerable,l_=(r,e,t)=>e in r?uM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class fM extends Yw{elementToElement(e){return this.add(c_(e))}elementToAttribute(e){return this.add(function(t){t=Kn(t),d_(t);const n=u_(t,!1),i=Cp(t.view),a=i?`element:${i}`:"element";return c=>{c.on(a,n,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Kn(t);let n=null;(typeof t.view=="string"||t.view.key)&&(n=function(a){typeof a.view=="string"&&(a.view={key:a.view});const c=a.view.key,d=a.view.value===void 0?/[\s\S]*/:a.view.value;let h;return c=="class"||c=="style"?h={[c=="class"?"classes":"styles"]:d}:h={attributes:{[c]:d}},a.view.name&&(h.name=a.view.name),a.view=h,c}(t)),d_(t,n);const i=u_(t,!0);return a=>{a.on("element",i,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const n=function(c){return(d,h)=>{const m=typeof c=="string"?c:c(d,h);return h.writer.createElement("$marker",{"data-name":m})}}(t.model);return c_((i=((c,d)=>{for(var h in d||(d={}))mM.call(d,h)&&l_(c,h,d[h]);if(a_)for(var h of a_(d))gM.call(d,h)&&l_(c,h,d[h]);return c})({},t),a={model:n},hM(i,pM(a))));var i,a}(e))}dataToMarker(e){return this.add(function(t){t=Kn(t),t.model||(t.model=c=>c?t.view+":"+c:t.view);const n={view:t.view,model:t.model},i=yp(h_(n,"start")),a=yp(h_(n,"end"));return c=>{c.on(`element:${t.view}-start`,i,{priority:t.converterPriority||"normal"}),c.on(`element:${t.view}-end`,a,{priority:t.converterPriority||"normal"});const d=H.low,h=H.highest,m=H.get(t.converterPriority)/h;c.on("element",function(f){return(w,v,x)=>{const S=`data-${f.view}`;function I(P,z){for(const F of z){const W=f.model(F,x),K=x.writer.createElement("$marker",{"data-name":W});x.writer.insert(K,P),v.modelCursor.isEqual(P)?v.modelCursor=v.modelCursor.getShiftedBy(1):v.modelCursor=v.modelCursor._getTransformedByInsertion(P,1),v.modelRange=v.modelRange._getTransformedByInsertion(P,1)[0]}}(x.consumable.test(v.viewItem,{attributes:S+"-end-after"})||x.consumable.test(v.viewItem,{attributes:S+"-start-after"})||x.consumable.test(v.viewItem,{attributes:S+"-end-before"})||x.consumable.test(v.viewItem,{attributes:S+"-start-before"}))&&(v.modelRange||Object.assign(v,x.convertChildren(v.viewItem,v.modelCursor)),x.consumable.consume(v.viewItem,{attributes:S+"-end-after"})&&I(v.modelRange.end,v.viewItem.getAttribute(S+"-end-after").split(",")),x.consumable.consume(v.viewItem,{attributes:S+"-start-after"})&&I(v.modelRange.end,v.viewItem.getAttribute(S+"-start-after").split(",")),x.consumable.consume(v.viewItem,{attributes:S+"-end-before"})&&I(v.modelRange.start,v.viewItem.getAttribute(S+"-end-before").split(",")),x.consumable.consume(v.viewItem,{attributes:S+"-start-before"})&&I(v.modelRange.start,v.viewItem.getAttribute(S+"-start-before").split(",")))}}(n),{priority:d+m})}}(e))}}function c_(r){const e=yp(r=Kn(r)),t=Cp(r.view),n=t?`element:${t}`:"element";return i=>{i.on(n,e,{priority:r.converterPriority||"normal"})}}function Cp(r){return typeof r=="string"?r:typeof r=="object"&&typeof r.name=="string"?r.name:null}function yp(r){const e=new gr(r.view);return(t,n,i)=>{const a=e.match(n.viewItem);if(!a)return;const c=a.match;if(c.name=!0,!i.consumable.test(n.viewItem,c))return;const d=function(h,m,f){return h instanceof Function?h(m,f):f.writer.createElement(h)}(r.model,n.viewItem,i);d&&i.safeInsert(d,n.modelCursor)&&(i.consumable.consume(n.viewItem,c),i.convertChildren(n.viewItem,d),i.updateConversionResult(d,n))}}function d_(r,e=null){const t=e===null||(a=>a.getAttribute(e)),n=typeof r.model!="object"?r.model:r.model.key,i=typeof r.model!="object"||r.model.value===void 0?t:r.model.value;r.model={key:n,value:i}}function u_(r,e){const t=new gr(r.view);return(n,i,a)=>{if(!i.modelRange&&e)return;const c=t.match(i.viewItem);if(!c||(function(f,w){const v=typeof f=="function"?f(w):f;return typeof v=="object"&&!Cp(v)?!1:!v.classes&&!v.attributes&&!v.styles}(r.view,i.viewItem)?c.match.name=!0:delete c.match.name,!a.consumable.test(i.viewItem,c.match)))return;const d=r.model.key,h=typeof r.model.value=="function"?r.model.value(i.viewItem,a):r.model.value;if(h===null)return;i.modelRange||Object.assign(i,a.convertChildren(i.viewItem,i.modelCursor)),function(f,w,v,x){let S=!1;for(const I of Array.from(f.getItems({shallow:v})))x.schema.checkAttribute(I,w.key)&&(S=!0,I.hasAttribute(w.key)||x.writer.setAttribute(w.key,w.value,I));return S}(i.modelRange,{key:d,value:h},e,a)&&(a.consumable.test(i.viewItem,{name:!0})&&(c.match.name=!0),a.consumable.consume(i.viewItem,c.match))}}function h_(r,e){return{view:`${r.view}-${e}`,model:(t,n)=>{const i=t.getAttribute("name"),a=r.model(i,n);return n.writer.createElement("$marker",{"data-name":a})}}}function kM(r){r.document.registerPostFixer(e=>function(t,n){const i=n.document.selection,a=n.schema,c=[];let d=!1;for(const h of i.getRanges()){const m=p_(h,a);m&&!m.isEqual(h)?(c.push(m),d=!0):c.push(h)}return d&&t.setSelection(function(h){const m=[...h],f=new Set;let w=1;for(;w<m.length;){const v=m[w],x=m.slice(0,w);for(const[S,I]of x.entries())if(!f.has(S)){if(v.isEqual(I))f.add(S);else if(v.isIntersecting(I)){f.add(S),f.add(w);const P=v.getJoined(I);m.push(P)}}w++}return m.filter((v,x)=>!f.has(x))}(c),{backward:i.isBackward}),!1}(e,r))}function p_(r,e){return r.isCollapsed?function(t,n){const i=t.start,a=n.getNearestSelectionRange(i);if(!a){const d=i.getAncestors().reverse().find(h=>n.isObject(h));return d?G._createOn(d):null}if(!a.isCollapsed)return a;const c=a.start;return i.isEqual(c)?null:new G(c)}(r,e):function(t,n){const{start:i,end:a}=t,c=n.checkChild(i,"$text"),d=n.checkChild(a,"$text"),h=n.getLimitElement(i),m=n.getLimitElement(a);if(h===m){if(c&&d)return null;if(function(v,x,S){const I=v.nodeAfter&&!S.isLimit(v.nodeAfter)||S.checkChild(v,"$text"),P=x.nodeBefore&&!S.isLimit(x.nodeBefore)||S.checkChild(x,"$text");return I||P}(i,a,n)){const v=i.nodeAfter&&n.isSelectable(i.nodeAfter)?null:n.getNearestSelectionRange(i,"forward"),x=a.nodeBefore&&n.isSelectable(a.nodeBefore)?null:n.getNearestSelectionRange(a,"backward"),S=v?v.start:i,I=x?x.end:a;return new G(S,I)}}const f=h&&!h.is("rootElement"),w=m&&!m.is("rootElement");if(f||w){const v=i.nodeAfter&&a.nodeBefore&&i.nodeAfter.parent===a.nodeBefore.parent,x=f&&(!v||!g_(i.nodeAfter,n)),S=w&&(!v||!g_(a.nodeBefore,n));let I=i,P=a;return x&&(I=Q._createBefore(m_(h,n))),S&&(P=Q._createAfter(m_(m,n))),new G(I,P)}return null}(r,e)}function m_(r,e){let t=r,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function g_(r,e){return r&&e.isSelectable(r)}class bM extends Le(){constructor(e,t){super(),this.model=e,this.view=new q5(t),this.mapper=new Vw,this.downcastDispatcher=new qw({mapper:this.mapper,schema:e.schema});const n=this.model.document,i=n.selection,a=this.model.markers;var c,d,h;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(m=>{this.downcastDispatcher.convertChanges(n.differ,a,m),this.downcastDispatcher.convertSelection(i,a,m)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(m,f){return(w,v)=>{const x=v.newSelection,S=[];for(const P of x.getRanges())S.push(f.toModelRange(P));const I=m.createSelection(S,{backward:x.isBackward});I.isEqual(m.document.selection)||m.change(P=>{P.setSelection(I)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(c=this.mapper,d=this.model.schema,h=this.view,(m,f)=>{if(!h.document.isComposing||E.isAndroid)for(let w=0;w<f.targetRanges.length;w++){const v=f.targetRanges[w],x=c.toModelRange(v),S=p_(x,d);S&&!S.isEqual(x)&&(f.targetRanges[w]=c.toViewRange(S))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(m,f,w)=>{if(!w.consumable.consume(f.item,m.name))return;const v=w.writer,x=w.mapper.toViewPosition(f.range.start),S=v.createText(f.item.data);v.insert(x,S)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(m,f,w)=>{w.convertAttributes(f.item),f.reconversion||!f.item.is("element")||f.item.isEmpty||w.convertChildren(f.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(m,f,w)=>{const v=w.mapper.toViewPosition(f.position),x=f.position.getShiftedBy(f.length),S=w.mapper.toViewPosition(x,{isPhantom:!0}),I=w.writer.createRange(v,S),P=w.writer.remove(I.getTrimmed());for(const z of w.writer.createRangeIn(P).getItems())w.mapper.unbindViewElement(z,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(m,f,w)=>{const v=w.writer,x=v.document.selection;for(const S of x.getRanges())S.isCollapsed&&S.end.parent.isAttached()&&w.writer.mergeAttributes(S.start);v.setSelection(null)}),this.downcastDispatcher.on("selection",(m,f,w)=>{const v=f.selection;if(v.isCollapsed||!w.consumable.consume(v,"selection"))return;const x=[];for(const S of v.getRanges())x.push(w.mapper.toViewRange(S));w.writer.setSelection(x,{backward:v.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(m,f,w)=>{const v=f.selection;if(!v.isCollapsed||!w.consumable.consume(v,"selection"))return;const x=w.writer,S=v.getFirstPosition(),I=w.mapper.toViewPosition(S),P=x.breakAttributes(I);x.setSelection(P)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(m=>{if(m.rootName=="$graveyard")return null;const f=new dw(this.view.document,m.name);return f.rootName=m.rootName,this.mapper.bindElements(m,f),f})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new M("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Ea{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new wM(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const c of n)c!="style"&&c!="class"&&t.attributes.push(c);const i=e.getClassNames();for(const c of i)t.classes.push(c);const a=e.getStyleNames();for(const c of a)t.styles.push(c);return t}static createFrom(e,t){if(t||(t=new Ea),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Ea.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=Ea.createFrom(n,t);return t}}const Rc=["attributes","classes","styles"];class wM{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Rc)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Rc)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Rc)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Rc)t in e&&this._revert(t,e[t])}_add(e,t){const n=qe(t),i=this._consumables[e];for(const a of n){if(e==="attributes"&&(a==="class"||a==="style"))throw new M("viewconsumable-invalid-attribute",this);if(i.set(a,!0),e==="styles")for(const c of this.element.document.stylesProcessor.getRelatedStyles(a))i.set(c,!0)}}_test(e,t){const n=qe(t),i=this._consumables[e];for(const a of n)if(e!=="attributes"||a!=="class"&&a!=="style"){const c=i.get(a);if(c===void 0)return null;if(!c)return!1}else{const c=a=="class"?"classes":"styles",d=this._test(c,[...this._consumables[c].keys()]);if(d!==!0)return d}return!0}_consume(e,t){const n=qe(t),i=this._consumables[e];for(const a of n)if(e!=="attributes"||a!=="class"&&a!=="style"){if(i.set(a,!1),e=="styles")for(const c of this.element.document.stylesProcessor.getRelatedStyles(a))i.set(c,!1)}else{const c=a=="class"?"classes":"styles";this._consume(c,[...this._consumables[c].keys()])}}_revert(e,t){const n=qe(t),i=this._consumables[e];for(const a of n)if(e!=="attributes"||a!=="class"&&a!=="style")i.get(a)===!1&&i.set(a,!0);else{const c=a=="class"?"classes":"styles";this._revert(c,[...this._consumables[c].keys()])}}}class _M extends Le(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new ro(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new ro(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new M("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new M("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Q){const n=e.nodeBefore,i=e.nodeAfter;if(!(n instanceof Re))throw new M("schema-check-merge-no-element-before",this);if(!(i instanceof Re))throw new M("schema-check-merge-no-element-after",this);return this.checkMerge(n,i)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,i])=>{if(!i)return;const a=e(n,i);typeof a=="boolean"&&(t.stop(),t.return=a)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,i])=>{const a=e(n,i);typeof a=="boolean"&&(t.stop(),t.return=a)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof Q?t=e.parent:t=(e instanceof G?[e]:Array.from(e.getRanges())).reduce((n,i)=>{const a=i.getCommonAncestor();return n?n.getCommonAncestor(a,{includeSelf:!0}):a},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Ue("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const i of n)for(const a of i)if(this.checkAttribute(a.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(n){for(const i of n)yield*i.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new G(e);let n,i;const a=e.getAncestors().reverse().find(c=>this.isLimit(c))||e.root;t!="both"&&t!="backward"||(n=new Tr({boundaries:G._createIn(a),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(i=new Tr({boundaries:G._createIn(a),startPosition:e}));for(const c of function*(d,h){let m=!1;for(;!m;){if(m=!0,d){const f=d.next();f.done||(m=!1,yield{walker:d,value:f.value})}if(h){const f=h.next();f.done||(m=!1,yield{walker:h,value:f.value})}}}(n,i)){const d=c.walker==n?"elementEnd":"elementStart",h=c.value;if(h.type==d&&this.isObject(h.item))return G._createOn(h.item);if(this.checkChild(h.nextPosition,"$text"))return new G(h.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const i=n.model;for(const[a,c]of Object.entries(t))i.schema.checkAttribute(e,a)&&n.setAttribute(a,c,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))f_(this,n,t);else{const i=G._createIn(n).getPositions();for(const a of i)f_(this,a.nodeBefore||a.parent,t)}}getAttributesWithProperty(e,t,n){const i={};for(const[a,c]of e.getAttributes()){const d=this.getAttributeProperties(a);d[t]!==void 0&&(n!==void 0&&n!==d[t]||(i[a]=c))}return i}createContext(e){return new ro(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const i of n)e[i]=AM(t[i],i);for(const i of n)vM(e,i);for(const i of n)CM(e,i);for(const i of n)yM(e,i);for(const i of n)xM(e,i),EM(e,i);for(const i of n)DM(e,i),SM(e,i),TM(e,i);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const i=t.getItem(n);if(e.allowIn.includes(i.name)){if(n==0)return!0;{const a=this.getDefinition(i);return this._checkContextMatch(a,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,i=e.start;for(const a of e.getItems({shallow:!0}))a.is("element")&&(yield*this._getValidRangesForRange(G._createIn(a),t)),this.checkAttribute(a,t)||(n.isEqual(i)||(yield new G(n,i)),n=Q._createAfter(a)),i=Q._createAfter(a);n.isEqual(i)||(yield new G(n,i))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return t=="before"||t=="after"?new G(Q._createAt(n,t)):G._createOn(n);const i=_t(e.getSelectedBlocks());if(!i)return new G(e.focus);if(i.isEmpty)return new G(Q._createAt(i,0));const a=Q._createAfter(i);return e.focus.isTouching(a)?new G(a):new G(Q._createBefore(i))}}class ro{constructor(e){if(e instanceof ro)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(MM)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new ro([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function AM(r,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,i){for(const a of n){const c=Object.keys(a).filter(d=>d.startsWith("is"));for(const d of c)i[d]=!!a[d]}}(r,t),io(r,t,"allowIn"),io(r,t,"allowContentOf"),io(r,t,"allowWhere"),io(r,t,"allowAttributes"),io(r,t,"allowAttributesOf"),io(r,t,"allowChildren"),io(r,t,"inheritTypesFrom"),function(n,i){for(const a of n){const c=a.inheritAllFrom;c&&(i.allowContentOf.push(c),i.allowWhere.push(c),i.allowAttributesOf.push(c),i.inheritTypesFrom.push(c))}}(r,t),t}function vM(r,e){const t=r[e];for(const n of t.allowChildren){const i=r[n];i&&i.allowIn.push(e)}t.allowChildren.length=0}function CM(r,e){for(const t of r[e].allowContentOf)r[t]&&IM(r,t).forEach(n=>{n.allowIn.push(e)});delete r[e].allowContentOf}function yM(r,e){for(const t of r[e].allowWhere){const n=r[t];if(n){const i=n.allowIn;r[e].allowIn.push(...i)}}delete r[e].allowWhere}function xM(r,e){for(const t of r[e].allowAttributesOf){const n=r[t];if(n){const i=n.allowAttributes;r[e].allowAttributes.push(...i)}}delete r[e].allowAttributesOf}function EM(r,e){const t=r[e];for(const n of t.inheritTypesFrom){const i=r[n];if(i){const a=Object.keys(i).filter(c=>c.startsWith("is"));for(const c of a)c in t||(t[c]=i[c])}}delete t.inheritTypesFrom}function DM(r,e){const t=r[e],n=t.allowIn.filter(i=>r[i]);t.allowIn=Array.from(new Set(n))}function SM(r,e){const t=r[e];for(const n of t.allowIn)r[n].allowChildren.push(e)}function TM(r,e){const t=r[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function io(r,e,t){for(const n of r){const i=n[t];typeof i=="string"?e[t].push(i):Array.isArray(i)&&e[t].push(...i)}}function IM(r,e){const t=r[e];return(n=r,Object.keys(n).map(i=>n[i])).filter(i=>i.allowIn.includes(t.name));var n}function MM(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:r.is("element")?r.name:"$text",*getAttributeKeys(){yield*r.getAttributeKeys()},getAttribute:e=>r.getAttribute(e)}}function f_(r,e,t){for(const n of e.getAttributeKeys())r.checkAttribute(e,n)||t.removeAttribute(n,e)}var NM=Object.defineProperty,BM=Object.defineProperties,jM=Object.getOwnPropertyDescriptors,k_=Object.getOwnPropertySymbols,PM=Object.prototype.hasOwnProperty,OM=Object.prototype.propertyIsEnumerable,b_=(r,e,t)=>e in r?NM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class LM extends Z(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((n,i)=>{for(var a in i||(i={}))PM.call(i,a)&&b_(n,a,i[a]);if(k_)for(var a of k_(i))OM.call(i,a)&&b_(n,a,i[a]);return n})({},e),BM(t,jM({consumable:null,writer:null,store:null,convertItem:(n,i)=>this._convertItem(n,i),convertChildren:(n,i)=>this._convertChildren(n,i),safeInsert:(n,i)=>this._safeInsert(n,i),updateConversionResult:(n,i)=>this._updateConversionResult(n,i),splitToAllowedParent:(n,i)=>this._splitToAllowedParent(n,i),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)})))}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(c,d){let h;for(const m of new ro(c)){const f={};for(const v of m.getAttributeKeys())f[v]=m.getAttribute(v);const w=d.createElement(m.name,f);h&&d.insert(w,h),h=Q._createAt(w,0)}return h}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Ea.createFrom(e),this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor),a=t.createDocumentFragment();if(i){this._removeEmptyElements();for(const c of Array.from(this._modelCursor.parent.getChildren()))t.append(c,a);a.markers=function(c,d){const h=new Set,m=new Map,f=G._createIn(c).getItems();for(const w of f)w.is("element","$marker")&&h.add(w);for(const w of h){const v=w.getAttribute("data-name"),x=d.createPositionBefore(w);m.has(v)?m.get(v).end=x.clone():m.set(v,new G(x.clone())),d.remove(w)}return m}(a,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,a}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof G))throw new M("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:Q._createAt(t,0);const i=new G(n);for(const a of Array.from(e.getChildren())){const c=this._convertItem(a,n);c.modelRange instanceof G&&(i.end=c.modelRange.end,n=c.modelCursor)}return{modelRange:i,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),i=this.conversionApi.writer;t.modelRange||(t.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(n[n.length-1])));const a=this._cursorParents.get(e);t.modelCursor=a?i.createPositionAt(a,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:i}=this.conversionApi;let a=n.findAllowedParent(t,e);if(a){if(a===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(a)&&(a=null)}if(!a)return o_(t,e,n)?{position:s_(t,i)}:null;const c=this.conversionApi.writer.split(t,a),d=[];for(const m of c.range.getWalker())if(m.type=="elementEnd")d.push(m.item);else{const f=d.pop(),w=m.item;this._registerSplitPair(f,w)}const h=c.range.end.parent;return this._cursorParents.set(e,h),{position:c.position,cursorParent:h}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class RM{getHtml(e){const t=_.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class zM{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Mc(e,{renderingMode:"data"}),this.htmlWriter=new RM}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class FM extends Z(){constructor(e,t){super(),this.model=e,this.mapper=new Vw,this.downcastDispatcher=new qw({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(n,i,a)=>{if(!a.consumable.consume(i.item,n.name))return;const c=a.writer,d=a.mapper.toViewPosition(i.range.start),h=c.createText(i.item.data);c.insert(d,h)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,i,a)=>{a.convertAttributes(i.item),i.reconversion||!i.item.is("element")||i.item.isEmpty||a.convertChildren(i.item)},{priority:"lowest"}),this.upcastDispatcher=new LM({schema:e.schema}),this.viewDocument=new Sc(t),this.stylesProcessor=t,this.htmlProcessor=new zM(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new hw(this.viewDocument),this.upcastDispatcher.on("text",(n,i,{schema:a,consumable:c,writer:d})=>{let h=i.modelCursor;if(!c.test(i.viewItem))return;if(!a.checkChild(h,"$text")){if(!o_(h,"$text",a)||i.viewItem.data.trim().length==0)return;const f=h.nodeBefore;h=s_(h,d),f&&f.is("element","$marker")&&(d.move(d.createRangeOn(f),h),h=d.createPositionAfter(f))}c.consume(i.viewItem);const m=d.createText(i.viewItem.data);d.insert(m,h),i.modelRange=d.createRange(h,h.getShiftedBy(m.offsetSize)),i.modelCursor=i.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,i,a)=>{if(!i.modelRange&&a.consumable.consume(i.viewItem,{name:!0})){const{modelRange:c,modelCursor:d}=a.convertChildren(i.viewItem,i.modelCursor);i.modelRange=c,i.modelCursor=d}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,i,a)=>{if(!i.modelRange&&a.consumable.consume(i.viewItem,{name:!0})){const{modelRange:c,modelCursor:d}=a.convertChildren(i.viewItem,i.modelCursor);i.modelRange=c,i.modelCursor=d}},{priority:"lowest"}),Le().prototype.decorate.call(this,"init"),Le().prototype.decorate.call(this,"set"),Le().prototype.decorate.call(this,"get"),Le().prototype.decorate.call(this,"toView"),Le().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},i_)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new M("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(t);return i.isAttached()||$("datacontroller-get-detached-root",this),n!=="empty"||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const a=G._createIn(e),c=new eo(n);this.mapper.bindElements(e,c);const d=e.is("documentFragment")?e.markers:function(h){const m=[],f=h.root.document;if(!f)return new Map;const w=G._createIn(h);for(const v of f.model.markers){const x=v.getRange(),S=x.isCollapsed,I=x.start.isEqual(w.start)||x.end.isEqual(w.end);if(S&&I)m.push([v.name,x]);else{const P=w.getIntersection(x);P&&m.push([v.name,P])}}return m.sort(([v,x],[S,I])=>{if(x.end.compareWith(I.start)!=="after")return 1;if(x.start.compareWith(I.end)!=="before")return-1;switch(x.start.compareWith(I.start)){case"before":return 1;case"after":return-1;default:switch(x.end.compareWith(I.end)){case"before":return 1;case"after":return-1;default:return S.localeCompare(v)}}}),new Map(m)}(e);return this.downcastDispatcher.convert(a,d,i,t),c}init(e){if(this.model.document.version)throw new M("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new M("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const i of Object.keys(t)){const a=this.model.document.getRoot(i);n.insert(this.parse(t[i],a),a,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new M("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},i=>{i.setSelection(null),i.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const a of Object.keys(n)){const c=this.model.document.getRoot(a);i.remove(i.createRangeIn(c)),i.insert(this.parse(n[a],c),c,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class VM{constructor(e,t){this._helpers=new Map,this._downcast=qe(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=qe(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new M("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new M("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of xp(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of xp(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of xp(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new M("conversion-group-exists",this);const i=n?new oM(t):new fM(t);this._helpers.set(e,i)}}function*xp(r){if(r.model.values)for(const e of r.model.values){const t={key:r.model.key,value:e},n=r.view[e],i=r.upcastAlso?r.upcastAlso[e]:void 0;yield*w_(t,n,i)}else yield*w_(r.model,r.view,r.upcastAlso)}function*w_(r,e,t){if(yield{model:r,view:e},t)for(const n of qe(t))yield{model:r,view:n}}class kn{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Ep(r,e){const t=A_(e),n=t.reduce((c,d)=>c+d.offsetSize,0),i=r.parent;Ta(r);const a=r.index;return i._insertChild(a,t),Sa(i,a+t.length),Sa(i,a),new G(r,r.getShiftedBy(n))}function __(r){if(!r.isFlat)throw new M("operation-utils-remove-range-not-flat",this);const e=r.start.parent;Ta(r.start),Ta(r.end);const t=e._removeChildren(r.start.index,r.end.index-r.start.index);return Sa(e,r.start.index),t}function Da(r,e){if(!r.isFlat)throw new M("operation-utils-move-range-not-flat",this);const t=__(r);return Ep(e=e._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),t)}function A_(r){const e=[];(function t(n){if(typeof n=="string")e.push(new Ue(n));else if(n instanceof Yn)e.push(new Ue(n.data,n.getAttributes()));else if(n instanceof to)e.push(n);else if(Gt(n))for(const i of n)t(i)})(r);for(let t=1;t<e.length;t++){const n=e[t],i=e[t-1];n instanceof Ue&&i instanceof Ue&&v_(n,i)&&(e.splice(t-1,2,new Ue(i.data+n.data,i.getAttributes())),t--)}return e}function Sa(r,e){const t=r.getChild(e-1),n=r.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&v_(t,n)){const i=new Ue(t.data+n.data,t.getAttributes());r._removeChildren(e-1,2),r._insertChild(e-1,i)}}function Ta(r){const e=r.textNode,t=r.parent;if(e){const n=r.offset-e.startOffset,i=e.index;t._removeChildren(i,1);const a=new Ue(e.data.substr(0,n),e.getAttributes()),c=new Ue(e.data.substr(n),e.getAttributes());t._insertChild(i,[a,c])}}function v_(r,e){const t=r.getAttributes(),n=e.getAttributes();for(const i of t){if(i[1]!==e.getAttribute(i[0]))return!1;n.next()}return n.next().done}class Me extends kn{constructor(e,t,n,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[G._createFromPositionAndShift(this.sourcePosition,this.howMany),G._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Me(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Me(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new M("move-operation-nodes-do-not-exist",this);if(e===t&&n<i&&i<n+this.howMany)throw new M("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Nt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const a=this.sourcePosition.path.length-1;if(this.targetPosition.path[a]>=n&&this.targetPosition.path[a]<n+this.howMany)throw new M("move-operation-node-into-itself",this)}}_execute(){Da(G._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=Q.fromJSON(e.sourcePosition,t),i=Q.fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}}class vt extends kn{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new va(A_(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new va([...this.nodes].map(n=>n._clone(!0))),t=new vt(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Q(e,[0]);return new Me(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new M("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new va([...e].map(t=>t._clone(!0))),Ep(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const a of e.nodes)a.name?n.push(Re.fromJSON(a)):n.push(Ue.fromJSON(a));const i=new vt(Q.fromJSON(e.position,t),n,e.baseVersion);return i.shouldReceiveAttributes=e.shouldReceiveAttributes,i}}class He extends kn{constructor(e,t,n,i,a){super(a),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Q(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.splitPosition,e)}get affectedSelectable(){const e=[G._createFromPositionAndShift(this.splitPosition,0),G._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(G._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new He(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Q(e,[0]);return new it(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new M("split-operation-position-invalid",this);if(!e.parent)throw new M("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new M("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Da(G._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Ep(this.insertionPosition,t)}Da(new G(Q._createAt(e,this.splitPosition.offset),Q._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Q(e.root,t,"toPrevious")}static fromJSON(e,t){const n=Q.fromJSON(e.splitPosition,t),i=Q.fromJSON(e.insertionPosition,t),a=e.graveyardPosition?Q.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,i,a,e.baseVersion)}}class it extends kn{constructor(e,t,n,i,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new Q(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[G._createOn(e),G._createFromPositionAndShift(this.targetPosition,0),G._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new it(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new Q(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new He(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new M("merge-operation-source-position-invalid",this);if(!t.parent)throw new M("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new M("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Da(G._createIn(e),this.targetPosition),Da(G._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=Q.fromJSON(e.sourcePosition,t),i=Q.fromJSON(e.targetPosition,t),a=Q.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,a,e.baseVersion)}}class Xt extends kn{constructor(e,t,n,i,a,c){super(c),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=a,this._markers=i}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Xt(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Xt(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Xt(e.name,e.oldRange?G.fromJSON(e.oldRange,t):null,e.newRange?G.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const C_=function(r,e){return jc(r,e)};class ct extends kn{constructor(e,t,n,i,a){super(a),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new ct(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ct(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new M("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!C_(e.getAttribute(this.key),this.oldValue))throw new M("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new M("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){C_(this.oldValue,this.newValue)||function(e,t,n){Ta(e.start),Ta(e.end);for(const i of e.getItems({shallow:!0})){const a=i.is("$textProxy")?i.textNode:i;n!==null?a._setAttribute(t,n):a._removeAttribute(t),Sa(a.parent,a.index)}Sa(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new ct(G.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class mt extends kn{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new mt(this.baseVersion)}getReversed(){return new mt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class en extends kn{constructor(e,t,n,i){super(i),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new en(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new en(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Re))throw new M("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new M("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new en(Q.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Ir extends kn{constructor(e,t,n,i,a){super(a),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Ir(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ir(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new M("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new M("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new M("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Ir(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class kr extends kn{constructor(e,t,n,i,a){super(a),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=i,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new kr(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new kr(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new kr(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const In={};In[ct.className]=ct,In[vt.className]=vt,In[Xt.className]=Xt,In[Me.className]=Me,In[mt.className]=mt,In[kn.className]=kn,In[en.className]=en,In[Ir.className]=Ir,In[kr.className]=kr,In[He.className]=He,In[it.className]=it;class UM{static fromJSON(e,t){return In[e.__className].fromJSON(e,t)}}const Dp=new Map;function Ie(r,e,t){let n=Dp.get(r);n||(n=new Map,Dp.set(r,n)),n.set(e,t)}function HM(r){return[r]}function y_(r,e,t={}){const n=function(i,a){const c=Dp.get(i);return c&&c.has(a)?c.get(a):HM}(r.constructor,e.constructor);try{return n(r=r.clone(),e,t)}catch(i){throw i}}function $M(r,e,t){r=r.slice(),e=e.slice();const n=new qM(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(r),n.setOriginalOperations(e);const i=n.originalOperations;if(r.length==0||e.length==0)return{operationsA:r,operationsB:e,originalOperations:i};const a=new WeakMap;for(const h of r)a.set(h,0);const c={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:e.length};let d=0;for(;d<r.length;){const h=r[d],m=a.get(h);if(m==e.length){d++;continue}const f=e[m],w=y_(h,f,n.getContext(h,f,!0)),v=y_(f,h,n.getContext(f,h,!1));n.updateRelation(h,f),n.setOriginalOperations(w,h),n.setOriginalOperations(v,f);for(const x of w)a.set(x,m+v.length);r.splice(d,1,...w),e.splice(m,1,...v)}return x_(r,c.nextBaseVersionB),x_(e,c.nextBaseVersionA),{operationsA:r,operationsB:e,originalOperations:i}}class qM{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const i of e)this.originalOperations.set(i,n||i)}updateRelation(e,t){if(e instanceof Me)t instanceof it?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Me&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof He){if(t instanceof it)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Me)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=G._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const i=n.end.offset-e.splitPosition.offset,a=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:i,offset:a})}}}else if(e instanceof it)t instanceof it?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof He?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Me&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Xt){const n=e.newRange;if(!n)return;if(t instanceof Me){const i=G._createFromPositionAndShift(t.sourcePosition,t.howMany),a=i.containsPosition(n.start)||i.start.isEqual(n.start),c=i.containsPosition(n.end)||i.end.isEqual(n.end);!a&&!c||i.containsRange(n)||this._setRelation(e,t,{side:a?"left":"right",path:a?n.start.path.slice():n.end.path.slice()})}else if(t instanceof it){const i=n.start.isEqual(t.targetPosition),a=n.start.isEqual(t.deletionPosition),c=n.end.isEqual(t.deletionPosition),d=n.end.isEqual(t.sourcePosition);(i||a||c||d)&&this._setRelation(e,t,{wasInLeftElement:i,wasStartBeforeMergedElement:a,wasEndBeforeMergedElement:c,wasInRightElement:d})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),i=this._history.getUndoneOperation(n);if(!i)return null;const a=this.originalOperations.get(e),c=this._relations.get(a);return c&&c.get(i)||null}_setRelation(e,t,n){const i=this.originalOperations.get(e),a=this.originalOperations.get(t);let c=this._relations.get(i);c||(c=new Map,this._relations.set(i,c)),c.set(a,n)}}function x_(r,e){for(const t of r)t.baseVersion=e++}function E_(r,e,t){const n=r.nodes.getNode(0).getAttribute(e);if(n==t)return null;const i=new G(r.position,r.position.getShiftedBy(r.howMany));return new ct(i,e,n,t,0)}function D_(r,e){return r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function es(r,e){const t=[];for(let n=0;n<r.length;n++){const i=r[n],a=new Me(i.start,i.end.offset-i.start.offset,e,0);t.push(a);for(let c=n+1;c<r.length;c++)r[c]=r[c]._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)[0];e=e._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)}return t}Ie(ct,ct,(r,e,t)=>{if(r.key===e.key&&r.range.start.hasSameParentAs(e.range.start)){const n=r.range.getDifference(e.range).map(a=>new ct(a,r.key,r.oldValue,r.newValue,0)),i=r.range.getIntersection(e.range);return i&&t.aIsStrong&&n.push(new ct(i,e.key,e.newValue,r.newValue,0)),n.length==0?[new mt(0)]:n}return[r]}),Ie(ct,vt,(r,e)=>{if(r.range.start.hasSameParentAs(e.position)&&r.range.containsPosition(e.position)){const t=r.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(n=>new ct(n,r.key,r.oldValue,r.newValue,r.baseVersion));if(e.shouldReceiveAttributes){const n=E_(e,r.key,r.oldValue);n&&t.unshift(n)}return t}return r.range=r.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[r]}),Ie(ct,it,(r,e)=>{const t=[];r.range.start.hasSameParentAs(e.deletionPosition)&&(r.range.containsPosition(e.deletionPosition)||r.range.start.isEqual(e.deletionPosition))&&t.push(G._createFromPositionAndShift(e.graveyardPosition,1));const n=r.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(i=>new ct(i,r.key,r.oldValue,r.newValue,r.baseVersion))}),Ie(ct,Me,(r,e)=>function(n,i){const a=G._createFromPositionAndShift(i.sourcePosition,i.howMany);let c=null,d=[];a.containsRange(n,!0)?c=n:n.start.hasSameParentAs(a.start)?(d=n.getDifference(a),c=n.getIntersection(a)):d=[n];const h=[];for(let m of d){m=m._getTransformedByDeletion(i.sourcePosition,i.howMany);const f=i.getMovedRangeStart(),w=m.start.hasSameParentAs(f),v=m._getTransformedByInsertion(f,i.howMany,w);h.push(...v)}return c&&h.push(c._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!1)[0]),h}(r.range,e).map(n=>new ct(n,r.key,r.oldValue,r.newValue,r.baseVersion))),Ie(ct,He,(r,e)=>{if(r.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(e.splitPosition)&&r.range.containsPosition(e.splitPosition)){const t=r.clone();return t.range=new G(e.moveTargetPosition.clone(),r.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),r.range.end=e.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,t]}return r.range=r.range._getTransformedBySplitOperation(e),[r]}),Ie(vt,ct,(r,e)=>{const t=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(r.position)){const n=E_(r,e.key,e.newValue);n&&t.push(n)}return t}),Ie(vt,vt,(r,e,t)=>(r.position.isEqual(e.position)&&t.aIsStrong||(r.position=r.position._getTransformedByInsertOperation(e)),[r])),Ie(vt,Me,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),Ie(vt,He,(r,e)=>(r.position=r.position._getTransformedBySplitOperation(e),[r])),Ie(vt,it,(r,e)=>(r.position=r.position._getTransformedByMergeOperation(e),[r])),Ie(Xt,vt,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(e)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(e)[0]),[r])),Ie(Xt,Xt,(r,e,t)=>{if(r.name==e.name){if(!t.aIsStrong)return[new mt(0)];r.oldRange=e.newRange?e.newRange.clone():null}return[r]}),Ie(Xt,it,(r,e)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(e)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(e)),[r])),Ie(Xt,Me,(r,e,t)=>{if(r.oldRange&&(r.oldRange=G._createFromRanges(r.oldRange._getTransformedByMoveOperation(e))),r.newRange){if(t.abRelation){const n=G._createFromRanges(r.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(r.newRange.start))return r.newRange.end=n.end,r.newRange.start.path=t.abRelation.path,[r];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(r.newRange.end))return r.newRange.start=n.start,r.newRange.end.path=t.abRelation.path,[r]}r.newRange=G._createFromRanges(r.newRange._getTransformedByMoveOperation(e))}return[r]}),Ie(Xt,He,(r,e,t)=>{if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(e)),r.newRange){if(t.abRelation){const n=r.newRange._getTransformedBySplitOperation(e);return r.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?r.newRange.start=Q._createAt(e.insertionPosition):r.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(r.newRange.start=Q._createAt(e.moveTargetPosition)),r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?r.newRange.end=Q._createAt(e.moveTargetPosition):r.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?r.newRange.end=Q._createAt(e.insertionPosition):r.newRange.end=n.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(e)}return[r]}),Ie(it,vt,(r,e)=>(r.sourcePosition.hasSameParentAs(e.position)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(e),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e),[r])),Ie(it,it,(r,e,t)=>{if(r.sourcePosition.isEqual(e.sourcePosition)&&r.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),r.sourcePosition=new Q(e.graveyardPosition.root,n),r.howMany=0,[r]}return[new mt(0)]}if(r.sourcePosition.isEqual(e.sourcePosition)&&!r.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=r.targetPosition.root.rootName=="$graveyard",i=e.targetPosition.root.rootName=="$graveyard";if(i&&!n||!(n&&!i)&&t.aIsStrong){const a=e.targetPosition._getTransformedByMergeOperation(e),c=r.targetPosition._getTransformedByMergeOperation(e);return[new Me(a,r.howMany,c,0)]}return[new mt(0)]}return r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(e),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),r.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),Ie(it,Me,(r,e,t)=>{const n=G._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&r.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.sourcePosition)?[new mt(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(r.sourcePosition)?r.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(r.sourcePosition)&&t.abRelation=="mergeSourceAffected"?r.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(r.targetPosition)?(r.targetPosition.stickiness="toNone",r.howMany-=e.howMany):e.targetPosition.isEqual(r.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(r.targetPosition.stickiness="toPrevious",r.howMany+=e.howMany):(r.sourcePosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.sourcePosition.hasSameParentAs(e.sourcePosition)&&(r.howMany-=e.howMany)),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(e),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(e),r.sourcePosition.stickiness="toPrevious",r.targetPosition.stickiness="toNext",r.graveyardPosition.isEqual(e.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)),[r])}),Ie(it,He,(r,e,t)=>{if(e.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),r.deletionPosition.isEqual(e.graveyardPosition)&&(r.howMany=e.howMany)),r.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,i=e.graveyardPosition&&r.deletionPosition.isEqual(e.graveyardPosition);if(n||i||t.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),[r]}if(r.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r];if(t.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=e.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}return r.sourcePosition.hasSameParentAs(e.splitPosition)&&(r.howMany=e.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(e),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(e),[r]}),Ie(Me,vt,(r,e)=>{const t=G._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(e,!1)[0];return r.sourcePosition=t.start,r.howMany=t.end.offset-t.start.offset,r.targetPosition.isEqual(e.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(e)),[r]}),Ie(Me,Me,(r,e,t)=>{const n=G._createFromPositionAndShift(r.sourcePosition,r.howMany),i=G._createFromPositionAndShift(e.sourcePosition,e.howMany);let a,c=t.aIsStrong,d=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?d=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(d=!1),a=r.targetPosition.isEqual(e.targetPosition)&&d?r.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):r.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),D_(r,e)&&D_(e,r))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(i,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),es([n],a);if(i.containsPosition(r.targetPosition)&&i.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),es([n],a);const h=Nt(r.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(h=="prefix"||h=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),es([n],a);r.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?r.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(c=!1):c=!0;const m=[],f=n.getDifference(i);for(const v of f){v.start=v.start._getTransformedByDeletion(e.sourcePosition,e.howMany),v.end=v.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const x=Nt(v.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",S=v._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,x);m.push(...S)}const w=n.getIntersection(i);return w!==null&&c&&(w.start=w.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),w.end=w.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),m.length===0?m.push(w):m.length==1?i.start.isBefore(n.start)||i.start.isEqual(n.start)?m.unshift(w):m.push(w):m.splice(1,0,w)),m.length===0?[new mt(r.baseVersion)]:es(m,a)}),Ie(Me,He,(r,e,t)=>{let n=r.targetPosition.clone();r.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(n=r.targetPosition._getTransformedBySplitOperation(e));const i=G._createFromPositionAndShift(r.sourcePosition,r.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||r.howMany++,r.targetPosition=n,[r];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){let c=new G(e.splitPosition,i.end);return c=c._getTransformedBySplitOperation(e),es([new G(i.start,e.splitPosition),c],n)}r.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),r.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=r.targetPosition);const a=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const c=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);r.howMany>1&&c&&!t.aWasUndone&&a.push(G._createFromPositionAndShift(e.insertionPosition,1))}return es(a,n)}),Ie(Me,it,(r,e,t)=>{const n=G._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.deletionPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(r.type!="remove"||t.forceWeakRemove){if(r.howMany==1)return t.bWasUndone?(r.sourcePosition=e.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]):[new mt(0)]}else if(!t.aWasUndone){const a=[];let c=e.graveyardPosition.clone(),d=e.targetPosition._getTransformedByMergeOperation(e);r.howMany>1&&(a.push(new Me(r.sourcePosition,r.howMany-1,r.targetPosition,0)),c=c._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),d=d._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));const h=e.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),m=new Me(c,1,h,0),f=m.getMovedRangeStart().path.slice();f.push(0);const w=new Q(m.targetPosition.root,f);d=d._getTransformedByMove(c,h,1);const v=new Me(d,e.howMany,w,0);return a.push(m),a.push(v),a}}const i=G._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(e);return r.sourcePosition=i.start,r.howMany=i.end.offset-i.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(e),[r]}),Ie(en,vt,(r,e)=>(r.position=r.position._getTransformedByInsertOperation(e),[r])),Ie(en,it,(r,e)=>r.position.isEqual(e.deletionPosition)?(r.position=e.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(e),[r])),Ie(en,Me,(r,e)=>(r.position=r.position._getTransformedByMoveOperation(e),[r])),Ie(en,en,(r,e,t)=>{if(r.position.isEqual(e.position)){if(!t.aIsStrong)return[new mt(0)];r.oldName=e.newName}return[r]}),Ie(en,He,(r,e)=>{if(Nt(r.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new en(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,t]}return r.position=r.position._getTransformedBySplitOperation(e),[r]}),Ie(Ir,Ir,(r,e,t)=>{if(r.root===e.root&&r.key===e.key){if(!t.aIsStrong||r.newValue===e.newValue)return[new mt(0)];r.oldValue=e.newValue}return[r]}),Ie(kr,kr,(r,e)=>r.rootName===e.rootName&&r.isAdd===e.isAdd?[new mt(0)]:[r]),Ie(He,vt,(r,e)=>(r.splitPosition.hasSameParentAs(e.position)&&r.splitPosition.offset<e.position.offset&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(e),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(e),[r])),Ie(He,it,(r,e,t)=>{if(!r.graveyardPosition&&!t.bWasUndone&&r.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new Q(e.graveyardPosition.root,n),a=He.getInsertionPosition(new Q(e.graveyardPosition.root,n)),c=new He(i,0,a,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=He.getInsertionPosition(r.splitPosition),r.graveyardPosition=c.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[c,r]}return r.splitPosition.hasSameParentAs(e.deletionPosition)&&!r.splitPosition.isAfter(e.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(e.targetPosition)&&(r.howMany+=e.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(e),r.insertionPosition=He.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(e)),[r]}),Ie(He,Me,(r,e,t)=>{const n=G._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.graveyardPosition){const a=n.start.isEqual(r.graveyardPosition)||n.containsPosition(r.graveyardPosition);if(!t.bWasUndone&&a){const c=r.splitPosition._getTransformedByMoveOperation(e),d=r.graveyardPosition._getTransformedByMoveOperation(e),h=d.path.slice();h.push(0);const m=new Q(d.root,h);return[new Me(c,r.howMany,m,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(e)}const i=r.splitPosition.isEqual(e.targetPosition);if(i&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return r.howMany+=e.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),r.insertionPosition=He.getInsertionPosition(r.splitPosition),[r];if(i&&t.abRelation&&t.abRelation.howMany){const{howMany:a,offset:c}=t.abRelation;return r.howMany+=a,r.splitPosition=r.splitPosition.getShiftedBy(c),[r]}if(r.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(r.splitPosition)){const a=e.howMany-(r.splitPosition.offset-e.sourcePosition.offset);return r.howMany-=a,r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany),r.splitPosition=e.sourcePosition.clone(),r.insertionPosition=He.getInsertionPosition(r.splitPosition),[r]}return e.sourcePosition.isEqual(e.targetPosition)||(r.splitPosition.hasSameParentAs(e.sourcePosition)&&r.splitPosition.offset<=e.sourcePosition.offset&&(r.howMany-=e.howMany),r.splitPosition.hasSameParentAs(e.targetPosition)&&r.splitPosition.offset<e.targetPosition.offset&&(r.howMany+=e.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(e),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(e):r.insertionPosition=He.getInsertionPosition(r.splitPosition),[r]}),Ie(He,He,(r,e,t)=>{if(r.splitPosition.isEqual(e.splitPosition)){if(!r.graveyardPosition&&!e.graveyardPosition)return[new mt(0)];if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition))return[new mt(0)];if(t.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e),[r]}if(r.graveyardPosition&&e.graveyardPosition&&r.graveyardPosition.isEqual(e.graveyardPosition)){const n=r.splitPosition.root.rootName=="$graveyard",i=e.splitPosition.root.rootName=="$graveyard";if(i&&!n||!(n&&!i)&&t.aIsStrong){const a=[];return e.howMany&&a.push(new Me(e.moveTargetPosition,e.howMany,e.splitPosition,0)),r.howMany&&a.push(new Me(r.splitPosition,r.howMany,r.moveTargetPosition,0)),a}return[new mt(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(e)),r.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return r.howMany++,[r];if(e.splitPosition.isEqual(r.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const i=new Q(e.insertionPosition.root,n);return[r,new Me(r.insertionPosition,1,i,0)]}return r.splitPosition.hasSameParentAs(e.splitPosition)&&r.splitPosition.offset<e.splitPosition.offset&&(r.howMany-=e.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(e),r.insertionPosition=He.getInsertionPosition(r.splitPosition),[r]});class Et extends Z(Q){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new M("model-liveposition-root-not-rootelement",e);WM.call(this)}detach(){this.stopListening()}toPosition(){return new Q(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function WM(){this.listenTo(this.root.document.model,"applyOperation",(r,e)=>{const t=e[0];t.isDocumentOperation&&GM.call(this,t)},{priority:"low"})}function GM(r){const e=this.getTransformedByOperation(r);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Et.prototype.is=function(r){return r==="livePosition"||r==="model:livePosition"||r=="position"||r==="model:position"};class ts{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},$("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:i=!1,isTyping:a=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=i,this.isTyping=a}get type(){return $("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var KM=Object.defineProperty,YM=Object.defineProperties,QM=Object.getOwnPropertyDescriptors,S_=Object.getOwnPropertySymbols,JM=Object.prototype.hasOwnProperty,ZM=Object.prototype.propertyIsEnumerable,T_=(r,e,t)=>e in r?KM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,I_=(r,e)=>{for(var t in e||(e={}))JM.call(e,t)&&T_(r,t,e[t]);if(S_)for(var t of S_(e))ZM.call(e,t)&&T_(r,t,e[t]);return r};class XM{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),i=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),i||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=G._createFromPositionAndShift(t.position,1);for(const i of this._markerCollection.getMarkersIntersectingRange(n)){const a=i.getData();this.bufferMarkerChange(i.name,a,a)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const i=t.graveyardPosition.parent;this._markInsert(i,t.graveyardPosition.offset,1);const a=t.targetPosition.parent;this._isInInsertedElement(a)||this._markInsert(a,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let i=this._changedMarkers.get(e);i?i.newMarkerData=n:(i={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,i)),i.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,i=!e.range&&t.range,a=e.range&&t.range&&!e.range.isEqual(t.range);if(n||i||a)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const i=this._changesInElement.get(n).sort((f,w)=>f.offset===w.offset?f.type!=w.type?f.type=="remove"?-1:1:0:f.offset<w.offset?-1:1),a=this._elementSnapshots.get(n),c=M_(n.getChildren()),d=eN(a.length,i);let h=0,m=0;for(const f of d)if(f==="i")t.push(this._getInsertDiff(n,h,c[h])),h++;else if(f==="r")t.push(this._getRemoveDiff(n,h,a[m])),m++;else if(f==="a"){const w=c[h].attributes,v=a[m].attributes;let x;if(c[h].name=="$text")x=new G(Q._createAt(n,h),Q._createAt(n,h+1));else{const S=n.offsetToIndex(h);x=new G(Q._createAt(n,h),Q._createAt(n.getChild(S),0))}t.push(...this._getAttributesDiff(x,v,w)),h++,m++}else h++,m++}t.sort((n,i)=>n.position.root!=i.position.root?n.position.root.rootName<i.position.root.rootName?-1:1:n.position.isEqual(i.position)?n.changeCount-i.changeCount:n.position.isBefore(i.position)?-1:1);for(let n=1,i=0;n<t.length;n++){const a=t[i],c=t[n],d=a.type=="remove"&&c.type=="remove"&&a.name=="$text"&&c.name=="$text"&&a.position.isEqual(c.position),h=a.type=="insert"&&c.type=="insert"&&a.name=="$text"&&c.name=="$text"&&a.position.parent==c.position.parent&&a.position.offset+a.length==c.position.offset,m=a.type=="attribute"&&c.type=="attribute"&&a.position.parent==c.position.parent&&a.range.isFlat&&c.range.isFlat&&a.position.offset+a.length==c.position.offset&&a.attributeKey==c.attributeKey&&a.attributeOldValue==c.attributeOldValue&&a.attributeNewValue==c.attributeNewValue;d||h||m?(a.length++,m&&(a.range.end=a.range.end.getShiftedBy(1)),t[n]=null):i=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(tN),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=I_({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,i){const a=this._changedRoots.get(e)||{name:e},c=a.attributes||{};if(c[t]){const d=c[t];i===d.oldValue?delete c[t]:d.newValue=i}else c[t]={oldValue:n,newValue:i};Object.entries(c).length===0?(delete a.attributes,a.state===void 0&&this._changedRoots.delete(e)):(a.attributes=c,this._changedRoots.set(e,a))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=G._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const i=n.getData();this.bufferMarkerChange(n.name,i,i)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const i=n.getData();this.bufferMarkerChange(n.name,(t=I_({},i),YM(t,QM({range:null}))),i)}var t}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,M_(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const i=e.offset+e.howMany,a=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<a&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<a){const c=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:i,howMany:c-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(i<=n.offset)n.offset-=e.howMany;else if(i<=a)if(e.offset<n.offset){const c=i-n.offset;n.offset=e.offset,n.howMany-=c,e.nodesToHandle-=c}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<a){const c=a-e.offset;n.howMany-=c,e.nodesToHandle-=c}}if(n.type=="remove"&&(i<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(i<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const c=i-n.offset;n.offset=e.offset,n.howMany-=c}else if(e.offset<a)if(i<=a){const c=n.howMany;n.howMany=e.offset-n.offset;const d=c-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:d,count:this._changeCount++})}else n.howMany-=a-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&i>n.offset){if(i>a){const c={type:"attribute",offset:a,howMany:i-a,count:this._changeCount++};this._handleChange(c,t),t.push(c)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<a&&(i>a?(e.nodesToHandle=i-a,e.offset=a):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&i>n.offset){const c={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(c,t),t.push(c),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&i<=a?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&i>=a&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:Q._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:Q._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const i=[];n=new Map(n);for(const[a,c]of t){const d=n.has(a)?n.get(a):null;d!==c&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:c,attributeNewValue:d,changeCount:this._changeCount++}),n.delete(a)}for(const[a,c]of n)i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:null,attributeNewValue:c,changeCount:this._changeCount++});return i}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),i=e.startOffset;if(n){for(const a of n)if(a.type=="insert"&&i>=a.offset&&i<a.offset+a.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const i=new G(Q._createAt(e,t),Q._createAt(e,t+n));for(const a of i.getItems({shallow:!0}))a.is("element")&&(this._elementSnapshots.delete(a),this._changesInElement.delete(a),this._removeAllNestedChanges(a,0,a.maxOffset))}}function M_(r){const e=[];for(const t of r)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function eN(r,e){const t=[];let n=0,i=0;for(const a of e){if(a.offset>n){for(let c=0;c<a.offset-n;c++)t.push("e");i+=a.offset-n}if(a.type=="insert"){for(let c=0;c<a.howMany;c++)t.push("i");n=a.offset+a.howMany}else if(a.type=="remove"){for(let c=0;c<a.howMany;c++)t.push("r");n=a.offset,i+=a.howMany}else t.push(..."a".repeat(a.howMany).split("")),n=a.offset+a.howMany,i+=a.howMany}if(i<r)for(let a=0;a<r-i-n;a++)t.push("e");return t}function tN(r){const e="position"in r&&r.position.root.rootName=="$graveyard",t="range"in r&&r.range.root.rootName=="$graveyard";return!e&&!t}class nN{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new M("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let i=t-1;for(const[d,h]of this._gaps)e>d&&e<h&&(e=h),i>d&&i<h&&(i=d-1);if(i<n.baseVersion||e>this.lastOperation.baseVersion)return[];let a=this._baseVersionToOperationIndex.get(e);a===void 0&&(a=0);let c=this._baseVersionToOperationIndex.get(i);return c===void 0&&(c=this._operations.length-1),this._operations.slice(a,c+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class zc extends Re{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}zc.prototype.is=function(r,e){return e?e===this.name&&(r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"):r==="rootElement"||r==="model:rootElement"||r==="element"||r==="model:element"||r==="node"||r==="model:node"};var rN=Object.defineProperty,iN=Object.defineProperties,oN=Object.getOwnPropertyDescriptors,N_=Object.getOwnPropertySymbols,sN=Object.prototype.hasOwnProperty,aN=Object.prototype.propertyIsEnumerable,B_=(r,e,t)=>e in r?rN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,j_=(r,e)=>{for(var t in e||(e={}))sN.call(e,t)&&B_(r,t,e[t]);if(N_)for(var t of N_(e))aN.call(e,t)&&B_(r,t,e[t]);return r},P_=(r,e)=>iN(r,oN(e));const O_="$graveyard";class lN extends Z(){constructor(e){super(),this.model=e,this.history=new nN,this.selection=new Qn(this),this.roots=new $n({idProperty:"rootName"}),this.differ=new XM(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",O_),this.listenTo(e,"applyOperation",(t,n)=>{const i=n[0];i.isDocumentOperation&&this.differ.bufferOperation(i)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const i=n[0];i.isDocumentOperation&&this.history.addOperation(i)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,i,a,c)=>{const d=P_(j_({},n.getData()),{range:a});this.differ.bufferMarkerChange(n.name,c,d),i===null&&n.on("change",(h,m)=>{const f=n.getData();this.differ.bufferMarkerChange(n.name,P_(j_({},f),{range:m}),f)})}),this.registerPostFixer(t=>{let n=!1;for(const i of this.roots)i.isAttached()||i.isEmpty||(t.remove(t.createRangeIn(i)),n=!0);for(const i of this.model.markers)i.getRange().root.isAttached()||(t.removeMarker(i),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(O_)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new M("model-document-createroot-name-exists",this,{name:t});const n=new zc(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=rw(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,i=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(i)||t.createRange(i)}_validateSelectionRange(e){return L_(e.start)&&L_(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function L_(r){const e=r.textNode;if(e){const t=e.data,n=r.offset-e.startOffset;return!Gh(t,n)&&!Kh(t,n)}return!0}var cN=Object.defineProperty,dN=Object.defineProperties,uN=Object.getOwnPropertyDescriptors,R_=Object.getOwnPropertySymbols,hN=Object.prototype.hasOwnProperty,pN=Object.prototype.propertyIsEnumerable,z_=(r,e,t)=>e in r?cN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class mN extends Z(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof ns?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,i=!1){const a=e instanceof ns?e.name:e;if(a.includes(","))throw new M("markercollection-incorrect-marker-name",this);const c=this._markers.get(a);if(c){const f=c.getData(),w=c.getRange();let v=!1;return w.isEqual(t)||(c._attachLiveRange(fn.fromRange(t)),v=!0),n!=c.managedUsingOperations&&(c._managedUsingOperations=n,v=!0),typeof i=="boolean"&&i!=c.affectsData&&(c._affectsData=i,v=!0),v&&this.fire(`update:${a}`,c,w,t,f),c}const d=fn.fromRange(t),h=new ns(a,d,n,i);var m;return this._markers.set(a,h),this.fire(`update:${a}`,h,null,t,(m=((f,w)=>{for(var v in w||(w={}))hN.call(w,v)&&z_(f,v,w[v]);if(R_)for(var v of R_(w))pN.call(w,v)&&z_(f,v,w[v]);return f})({},h.getData()),dN(m,uN({range:null})))),h}_remove(e){const t=e instanceof ns?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof ns?e.name:e,n=this._markers.get(t);if(!n)throw new M("markercollection-refresh-marker-not-exists",this);const i=n.getRange();this.fire(`update:${t}`,n,i,i,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class ns extends Z(li){constructor(e,t,n,i){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ns.prototype.is=function(r){return r==="marker"||r==="model:marker"};class gN extends kn{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new M("detach-operation-on-document-node",this)}_execute(){__(G._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Mr extends li{constructor(e){super(),this.markers=new Map,this._children=new va,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Re.fromJSON(n)):t.push(Ue.fromJSON(n));return new Mr(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(i){return typeof i=="string"?[new Ue(i)]:(Gt(i)||(i=[i]),Array.from(i).map(a=>typeof a=="string"?new Ue(a):a instanceof Yn?new Ue(a.data,a.getAttributes()):a))}(t);for(const i of n)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const i of n)i.parent=null;return n}}Mr.prototype.is=function(r){return r==="documentFragment"||r==="model:documentFragment"};class fN{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Ue(e,t)}createElement(e,t){return new Re(e,t)}createDocumentFragment(){return new Mr}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Ue&&e.data=="")return;const i=Q._createAt(t,n);if(e.parent){if(U_(e.root,i.root))return void this.move(G._createOn(e),i);if(e.root.document)throw new M("model-writer-insert-forbidden-move",this);this.remove(e)}const a=i.root.document?i.root.document.version:null,c=new vt(i,e,a);if(e instanceof Ue&&(c.shouldReceiveAttributes=!0),this.batch.addOperation(c),this.model.applyOperation(c),e instanceof Mr)for(const[d,h]of e.markers){const m=Q._createAt(h.root,0),f={range:new G(h.start._getCombined(m,i),h.end._getCombined(m,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(d)?this.updateMarker(d,f):this.addMarker(d,f)}}insertText(e,t,n,i){t instanceof Mr||t instanceof Re||t instanceof Q?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,i)}insertElement(e,t,n,i){t instanceof Mr||t instanceof Re||t instanceof Q?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,i)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof Mr||t instanceof Re?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof Mr||t instanceof Re?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof G){const i=n.getMinimalFlatRanges();for(const a of i)F_(this,e,t,a)}else V_(this,e,t,n)}setAttributes(e,t){for(const[n,i]of pr(e))this.setAttribute(n,i,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof G){const n=t.getMinimalFlatRanges();for(const i of n)F_(this,e,null,i)}else V_(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const i of n.getAttributeKeys())this.removeAttribute(i,n)};if(e instanceof G)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof G))throw new M("writer-move-invalid-range",this);if(!e.isFlat)throw new M("writer-move-range-not-flat",this);const i=Q._createAt(t,n);if(i.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!U_(e.root,i.root))throw new M("writer-move-different-document",this);const a=e.root.document?e.root.document.version:null,c=new Me(e.start,e.end.offset-e.start.offset,i,a);this.batch.addOperation(c),this.model.applyOperation(c)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof G?e:G._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),kN(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Re))throw new M("writer-merge-no-element-before",this);if(!(n instanceof Re))throw new M("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(G._createIn(n),Q._createAt(t,"end")),this.remove(n)}_merge(e){const t=Q._createAt(e.nodeBefore,"end"),n=Q._createAt(e.nodeAfter,0),i=e.root.document.graveyard,a=new Q(i,[0]),c=e.root.document.version,d=new it(n,e.nodeAfter.maxOffset,t,a,c);this.batch.addOperation(d),this.model.applyOperation(d)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Re))throw new M("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,i=new en(Q._createBefore(e),e.name,t,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let n,i,a=e.parent;if(!a.parent)throw new M("writer-split-element-no-parent",this);if(t||(t=a.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new M("writer-split-invalid-limit-element",this);do{const c=a.root.document?a.root.document.version:null,d=a.maxOffset-e.offset,h=He.getInsertionPosition(e),m=new He(e,d,h,null,c);this.batch.addOperation(m),this.model.applyOperation(m),n||i||(n=a,i=e.parent.nextSibling),a=(e=this.createPositionAfter(e.parent)).parent}while(a!==t);return{position:e,range:new G(Q._createAt(n,"end"),Q._createAt(i,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new M("writer-wrap-range-not-flat",this);const n=t instanceof Re?t:new Re(t);if(n.childCount>0)throw new M("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new M("writer-wrap-element-attached",this);this.insert(n,e.start);const i=new G(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,Q._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new M("writer-unwrap-element-no-parent",this);this.move(G._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new M("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,i=t.range,a=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new M("writer-addmarker-marker-exists",this);if(!i)throw new M("writer-addmarker-no-range",this);return n?(Ia(this,e,null,i,a),this.model.markers.get(e)):this.model.markers._set(e,i,n,a)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,i=this.model.markers.get(n);if(!i)throw new M("writer-updatemarker-marker-not-exists",this);if(!t)return $("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(i);const a=typeof t.usingOperation=="boolean",c=typeof t.affectsData=="boolean",d=c?t.affectsData:i.affectsData;if(!a&&!t.range&&!c)throw new M("writer-updatemarker-wrong-options",this);const h=i.getRange(),m=t.range?t.range:h;a&&t.usingOperation!==i.managedUsingOperations?t.usingOperation?Ia(this,n,null,m,d):(Ia(this,n,h,null,d),this.model.markers._set(n,m,void 0,d)):i.managedUsingOperations?Ia(this,n,h,m,d):this.model.markers._set(n,m,void 0,d)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new M("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations)return void this.model.markers._remove(t);Ia(this,t,n.getRange(),null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new M("writer-addroot-root-exists",this);const i=this.model.document,a=new kr(e,t,!0,i,i.version);return this.batch.addOperation(a),this.model.applyOperation(a),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new M("writer-detachroot-no-root",this);for(const a of this.model.markers)a.getRange().root===t&&this.removeMarker(a);for(const a of t.getAttributeKeys())this.removeAttribute(a,t);this.remove(this.createRangeIn(t));const n=this.model.document,i=new kr(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,i]of pr(e))this._setSelectionAttribute(n,i)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Qn._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=Qn._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let a=!1;if(e==="move"){const c=t;a=c.containsPosition(i.start)||c.start.isEqual(i.start)||c.containsPosition(i.end)||c.end.isEqual(i.end)}else{const c=t,d=c.nodeBefore,h=c.nodeAfter,m=i.start.parent==d&&i.start.isAtEnd,f=i.end.parent==h&&i.end.offset==0,w=i.end.nodeAfter==h,v=i.start.nodeAfter==h;a=m||f||w||v}a&&this.updateMarker(n.name,{range:i})}}}function F_(r,e,t,n){const i=r.model,a=i.document;let c,d,h,m=n.start;for(const w of n.getWalker({shallow:!0}))h=w.item.getAttribute(e),c&&d!=h&&(d!=t&&f(),m=c),c=w.nextPosition,d=h;function f(){const w=new G(m,c),v=w.root.document?a.version:null,x=new ct(w,e,d,t,v);r.batch.addOperation(x),i.applyOperation(x)}c instanceof Q&&c!=m&&d!=t&&f()}function V_(r,e,t,n){const i=r.model,a=i.document,c=n.getAttribute(e);let d,h;if(c!=t){if(n.root===n){const m=n.document?a.version:null;h=new Ir(n,e,c,t,m)}else{d=new G(Q._createBefore(n),r.createPositionAfter(n));const m=d.root.document?a.version:null;h=new ct(d,e,c,t,m)}r.batch.addOperation(h),i.applyOperation(h)}}function Ia(r,e,t,n,i){const a=r.model,c=a.document,d=new Xt(e,t,n,a.markers,!!i,c.version);r.batch.addOperation(d),a.applyOperation(d)}function kN(r,e,t,n){let i;if(r.root.document){const a=n.document,c=new Q(a.graveyard,[0]);i=new Me(r,e,c,a.version)}else i=new gN(r,e);t.addOperation(i),n.applyOperation(i)}function U_(r,e){return r===e||r instanceof zc&&e instanceof zc}function bN(r,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const i=r.schema;r.change(a=>{if(!t.doNotResetEntireContent&&function(m,f){const w=m.getLimitElement(f);if(!f.containsEntireContent(w))return!1;const v=f.getFirstRange();return v.start.parent==v.end.parent?!1:m.checkChild(w,"paragraph")}(i,e))return void function(m,f){const w=m.model.schema.getLimitElement(f);m.remove(m.createRangeIn(w)),q_(m,m.createPositionAt(w,0),f)}(a,e);const c={};if(!t.doNotAutoparagraph){const m=e.getSelectedElement();m&&Object.assign(c,i.getAttributesWithProperty(m,"copyOnReplace",!0))}const[d,h]=function(m){const f=m.root.document.model,w=m.start;let v=m.end;if(f.hasContent(m,{ignoreMarkers:!0})){const x=function(S){const I=S.parent,P=I.root.document.model.schema,z=I.getAncestors({parentFirst:!0,includeSelf:!0});for(const F of z){if(P.isLimit(F))return null;if(P.isBlock(F))return F}}(v);if(x&&v.isTouching(f.createPositionAt(x,0))){const S=f.createSelection(m);f.modifySelection(S,{direction:"backward"});const I=S.getLastPosition(),P=f.createRange(I,v);f.hasContent(P,{ignoreMarkers:!0})||(v=I)}}return[Et.fromPosition(w,"toPrevious"),Et.fromPosition(v,"toNext")]}(n);d.isTouching(h)||a.remove(a.createRange(d,h)),t.leaveUnmerged||(function(m,f,w){const v=m.model;if(!Sp(m.model.schema,f,w))return;const[x,S]=function(I,P){const z=I.getAncestors(),F=P.getAncestors();let W=0;for(;z[W]&&z[W]==F[W];)W++;return[z[W],F[W]]}(f,w);!x||!S||(!v.hasContent(x,{ignoreMarkers:!0})&&v.hasContent(S,{ignoreMarkers:!0})?$_(m,f,w,x.parent):H_(m,f,w,x.parent))}(a,d,h),i.removeDisallowedAttributes(d.parent.getChildren(),a)),W_(a,e,d),!t.doNotAutoparagraph&&function(m,f){const w=m.checkChild(f,"$text"),v=m.checkChild(f,"paragraph");return!w&&v}(i,d)&&q_(a,d,e,c),d.detach(),h.detach()})}function H_(r,e,t,n){const i=e.parent,a=t.parent;if(i!=n&&a!=n){for(e=r.createPositionAfter(i),(t=r.createPositionBefore(a)).isEqual(e)||r.insert(a,e),r.merge(e);t.parent.isEmpty;){const c=t.parent;t=r.createPositionBefore(c),r.remove(c)}Sp(r.model.schema,e,t)&&H_(r,e,t,n)}}function $_(r,e,t,n){const i=e.parent,a=t.parent;if(i!=n&&a!=n){for(e=r.createPositionAfter(i),(t=r.createPositionBefore(a)).isEqual(e)||r.insert(i,t);e.parent.isEmpty;){const c=e.parent;e=r.createPositionBefore(c),r.remove(c)}t=r.createPositionBefore(a),function(c,d){const h=d.nodeBefore,m=d.nodeAfter;h.name!=m.name&&c.rename(h,m.name),c.clearAttributes(h),c.setAttributes(Object.fromEntries(m.getAttributes()),h),c.merge(d)}(r,t),Sp(r.model.schema,e,t)&&$_(r,e,t,n)}}function Sp(r,e,t){const n=e.parent,i=t.parent;return n!=i&&!r.isLimit(n)&&!r.isLimit(i)&&function(a,c,d){const h=new G(a,c);for(const m of h.getWalker())if(d.isLimit(m.item))return!1;return!0}(e,t,r)}function q_(r,e,t,n={}){const i=r.createElement("paragraph");r.model.schema.setAllowedAttributes(i,n,r),r.insert(i,e),W_(r,t,r.createPositionAt(i,0))}function W_(r,e,t){e instanceof Qn?r.setSelection(t):e.setTo(t)}function G_(r,e){const t=[];Array.from(r.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(r.start)||n.start.isEqual(r.start))&&(n.end.isBefore(r.end)||n.end.isEqual(r.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let i=n;for(;i.parent&&i.isEmpty;){const a=e.createRangeOn(i);i=i.parent,e.remove(a)}})}class wN{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new M("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?G._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new G(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Et.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new M("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Et.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Et.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Re)||!this._canMergeLeft(e))return;const t=Et._createBefore(e);t.stickiness="toNext";const n=Et.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Et._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Et._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Re)||!this._canMergeRight(e))return;const t=Et._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new M("insertcontent-invalid-insertion-position",this);this.position=Q._createAt(t.nodeBefore,"end");const n=Et.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Et._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Et._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Re&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Re&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function _N(r,e,t,n={}){if(!r.schema.isObject(e))throw new M("insertobject-element-not-an-object",r,{object:e});const i=t||r.document.selection;let a=i;n.findOptimalPosition&&r.schema.isBlock(e)&&(a=r.createSelection(r.schema.findOptimalInsertionRange(i,n.findOptimalPosition)));const c=_t(i.getSelectedBlocks()),d={};return c&&Object.assign(d,r.schema.getAttributesWithProperty(c,"copyOnReplace",!0)),r.change(h=>{a.isCollapsed||r.deleteContent(a,{doNotAutoparagraph:!0});let m=e;const f=a.anchor.parent;!r.schema.checkChild(f,e)&&r.schema.checkChild(f,"paragraph")&&r.schema.checkChild("paragraph",e)&&(m=h.createElement("paragraph"),h.insert(e,m)),r.schema.setAllowedAttributes(m,d,h);const w=r.insertContent(m,a);return w.isCollapsed||n.setSelection&&function(v,x,S,I){const P=v.model;if(S=="on")return void v.setSelection(x,"on");if(S!="after")throw new M("insertobject-invalid-place-parameter-value",P);let z=x.nextSibling;if(P.schema.isInline(x))return void v.setSelection(x,"after");!(z&&P.schema.checkChild(z,"$text"))&&P.schema.checkChild(x.parent,"paragraph")&&(z=v.createElement("paragraph"),P.schema.setAllowedAttributes(z,I,v),P.insertContent(z,v.createPositionAfter(x))),z&&v.setSelection(z,0)}(h,e,n.setSelection,d),w})}const AN=' ,.?!:;"-()';function vN(r,e){const{isForward:t,walker:n,unit:i,schema:a,treatEmojiAsSingleUnit:c}=r,{type:d,item:h,nextPosition:m}=e;if(d=="text")return r.unit==="word"?function(f,w){let v=f.position.textNode;for(v||(v=w?f.position.nodeAfter:f.position.nodeBefore);v&&v.is("$text");){const x=f.position.offset-v.startOffset;if(xN(v,x,w))v=w?f.position.nodeAfter:f.position.nodeBefore;else{if(yN(v.data,x,w))break;f.next()}}return f.position}(n,t):function(f,w,v){const x=f.position.textNode;if(x){const S=x.data;let I=f.position.offset-x.startOffset;for(;Gh(S,I)||w=="character"&&Kh(S,I)||v&&Pb(S,I);)f.next(),I=f.position.offset-x.startOffset}return f.position}(n,i,c);if(d==(t?"elementStart":"elementEnd")){if(a.isSelectable(h))return Q._createAt(h,t?"after":"before");if(a.checkChild(m,"$text"))return m}else{if(a.isLimit(h))return void n.skip(()=>!0);if(a.checkChild(m,"$text"))return m}}function CN(r,e){const t=r.root,n=Q._createAt(t,e?"end":0);return e?new G(r,n):new G(n,r)}function yN(r,e,t){const n=e+(t?0:-1);return AN.includes(r.charAt(n))}function xN(r,e,t){return e===(t?r.offsetSize:0)}class EN extends Le(){constructor(){super(),this.markers=new mN,this.document=new lN(this),this.schema=new _M,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),kM(this),this.document.registerPostFixer(i_),this.on("insertContent",(e,[t,n])=>{e.return=function(i,a,c){return i.change(d=>{const h=c||i.document.selection;h.isCollapsed||i.deleteContent(h,{doNotAutoparagraph:!0});const m=new wN(i,d,h.anchor),f=[];let w;if(a.is("documentFragment")){if(a.markers.size){const S=[];for(const[I,P]of a.markers){const{start:z,end:F}=P,W=z.isEqual(F);S.push({position:z,name:I,isCollapsed:W},{position:F,name:I,isCollapsed:W})}S.sort(({position:I},{position:P})=>I.isBefore(P)?1:-1);for(const{position:I,name:P,isCollapsed:z}of S){let F=null,W=null;const K=I.parent===a&&I.isAtStart,ie=I.parent===a&&I.isAtEnd;K||ie?z&&(W=K?"start":"end"):(F=d.createElement("$marker"),d.insert(F,I)),f.push({name:P,element:F,collapsed:W})}}w=a.getChildren()}else w=[a];m.handleNodes(w);let v=m.getSelectionRange();if(a.is("documentFragment")&&f.length){const S=v?fn.fromRange(v):null,I={};for(let P=f.length-1;P>=0;P--){const{name:z,element:F,collapsed:W}=f[P],K=!I[z];if(K&&(I[z]=[]),F){const ie=d.createPositionAt(F,"before");I[z].push(ie),d.remove(F)}else{const ie=m.getAffectedRange();if(!ie){W&&I[z].push(m.position);continue}W?I[z].push(ie[W]):I[z].push(K?ie.start:ie.end)}}for(const[P,[z,F]]of Object.entries(I))z&&F&&z.root===F.root&&z.root.document&&!d.model.markers.has(P)&&d.addMarker(P,{usingOperation:!0,affectsData:!0,range:new G(z,F)});S&&(v=S.toRange(),S.detach())}v&&(h instanceof Qn?d.setSelection(v):h.setTo(v));const x=m.getAffectedRange()||i.createRange(h.anchor);return m.destroy(),x})}(this,t,n)}),this.on("insertObject",(e,[t,n,i])=>{e.return=_N(this,t,n,i)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new ts,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){M.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new ts):e instanceof ts||(e=new ts(e)):e=new ts,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){M.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...i){const a=Tp(t,n);return this.fire("insertContent",[e,a,n,...i])}insertObject(e,t,n,i,...a){const c=Tp(t,n);return this.fire("insertObject",[e,c,i,i,...a])}deleteContent(e,t){bN(this,e,t)}modifySelection(e,t){(function(n,i,a={}){const c=n.schema,d=a.direction!="backward",h=a.unit?a.unit:"character",m=!!a.treatEmojiAsSingleUnit,f=i.focus,w=new Tr({boundaries:CN(f,d),singleCharacters:!0,direction:d?"forward":"backward"}),v={walker:w,schema:c,isForward:d,unit:h,treatEmojiAsSingleUnit:m};let x;for(;x=w.next();){if(x.done)return;const S=vN(v,x.value);if(S)return void(i instanceof Qn?n.change(I=>{I.setSelectionFocus(S)}):i.setFocus(S))}})(this,e,t)}getSelectedContent(e){return function(t,n){return t.change(i=>{const a=i.createDocumentFragment(),c=n.getFirstRange();if(!c||c.isCollapsed)return a;const d=c.start.root,h=c.start.getCommonPath(c.end),m=d.getNodeByPath(h);let f;f=c.start.parent==c.end.parent?c:i.createRange(i.createPositionAt(m,c.start.path[h.length]),i.createPositionAt(m,c.end.path[h.length]+1));const w=f.end.offset-f.start.offset;for(const v of f.getItems({shallow:!0}))v.is("$textProxy")?i.appendText(v.data,v.getAttributes(),a):i.append(i.cloneElement(v,!0),a);if(f!=c){const v=c._getTransformedByMove(f.start,i.createPositionAt(a,0),w)[0],x=i.createRange(i.createPositionAt(a,0),v.start);G_(i.createRange(v.end,i.createPositionAt(a,"end")),i),G_(x,i)}return a})}(this,e)}hasContent(e,t={}){const n=e instanceof G?e:G._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:a=!1}=t;if(!a){for(const c of this.markers.getMarkersIntersectingRange(n))if(c.affectsData)return!0}for(const c of n.getItems())if(this.schema.isContent(c)&&(!c.is("$textProxy")||!i||c.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=Tp(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new Q(e,t,n)}createPositionAt(e,t){return Q._createAt(e,t)}createPositionAfter(e){return Q._createAfter(e)}createPositionBefore(e){return Q._createBefore(e)}createRange(e,t){return new G(e,t)}createRangeIn(e){return G._createIn(e)}createRangeOn(e){return G._createOn(e)}createSelection(...e){return new gn(...e)}createBatch(e){return new ts(e)}createOperationFromJSON(e){return UM.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new fN(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Tp(r,e){if(r)return r instanceof gn||r instanceof Qn?r:r instanceof to?e||e===0?new gn(r,e):r.is("rootElement")?new gn(r,"in"):new gn(r,"on"):new gn(r)}class DN extends ai{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Ip extends ai{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Nr{constructor(e){this.document=e}createDocumentFragment(e){return new eo(this.document,e)}createElement(e,t,n){return new pn(this.document,e,t,n)}createText(e){return new Ve(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const i=n.getChildIndex(e);return this.removeChildren(i,1,n),this.insertChild(i,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new pn(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){Vt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return te._createAt(e,t)}createPositionAfter(e){return te._createAfter(e)}createPositionBefore(e){return te._createBefore(e)}createRange(e,t){return new he(e,t)}createRangeOn(e){return he._createOn(e)}createRangeIn(e){return he._createIn(e)}createSelection(...e){return new Wn(...e)}}class SN{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new M("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var TN=Object.defineProperty,K_=Object.getOwnPropertySymbols,IN=Object.prototype.hasOwnProperty,MN=Object.prototype.propertyIsEnumerable,Y_=(r,e,t)=>e in r?TN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;const Mp="contentEditing",Q_="common";class NN{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const t=e.config.get("menuBar.isVisible"),n=e.locale.t;this.addKeystrokeInfoCategory({id:Mp,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const i=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&i.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:i}]})}addKeystrokeInfoCategory({id:e,label:t,description:n,groups:i}){this.keystrokeInfos.set(e,{id:e,label:t,description:n,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:Q_}),i&&i.forEach(a=>{this.addKeystrokeInfoGroup(((c,d)=>{for(var h in d||(d={}))IN.call(d,h)&&Y_(c,h,d[h]);if(K_)for(var h of K_(d))MN.call(d,h)&&Y_(c,h,d[h]);return c})({categoryId:e},a))})}addKeystrokeInfoGroup({categoryId:e=Mp,id:t,label:n,keystrokes:i}){const a=this.keystrokeInfos.get(e);if(!a)throw new M("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});a.groups.set(t,{id:t,label:n,keystrokes:i||[]})}addKeystrokeInfos({categoryId:e=Mp,groupId:t=Q_,keystrokes:n}){if(!this.keystrokeInfos.has(e))throw new M("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:n});const i=this.keystrokeInfos.get(e);if(!i.groups.has(t))throw new M("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:n});i.groups.get(t).keystrokes.push(...n)}}var J_=Object.getOwnPropertySymbols,BN=Object.prototype.hasOwnProperty,jN=Object.prototype.propertyIsEnumerable,Z_=(r,e)=>{var t={};for(var n in r)BN.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&J_)for(var n of J_(r))e.indexOf(n)<0&&jN.call(r,n)&&(t[n]=r[n]);return t};class PN extends Le(){constructor(e={}){super();const t=this.constructor,n=t.defaultConfig||{},{translations:i}=n,a=Z_(n,["translations"]),c=e,{translations:d=i}=c,h=Z_(c,["translations"]),m=e.language||a.language;this._context=e.context||new Zb({language:m,translations:d}),this._context._addEditor(this,!e.context);const f=Array.from(t.builtinPlugins||[]);this.config=new cb(h,a),this.config.define("plugins",f),this.config.define(this._context._getEditorConfig()),this.plugins=new Qb(this,f,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new SN,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new EN,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const w=new QI;this.data=new FM(this.model,w),this.editing=new bM(this.model,w),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new VM([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new SI(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new NN(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new M("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new M("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],i=e.get("extraPlugins")||[],a=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(i),n,a)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){M.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Np(r){return class extends r{updateSourceElement(e){if(!this.sourceElement)throw new M("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void bb(this.sourceElement,"");const i=typeof e=="string"?e:this.data.get();bb(this.sourceElement,i)}}}Np.updateSourceElement=Np(Object).prototype.updateSourceElement;class X_ extends vc{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new $n({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new M("pendingactions-add-invalid-message",this);const t=new(Le());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const ge={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var e0=p(7801),ON={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(e0.A,ON),e0.A.locals;class Fc extends ce{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${R()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class LN extends ce{constructor(e,t){super(e);const n=e.t,i=new Fc;i.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":i.id,role:"document",tabindex:-1},children:[Ft(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),i]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const n=[Ft(document,"h3",{},t.label),...Array.from(t.groups.values()).map(i=>this._createGroup(i)).flat()];return t.description&&n.splice(1,0,Ft(document,"p",{},t.description)),Ft(document,"section",{},n)})}_createGroup(e){const t=e.keystrokes.sort((i,a)=>i.label.localeCompare(a.label)).map(i=>this._createGroupRow(i)).flat(),n=[Ft(document,"dl",{},t)];return e.label&&n.unshift(Ft(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=Ft(document,"dt"),i=Ft(document,"dd"),a=function(d){return typeof d=="string"?[[d]]:typeof d[0]=="string"?[d]:d}(e.keystroke),c=[];for(const d of a)c.push(d.map(RN).join(""));return n.innerHTML=e.label,i.innerHTML=c.join(", ")+(e.mayRequireFn&&E.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,i]}}function RN(r){return kc(r).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const t0='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var n0=p(8527),zN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(n0.A,zN),n0.A.locals;class FN extends J{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Pr]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const n=this._createButton(Ne);return n.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),n}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const n=this._createButton(bn);return n.label=t("Accessibility"),n}),e.keystrokes.set("Alt+0",(n,i)=>{this._showDialog(),i()}),this._setupRootLabels()}_createButton(e){const t=new e(this.editor.locale);return t.set({keystroke:"Alt+0",icon:t0}),t.on("execute",()=>this._showDialog()),t}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function i(a,c){const d=`${c.getAttribute("aria-label")}. ${n("Press %0 for help.",[kc("Alt+0")])}`;a.setAttribute("aria-label",d,c)}e.ui.on("ready",()=>{t.change(a=>{for(const c of t.document.roots)i(a,c)}),e.on("addRoot",(a,c)=>{const d=e.editing.view.document.getRoot(c.rootName);t.change(h=>i(h,d))},{priority:"low"})})}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new LN(e.locale,e.accessibility.keystrokeInfos)),t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:t0,hasCloseButton:!0,content:this.contentView})}}class VN extends Tn{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new qn({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Ft(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var r0=p(7621),UN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(r0.A,UN),r0.A.locals;const i0=class extends ce{constructor(){super();const r=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",r.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",r.if("isColorInherited","ck-icon_inherit-color")],viewBox:r.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const r=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=r.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:t,value:n}of Array.from(r.attributes))i0.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;r.childNodes.length>0;)this.element.appendChild(r.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(r=>{r.style.fill=this.fillColor})}};let Br=i0;Br.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class HN extends ce{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var o0=p(9715),$N={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(o0.A,$N),o0.A.locals;class Ne extends ce{constructor(e,t=new HN){super(e),this._focusDelayed=null;const n=this.bindTemplate,i=R();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${i}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new Br,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const a={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",c=>!c),n.if("isVisible","ck-hidden",c=>!c),n.to("isOn",c=>c?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",c=>c||"button"),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,c=>!c),"aria-pressed":n.to("isOn",c=>!!this.isToggleable&&String(!!c)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(c=>{this.isEnabled?this.fire("execute"):c.preventDefault()})}};E.isSafari&&(this._focusDelayed||(this._focusDelayed=Wh(()=>this.focus(),0)),a.on.mousedown=n.to(()=>{this._focusDelayed()}),a.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(a)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new ce;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>kc(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=kc(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var s0=p(4391),qN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(s0.A,qN),s0.A.locals;class Vc extends Ne{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new ce;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class a0 extends Ne{constructor(e){super(e),this.buttonView=this,this._fileInputView=new WN(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class WN extends ce{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Uc='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var l0=p(25),GN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(l0.A,GN),l0.A.locals;class KN extends ce{constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new Ne(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:Uc}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",n=>!n),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var c0=p(7317),YN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(c0.A,YN),c0.A.locals,p(6931),p(9047);var d0=p(4962),QN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(d0.A,QN),d0.A.locals;class Hc extends ce{constructor(e,t){super(e);const n=`ck-labeled-field-view-${R()}`,i=`ck-labeled-field-view-status-${R()}`;this.fieldView=t(this,n,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(c,d)=>c||d);const a=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",a.to("class"),a.if("isEnabled","ck-disabled",c=>!c),a.if("isEmpty","ck-labeled-field-view_empty"),a.if("isFocused","ck-labeled-field-view_focused"),a.if("placeholder","ck-labeled-field-view_placeholder"),a.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Fc(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new ce(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",i=>!i)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class JN extends ce{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new At,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var u0=p(253),ZN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(u0.A,ZN),u0.A.locals;class XN extends JN{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class eB extends XN{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var h0=p(1671),tB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(h0.A,tB),h0.A.locals;class nB extends ce{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():$("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var p0=p(8149),rB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(p0.A,rB),p0.A.locals;const Bp=class extends ce{constructor(r,e,t){super(r);const n=this.bindTemplate;this.buttonView=e,this.panelView=t,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Ut,this.focusTracker=new At,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",i=>!i)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[e,t]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,t,n)=>{if(n)if(this.panelPosition==="auto"){const i=Bp._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const r=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",r),this.keystrokes.set("esc",r)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:r,north:e,southEast:t,southWest:n,northEast:i,northWest:a,southMiddleEast:c,southMiddleWest:d,northMiddleEast:h,northMiddleWest:m}=Bp.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[t,n,c,d,r,i,a,h,m,e]:[n,t,d,c,r,a,i,m,h,e]}};let jp=Bp;jp.defaultPanelPositions={south:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/2,name:"s"}),southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),southMiddleEast:(r,e)=>({top:r.bottom,left:r.left-(e.width-r.width)/4,name:"sme"}),southMiddleWest:(r,e)=>({top:r.bottom,left:r.left-3*(e.width-r.width)/4,name:"smw"}),north:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/2,name:"n"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),northMiddleEast:(r,e)=>({top:r.top-e.height,left:r.left-(e.width-r.width)/4,name:"nme"}),northMiddleWest:(r,e)=>({top:r.top-e.height,left:r.left-3*(e.width-r.width)/4,name:"nmw"})},jp._getOptimalPosition=fc;class iB extends Ne{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Br;return e.content=Uc,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Mn extends Z(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const i of n)e.keystrokeHandler.set(i,(a,c)=>{this[t](),c()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Pp)||null}get last(){return this.focusables.filter(Pp).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const i=t.element===this.focusTracker.focusedElement;return i&&(e=n),i}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(n===null)return this[e===1?"first":"last"];let i=this.focusables.get(n),a=(n+t+e)%t;do{const c=this.focusables.get(a);if(Pp(c)){i=c;break}a=(a+t+e)%t}while(a!==n);return i}}function Pp(r){return Ma(r)&&Yi(r.element)}function Ma(r){return!(!("focus"in r)||typeof r.focus!="function")}class m0 extends ce{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class oB extends ce{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var sB=Object.defineProperty,g0=Object.getOwnPropertySymbols,aB=Object.prototype.hasOwnProperty,lB=Object.prototype.propertyIsEnumerable,f0=(r,e,t)=>e in r?sB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,k0=(r,e)=>{for(var t in e||(e={}))aB.call(e,t)&&f0(r,t,e[t]);if(g0)for(var t of g0(e))lB.call(e,t)&&f0(r,t,e[t]);return r};function b0(r){if(Array.isArray(r))return{items:r,removeItems:[]};const e={items:[],removeItems:[]};return r?k0(k0({},e),r):e}var w0=p(9677),cB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(w0.A,cB),w0.A.locals;const dB={alignLeft:ge.alignLeft,bold:ge.bold,importExport:ge.importExport,paragraph:ge.paragraph,plus:ge.plus,text:ge.text,threeVerticalDots:ge.threeVerticalDots,pilcrow:ge.pilcrow,dragIndicator:ge.dragIndicator};class Op extends ce{constructor(e,t){super(e);const n=this.bindTemplate,i=this.t;this.options=t||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new At,this.keystrokes=new Ut,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new uB(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const a=e.uiLanguageDirection==="rtl";this._focusCycler=new Mn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[a?"arrowright":"arrowleft","arrowup"],focusNext:[a?"arrowleft":"arrowright","arrowdown"]}});const c=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var d;this.options.shouldGroupWhenFull&&this.options.isFloating&&c.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:c,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(d=this,d.bindTemplate.to(h=>{h.target===d.element&&h.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new pB(this):new hB(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const i=b0(e),a=n||i.removeItems;return this._cleanItemsConfiguration(i.items,t,a).map(c=>Se(c)?this._createNestedToolbarDropdown(c,t,a):c==="|"?new m0:c==="-"?new oB:t.create(c)).filter(c=>!!c)}_cleanItemsConfiguration(e,t,n){const i=e.filter((a,c,d)=>a==="|"||n.indexOf(a)===-1&&(a==="-"?!this.options.shouldGroupWhenFull||($("toolbarview-line-break-ignored-when-grouping-items",d),!1):!(!Se(a)&&!t.has(a))||($("toolbarview-item-unavailable",{item:a}),!1)));return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(e){const t=c=>c!=="-"&&c!=="|",n=e.length,i=e.findIndex(t);if(i===-1)return[];const a=n-e.slice().reverse().findIndex(t);return e.slice(i,a).filter((c,d,h)=>t(c)?!0:!(d>0&&h[d-1]===c))}_createNestedToolbarDropdown(e,t,n){let{label:i,icon:a,items:c,tooltip:d=!0,withText:h=!1}=e;if(c=this._cleanItemsConfiguration(c,t,n),!c.length)return null;const m=jr(this.locale);return i||$("toolbarview-nested-toolbar-dropdown-missing-label",e),m.class="ck-toolbar__nested-toolbar-dropdown",m.buttonView.set({label:i,tooltip:d,withText:!!h}),a!==!1?m.buttonView.icon=dB[a]||a||ge.threeVerticalDots:m.buttonView.withText=!0,zp(m,()=>m.toolbarView._buildItemsFromConfig(c,t,n)),m}}class uB extends ce{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class hB{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>Ma(n)?n:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class pB{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,n)=>{const i=n.index,a=Array.from(n.added);for(const c of n.removed)i>=this.ungroupedItems.length?this.groupedItems.remove(c):this.ungroupedItems.remove(c);for(let c=i;c<i+a.length;c++){const d=a[c-i];c>this.ungroupedItems.length?this.groupedItems.add(d,c-this.ungroupedItems.length):this.ungroupedItems.add(d,c)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Yi(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new Ce(e.lastChild),i=new Ce(e);if(!this.cachedPadding){const a=_.window.getComputedStyle(e),c=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(a[c])}return t==="ltr"?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new ha(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new m0),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=jr(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",zp(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:ge.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Ma(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class rs extends ce{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Lp extends ce{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class $c extends ce{constructor(e,t=new Fc){super(e);const n=this.bindTemplate,i=new Rp(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,i]),i.set({role:"group",ariaLabelledBy:t.id}),i.focusTracker.destroy(),i.keystrokes.destroy(),this.items=i.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",a=>!a)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof Lp));e&&e.focus()}}}var _0=p(5199),mB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(_0.A,mB),_0.A.locals;class Rp extends ce{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new Tn,this.items=this.createCollection(),this.focusTracker=new At,this.keystrokes=new Ut,this._focusCycler=new Mn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof $c?this._registerFocusableItemsGroup(e):e instanceof rs&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const n of t.removed)n instanceof $c?this._deregisterFocusableItemsGroup(n):n instanceof rs&&this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof $c?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const i of n.removed)this._deregisterFocusableListItem(i);for(const i of Array.from(n.added).reverse())this._registerFocusableListItem(i,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((i,a)=>{const c=t!==void 0?t+a:void 0;this._registerFocusableListItem(i,c)});const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var A0=p(1792),gB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(A0.A,gB),A0.A.locals;class qc extends ce{constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new Ut,this.focusTracker=new At,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",i=>!i),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new Ne;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new Ne,t=e.bindTemplate;return e.icon=Uc,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var v0=p(1666),fB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(v0.A,fB),v0.A.locals;var C0=p(3629),kB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(C0.A,kB),C0.A.locals;function jr(r,e=iB){const t=typeof e=="function"?new e(r):e,n=new nB(r),i=new jp(r,t,n);return t.bind("isEnabled").to(i),t instanceof qc?t.arrowView.bind("isOn").to(i,"isOpen"):t.bind("isOn").to(i,"isOpen"),function(a){(function(c){c.on("render",()=>{_c({emitter:c,activator:()=>c.isOpen,callback:()=>{c.isOpen=!1},contextElements:()=>[c.element,...c.focusTracker._elements]})})})(a),function(c){c.on("execute",d=>{d.source instanceof Vc||(c.isOpen=!1)})}(a),function(c){c.focusTracker.on("change:isFocused",(d,h,m)=>{c.isOpen&&!m&&(c.isOpen=!1)})}(a),function(c){c.keystrokes.set("arrowdown",(d,h)=>{c.isOpen&&(c.panelView.focus(),h())}),c.keystrokes.set("arrowup",(d,h)=>{c.isOpen&&(c.panelView.focusLast(),h())})}(a),function(c){c.on("change:isOpen",(d,h,m)=>{if(m)return;const f=c.panelView.element;f&&f.contains(_.document.activeElement)&&c.buttonView.focus()})}(a),function(c){c.on("change:isOpen",(d,h,m)=>{m&&c.panelView.focus()},{priority:"low"})}(a)}(i),i}function zp(r,e,t={}){r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.isOpen?y0(r,e,t):r.once("change:isOpen",()=>y0(r,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&D0(r,()=>r.toolbarView.items.find(n=>n.isOn))}function y0(r,e,t){const n=r.locale,i=n.t,a=r.toolbarView=new Op(n),c=typeof e=="function"?e():e;a.ariaLabel=t.ariaLabel||i("Dropdown toolbar"),t.maxWidth&&(a.maxWidth=t.maxWidth),t.class&&(a.class=t.class),t.isCompact&&(a.isCompact=t.isCompact),t.isVertical&&(a.isVertical=!0),c instanceof Tn?a.items.bindTo(c).using(d=>d):a.items.addMany(c),r.panelView.children.add(a),a.items.delegate("execute").to(r)}function x0(r,e,t={}){r.isOpen?E0(r,e,t):r.once("change:isOpen",()=>E0(r,e,t),{priority:"highest"}),D0(r,()=>r.listView.items.find(n=>n instanceof rs&&n.children.first.isOn))}function E0(r,e,t){const n=r.locale,i=r.listView=new Rp(n),a=typeof e=="function"?e():e;i.ariaLabel=t.ariaLabel,i.role=t.role,S0(r,i.items,a,n),r.panelView.children.add(i),i.items.delegate("execute").to(r)}function D0(r,e){r.on("change:isOpen",()=>{if(!r.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():$("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:H.low-10})}function S0(r,e,t,n){e.bindTo(t).using(i=>{if(i.type==="separator")return new Lp(n);if(i.type==="group"){const a=new $c(n);return a.set({label:i.label}),S0(r,a.items,i.items,n),a.items.delegate("execute").to(r),a}if(i.type==="button"||i.type==="switchbutton"){const a=new rs(n);let c;return i.type==="button"?(c=new Ne(n),c.bind("ariaChecked").to(c,"isOn")):c=new Vc(n),c.bind(...Object.keys(i.model)).to(i.model),c.delegate("execute").to(a),a.children.add(c),a}return null})}const Wc=(r,e,t)=>{const n=new eB(r.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(r,"isEnabled",i=>!i),n.bind("hasError").to(r,"errorText",i=>!!i),n.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(n),n};var T0=p(1905),bB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(T0.A,bB),T0.A.locals;var I0=p(6309),wB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(I0.A,wB),I0.A.locals;class _B{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Fp(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new M("componentfactory-item-missing",this,{name:e});return this._components.get(Fp(e)).callback(this.editor.locale)}has(e){return this._components.has(Fp(e))}}function Fp(r){return String(r).toLowerCase()}var M0=p(7913),AB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(M0.A,AB),M0.A.locals;class vB extends ce{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new Br,this.iconView.content=t.icon,this.children.add(this.iconView));const i=new ce(e);i.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(i)}}var N0=p(9822),CB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(N0.A,CB),N0.A.locals;class yB extends ce{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new Ut,this._focusTracker=new At,this._focusables=new Tn,this.focusCycler=new Mn({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const n=new Ne(this.locale);let i;for(i in n.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(n),t)i!="onExecute"&&i!="onCreate"&&n.set(i,t[i]);this.children.add(n)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class xB extends ce{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var B0=p(9819),EB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(B0.A,EB),B0.A.locals;const Gc="screen-center",j0="editor-center",DB="editor-top-side",SB="editor-top-center",TB="editor-bottom-center",IB="editor-above-center",MB="editor-below-center",P0=qo("px"),O0=class extends function(r){return class extends r{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(_.document,"mouseup",this._onDragEndBound),this.listenTo(_.document,"touchend",this._onDragEndBound),this.listenTo(_.document,"mousemove",this._onDragBound),this.listenTo(_.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(_.document,"mouseup",this._onDragEndBound),this.stopListening(_.document,"touchend",this._onDragEndBound),this.stopListening(_.document,"mousemove",this._onDragBound),this.stopListening(_.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,i=0;t instanceof MouseEvent?(n=t.clientX,i=t.clientY):(n=t.touches[0].clientX,i=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:i},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,i=0;t instanceof MouseEvent?(n=t.clientX,i=t.clientY):(n=t.touches[0].clientX,i=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(i-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:i}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(ce){constructor(r,{getCurrentDomRoot:e,getViewportOffset:t}){super(r),this.wasMoved=!1;const n=this.bindTemplate,i=r.t;this.set("className",""),this.set("ariaLabel",i("Editor dialog")),this.set("isModal",!1),this.set("position",Gc),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=t,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Ut,this.focusTracker=new At,this._focusables=new Tn,this._focusCycler=new Mn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",n.if("isModal","ck-dialog-overlay__transparent",a=>!a),n.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",n.to("className")],role:"dialog","aria-label":n.to("ariaLabel"),style:{top:n.to("_top",a=>P0(a)),left:n.to("_left",a=>P0(a)),visibility:n.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(r,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(r,{deltaX:e,deltaY:t})=>{this.wasMoved=!0,this.moveBy(e,t)}),this.listenTo(_.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(_.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(r,e,t)=>{t&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:r,title:e,hasCloseButton:t=!0,content:n,actionButtons:i}){e&&(this.headerView=new vB(this.locale,{icon:r}),t&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),n&&(n instanceof ce&&(n=[n]),this.contentView=new xB(this.locale),this.contentView.children.addMany(n),this.parts.add(this.contentView)),i&&(this.actionsView=new yB(this.locale),this.actionsView.setButtons(i),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(r,e){const t=this._getViewportRect(),n=this._getDialogRect();r+n.width>t.right&&(r=t.right-n.width),r<t.left&&(r=t.left),e<t.top&&(e=t.top),this._moveTo(r,e)}_moveTo(r,e){this._left=r,this._top=e}moveBy(r,e){this.moveTo(this._left+r,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const r=this._getViewportRect();let e,t=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(r):t=Gc;const n=O0.defaultOffset,i=this._getDialogRect();switch(t){case DB:if(e){const a=this.locale.contentLanguageDirection==="ltr"?e.right-i.width-n:e.left+n;this.moveTo(a,e.top+n)}else this._moveOffScreen();break;case j0:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),Math.round(e.top+e.height/2-i.height/2)):this._moveOffScreen();break;case Gc:this.moveTo(Math.round((r.width-i.width)/2),Math.round((r.height-i.height)/2));break;case SB:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),e.top+n):this._moveOffScreen();break;case TB:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),e.bottom-i.height-n):this._moveOffScreen();break;case IB:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),e.top-i.height-n):this._moveOffScreen();break;case MB:e?this.moveTo(Math.round(e.left+e.width/2-i.width/2),e.bottom+n):this._moveOffScreen()}}_getVisibleDomRootRect(r){let e=new Ce(this._getCurrentDomRoot()).getVisible();return e?(e=r.getIntersection(e),e||null):null}_getDialogRect(){return new Ce(this.element.firstElementChild)}_getViewportRect(){return function(r){r=Object.assign({top:0,bottom:0,left:0,right:0},r);const e=new Ce(_.window);return e.top+=r.top,e.height-=r.top,e.bottom-=r.bottom,e.height-=r.bottom,e.left+=r.left,e.right-=r.right,e.width-=r.left+r.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const r=[];if(this.contentView)for(const e of this.contentView.children)Ma(e)&&r.push(e);this.actionsView&&r.push(this.actionsView),this.closeButtonView&&r.push(this.closeButtonView),r.forEach(e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),Ma(t=e)&&"focusCycler"in t&&t.focusCycler instanceof Mn&&(this.listenTo(e.focusCycler,"forwardCycle",n=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}),this.listenTo(e.focusCycler,"backwardCycle",n=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&n.stop()}))})}_createCloseButton(){const r=new Ne(this.locale),e=this.locale.t;return r.set({label:e("Close"),tooltip:!0,icon:ge.cancel}),r.on("execute",()=>this.fire("close",{source:"closeButton"})),r}};let Kc=O0;Kc.defaultOffset=15;class Pr extends J{constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{Pr._visibleDialogPlugin&&Pr._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const n of t)n.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:n,hasCloseButton:i=!0,content:a,actionButtons:c,className:d,isModal:h,position:m,onHide:f}){const w=this.editor;this.view=new Kc(w.locale,{getCurrentDomRoot:()=>w.editing.view.getDomRoot(w.model.document.selection.anchor.root.rootName),getViewportOffset:()=>w.ui.viewportOffset});const v=this.view;v.on("close",()=>{this.hide()}),w.ui.view.body.add(v),w.ui.focusTracker.add(v.element),w.keystrokes.listenTo(v.element),m||(m=h?Gc:j0),v.set({position:m,_isVisible:!0,className:d,isModal:h}),v.setupParts({icon:t,title:n,hasCloseButton:i,content:a,actionButtons:c}),this.id=e,f&&(this._onHide=f),this.isOpen=!0,Pr._visibleDialogPlugin=this}hide(){Pr._visibleDialogPlugin&&Pr._visibleDialogPlugin.fire(`hide:${Pr._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Pr._visibleDialogPlugin=null}}var L0=p(3710),NB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(L0.A,NB),L0.A.locals;var BB=Object.defineProperty,R0=Object.getOwnPropertySymbols,jB=Object.prototype.hasOwnProperty,PB=Object.prototype.propertyIsEnumerable,z0=(r,e,t)=>e in r?BB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Be=(r,e)=>{for(var t in e||(e={}))jB.call(e,t)&&z0(r,t,e[t]);if(R0)for(var t of R0(e))PB.call(e,t)&&z0(r,t,e[t]);return r};const F0=qo("px"),V0=_.document.body,OB={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Vp=class extends ce{constructor(r){super(r);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",F0),left:e.to("left",F0)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(r){this.show();const e=Vp.defaultPositions,t=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:V0,fitInViewport:!0},r),n=Vp._getOptimalPosition(t)||OB,i=parseInt(n.left),a=parseInt(n.top),c=n.name,d=n.config||{},{withArrow:h=!0}=d;this.top=a,this.left=i,this.position=c,this.withArrow=h}pin(r){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(r):this._stopPinning()},this._startPinning(r),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(r){this.attachTo(r);const e=Up(r.target),t=r.limiter?Up(r.limiter):V0;this.listenTo(_.document,"scroll",(n,i)=>{const a=i.target,c=e&&a.contains(e),d=t&&a.contains(t);!c&&!d&&e&&t||this.attachTo(r)},{useCapture:!0}),this.listenTo(_.window,"resize",()=>{this.attachTo(r)})}_stopPinning(){this.stopListening(_.document,"scroll"),this.stopListening(_.window,"resize")}};let tn=Vp;function Up(r){return Ki(r)?r:mc(r)?r.commonAncestorContainer:typeof r=="function"?Up(r()):null}function U0(r={}){const{sideOffset:e=tn.arrowSideOffset,heightOffset:t=tn.arrowHeightOffset,stickyVerticalOffset:n=tn.stickyVerticalOffset,config:i}=r;return{northWestArrowSouthWest:(d,h)=>Be({top:a(d,h),left:d.left-e,name:"arrow_sw"},i&&{config:i}),northWestArrowSouthMiddleWest:(d,h)=>Be({top:a(d,h),left:d.left-.25*h.width-e,name:"arrow_smw"},i&&{config:i}),northWestArrowSouth:(d,h)=>Be({top:a(d,h),left:d.left-h.width/2,name:"arrow_s"},i&&{config:i}),northWestArrowSouthMiddleEast:(d,h)=>Be({top:a(d,h),left:d.left-.75*h.width+e,name:"arrow_sme"},i&&{config:i}),northWestArrowSouthEast:(d,h)=>Be({top:a(d,h),left:d.left-h.width+e,name:"arrow_se"},i&&{config:i}),northArrowSouthWest:(d,h)=>Be({top:a(d,h),left:d.left+d.width/2-e,name:"arrow_sw"},i&&{config:i}),northArrowSouthMiddleWest:(d,h)=>Be({top:a(d,h),left:d.left+d.width/2-.25*h.width-e,name:"arrow_smw"},i&&{config:i}),northArrowSouth:(d,h)=>Be({top:a(d,h),left:d.left+d.width/2-h.width/2,name:"arrow_s"},i&&{config:i}),northArrowSouthMiddleEast:(d,h)=>Be({top:a(d,h),left:d.left+d.width/2-.75*h.width+e,name:"arrow_sme"},i&&{config:i}),northArrowSouthEast:(d,h)=>Be({top:a(d,h),left:d.left+d.width/2-h.width+e,name:"arrow_se"},i&&{config:i}),northEastArrowSouthWest:(d,h)=>Be({top:a(d,h),left:d.right-e,name:"arrow_sw"},i&&{config:i}),northEastArrowSouthMiddleWest:(d,h)=>Be({top:a(d,h),left:d.right-.25*h.width-e,name:"arrow_smw"},i&&{config:i}),northEastArrowSouth:(d,h)=>Be({top:a(d,h),left:d.right-h.width/2,name:"arrow_s"},i&&{config:i}),northEastArrowSouthMiddleEast:(d,h)=>Be({top:a(d,h),left:d.right-.75*h.width+e,name:"arrow_sme"},i&&{config:i}),northEastArrowSouthEast:(d,h)=>Be({top:a(d,h),left:d.right-h.width+e,name:"arrow_se"},i&&{config:i}),southWestArrowNorthWest:d=>Be({top:c(d),left:d.left-e,name:"arrow_nw"},i&&{config:i}),southWestArrowNorthMiddleWest:(d,h)=>Be({top:c(d),left:d.left-.25*h.width-e,name:"arrow_nmw"},i&&{config:i}),southWestArrowNorth:(d,h)=>Be({top:c(d),left:d.left-h.width/2,name:"arrow_n"},i&&{config:i}),southWestArrowNorthMiddleEast:(d,h)=>Be({top:c(d),left:d.left-.75*h.width+e,name:"arrow_nme"},i&&{config:i}),southWestArrowNorthEast:(d,h)=>Be({top:c(d),left:d.left-h.width+e,name:"arrow_ne"},i&&{config:i}),southArrowNorthWest:d=>Be({top:c(d),left:d.left+d.width/2-e,name:"arrow_nw"},i&&{config:i}),southArrowNorthMiddleWest:(d,h)=>Be({top:c(d),left:d.left+d.width/2-.25*h.width-e,name:"arrow_nmw"},i&&{config:i}),southArrowNorth:(d,h)=>Be({top:c(d),left:d.left+d.width/2-h.width/2,name:"arrow_n"},i&&{config:i}),southArrowNorthMiddleEast:(d,h)=>Be({top:c(d),left:d.left+d.width/2-.75*h.width+e,name:"arrow_nme"},i&&{config:i}),southArrowNorthEast:(d,h)=>Be({top:c(d),left:d.left+d.width/2-h.width+e,name:"arrow_ne"},i&&{config:i}),southEastArrowNorthWest:d=>Be({top:c(d),left:d.right-e,name:"arrow_nw"},i&&{config:i}),southEastArrowNorthMiddleWest:(d,h)=>Be({top:c(d),left:d.right-.25*h.width-e,name:"arrow_nmw"},i&&{config:i}),southEastArrowNorth:(d,h)=>Be({top:c(d),left:d.right-h.width/2,name:"arrow_n"},i&&{config:i}),southEastArrowNorthMiddleEast:(d,h)=>Be({top:c(d),left:d.right-.75*h.width+e,name:"arrow_nme"},i&&{config:i}),southEastArrowNorthEast:(d,h)=>Be({top:c(d),left:d.right-h.width+e,name:"arrow_ne"},i&&{config:i}),westArrowEast:(d,h)=>Be({top:d.top+d.height/2-h.height/2,left:d.left-h.width-t,name:"arrow_e"},i&&{config:i}),eastArrowWest:(d,h)=>Be({top:d.top+d.height/2-h.height/2,left:d.right+t,name:"arrow_w"},i&&{config:i}),viewportStickyNorth:(d,h,m,f)=>{const w=f||m;return d.getIntersection(w)?w.height-d.height>n?null:{top:w.top+n,left:d.left+d.width/2-h.width/2,name:"arrowless",config:Be({withArrow:!1},i)}:null}};function a(d,h){return d.top-h.height-t}function c(d){return d.bottom+t}}tn.arrowSideOffset=25,tn.arrowHeightOffset=10,tn.stickyVerticalOffset=20,tn._getOptimalPosition=fc,tn.defaultPositions=U0();var H0=p(9205),LB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(H0.A,LB),H0.A.locals;const $0="ck-tooltip",nn=class extends Sn(){constructor(r){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,nn._editors.add(r),nn._instance)return nn._instance;nn._instance=this,this.tooltipTextView=new ce(r.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new tn(r.locale),this.balloonPanelView.class=$0,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver(()=>{e()});return{attach(n){t.observe(n,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Xo(this._pinTooltip,600),this._unpinTooltipDebounced=Xo(this._unpinTooltip,400),this.listenTo(_.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(_.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(r){const e=r.ui.view&&r.ui.view.body;nn._editors.delete(r),this.stopListening(r.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),nn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),nn._instance=null)}static getPositioningFunctions(r){const e=nn.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[r]}_onKeyDown(r,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(r,{target:e}){const t=Hp(e);t?t!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(t,q0(t))):r.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(r,{target:e,relatedTarget:t}){if(r.name==="mouseleave"){if(!Ki(e))return;const n=this.balloonPanelView.element,i=n&&(n===t||n.contains(t)),a=!i&&e===n;if(i)return void this._unpinTooltipDebounced.cancel();if(!a&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const c=Hp(e),d=Hp(t);(a||c&&c!==d)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(r,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(r,{text:e,position:t,cssClass:n}){this._unpinTooltip();const i=_t(nn._editors.values()).ui.view.body;i.has(this.balloonPanelView)||i.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:r,positions:nn.getPositioningFunctions(t)}),this._resizeObserver=new ha(r,()=>{Yi(r)||this._unpinTooltip()}),this._mutationObserver.attach(r),this.balloonPanelView.class=[$0,n].filter(a=>a).join(" ");for(const a of nn._editors)this.listenTo(a.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=r,this._currentTooltipPosition=t}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const r of nn._editors)this.stopListening(r.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const r=q0(this._currentElementWithTooltip);Yi(this._currentElementWithTooltip)&&r.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:nn.getPositioningFunctions(r.position)}):this._unpinTooltip()}};let Yc=nn;function Hp(r){return Ki(r)?r.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function q0(r){return{text:r.dataset.ckeTooltipText,position:r.dataset.ckeTooltipPosition||"s",cssClass:r.dataset.ckeTooltipClass||""}}Yc.defaultBalloonPositions=U0({heightOffset:5,sideOffset:13}),Yc._editors=new Set,Yc._instance=null;const Qc=function(r,e,t){var n=!0,i=!0;if(typeof r!="function")throw new TypeError("Expected a function");return Se(t)&&(n="leading"in t?!!t.leading:n,i="trailing"in t?!!t.trailing:i),Xo(r,e,{leading:n,maxWait:e,trailing:i})};var RB=Object.defineProperty,W0=Object.getOwnPropertySymbols,zB=Object.prototype.hasOwnProperty,FB=Object.prototype.propertyIsEnumerable,G0=(r,e,t)=>e in r?RB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,VB=(r,e)=>{for(var t in e||(e={}))zB.call(e,t)&&G0(r,t,e[t]);if(W0)for(var t of W0(e))FB.call(e,t)&&G0(r,t,e[t]);return r};const UB=50,HB=350,$B="Powered by";class qB extends Sn(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Qc(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function n(x){return x.length>=40&&x.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let i="";try{i=atob(t)}catch{return"INVALID"}const a=i.split("-"),c=a[0],d=a[1];if(!d)return n(t);try{atob(d)}catch{try{if(atob(c),!atob(c).length)return n(t)}catch{return n(t)}}if(c.length<40||c.length>255)return"INVALID";let h="";try{atob(c),h=atob(d)}catch{return"INVALID"}if(h.length!==8)return"INVALID";const m=Number(h.substring(0,4)),f=Number(h.substring(4,6))-1,w=Number(h.substring(6,8)),v=new Date(m,f,w);return v<pe||isNaN(Number(v))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,n,i)=>{this._updateLastFocusedEditableElement(),i?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,n,i)=>{this._updateLastFocusedEditableElement(),i&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new tn,n=Y0(e),i=new WB(e.locale,n.label);t.content.add(i),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,n){const i=Y0(t),a=i.side==="right"?function(c,d){return K0(c,d,(h,m)=>h.left+h.width-m.width-d.horizontalOffset)}(n,i):function(c,d){return K0(c,d,h=>h.left+d.horizontalOffset)}(n,i);return{target:n,positions:[a]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const i=Array.from(e.ui.getEditableElementsNames()).map(a=>e.ui.getEditableElement(a));i.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=i[0]}}class WB extends ce{constructor(e,t){super(e);const n=new Br,i=this.bindTemplate;n.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:i.to(a=>a.preventDefault())}}]})}}function K0(r,e,t){return(n,i)=>{const a=new Ce(r);if(a.width<HB||a.height<UB)return null;let c;c=e.position==="inside"?a.bottom-i.height:a.bottom-i.height/2,c-=e.verticalOffset;const d=t(a,i),h=n.clone().moveTo(d,c).getIntersection(i.clone().moveTo(d,c)).getVisible();return!h||h.getArea()<i.getArea()?null:{top:c,left:d,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function Y0(r){const e=r.config.get("ui.poweredBy"),t=e&&e.position||"border";return VB({position:t,label:$B,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:r.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var Q0=p(1801),GB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Q0.A,GB),Q0.A.locals;const J0={POLITE:"polite",ASSERTIVE:"assertive"};class KB{constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(J0))this.announce("",t)})}announce(e,t=J0.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new YB(n.locale),n.ui.view.body.add(this.view));const{politeness:i,isUnsafeHTML:a}=typeof t=="string"?{politeness:t}:t;let c=this.view.regionViews.find(d=>d.politeness===i);c||(c=new QB(n,i),this.view.regionViews.add(c)),c.announce({announcement:e,isUnsafeHTML:a})}}class YB extends ce{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class QB extends ce{constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const n=document.createElement("li");t?this._domConverter.setContentOf(n,e):n.innerText=e,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}var JB=Object.defineProperty,Z0=Object.getOwnPropertySymbols,ZB=Object.prototype.hasOwnProperty,XB=Object.prototype.propertyIsEnumerable,X0=(r,e,t)=>e in r?JB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class e4 extends Le(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new _B(e),this.focusTracker=new At,this.tooltipManager=new Yc(e),this.poweredBy=new qB(e),this.ariaLiveAnnouncer=new KB(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,i;e.keystrokes.set("Alt+F10",(a,c)=>{const d=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(d)&&!Array.from(t.domRoots.values()).includes(d)&&(n=d);const h=this._getCurrentFocusedToolbarDefinition();h&&i||(i=this._getFocusableCandidateToolbarDefinitions());for(let m=0;m<i.length;m++){const f=i.shift();if(i.push(f),f!==h&&this._focusFocusableCandidateToolbar(f)){h&&h.options.afterBlur&&h.options.afterBlur();break}}c()}),e.keystrokes.set("Esc",(a,c)=>{const d=this._getCurrentFocusedToolbarDefinition();d&&(n?(n.focus(),n=null):e.editing.view.focus(),d.options.afterBlur&&d.options.afterBlur(),c())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:i}=t;(Yi(n.element)||i.beforeFocus)&&e.push(t)}return e.sort((t,n)=>eA(t)-eA(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!Yi(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n=((i,a)=>{for(var c in a||(a={}))ZB.call(a,c)&&X0(i,c,a[c]);if(Z0)for(var c of Z0(a))XB.call(a,c)&&X0(i,c,a[c]);return i})({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function eA(r){const{toolbarView:e,options:t}=r;let n=10;return Yi(e.element)&&n--,t.isContextual&&n--,n}var tA=p(1185),t4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(tA.A,t4),tA.A.locals;class n4 extends ce{constructor(e){super(e),this.body=new VN(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class r4 extends n4{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Fc;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class i4 extends ce{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(n){e.change(i=>{const a=e.document.getRoot(n.name);i.addClass(n.isFocused?"ck-focused":"ck-blurred",a),i.removeClass(n.isFocused?"ck-blurred":"ck-focused",a)})}e.isRenderingInProgress?function n(i){e.once("change:isRenderingInProgress",(a,c,d)=>{d?n(i):t(i)})}(this):t(this)}}class o4 extends i4{constructor(e,t,n,i={}){super(e,t,n);const a=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=i.label||(()=>a("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}class $p extends vc{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class nA extends Le(){constructor(e,t){super(),t&&Sw(this,t),e&&this.set(e)}}var rA=p(991),s4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(rA.A,s4),rA.A.locals;var iA=p(5380),a4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(iA.A,a4),iA.A.locals;const Jc=qo("px");class Zc extends J{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,n=t.document.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new M("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new M("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new M("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new tn(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new l4(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,i)=>!i&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,i)=>{if(i<2)return"";const a=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[a,i])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new c4(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class l4 extends ce{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new At,this.buttonPrevView=this._createButtonView(t("Previous"),ge.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),ge.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",i=>i?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new Ne(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class c4 extends ce{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",i=>i?"":"ck-hidden")],style:{top:n.to("top",Jc),left:n.to("left",Jc),width:n.to("width",Jc),height:n.to("height",Jc)}},children:this.content}),this.on("change:numberOfPanels",(i,a,c,d)=>{c>d?this._addPanels(c-d):this._removePanels(d-c),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new ce;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:i}=new Ce(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:i})}}}var oA=p(8298),d4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(oA.A,d4),oA.A.locals;const is=qo("px");class u4 extends ce{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new qn({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",n=>n?"block":"none"),height:t.to("isSticky",n=>n?is(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new qn({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",n=>n?is(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",n=>n&&is(n)),bottom:t.to("_stickyBottomOffset",n=>n&&is(n)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(_.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Ce(this.limiterElement);let t=e.getVisible();if(t){const n=new Ce(_.window);n.top+=this.viewportTopOffset,n.height-=this.viewportTopOffset,t=t.getIntersection(n)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const i=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-i>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(i):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=is(-_.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=is(-_.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ce(this.contentPanelElement)}}class h4 extends Hc{constructor(e,t){const n=e.t,i=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Wc},t);super(e,i.creator),this.label=t.label,this._viewConfig=i,this._viewConfig.showIcon&&(this.iconView=new Br,this.iconView.content=ge.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Ne(e),this.resetButtonView.set({label:n("Clear"),icon:ge.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",a=>!a),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class p4 extends ce{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class m4 extends ce{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new At,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Mn({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var sA=/[\\^$.*+?()[\]{}|]/g,g4=RegExp(sA.source);const aA=function(r){return(r=np(r))&&g4.test(r)?r.replace(sA,"\\$&"):r};var lA=p(8107),f4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(lA.A,f4),lA.A.locals;var k4=Object.defineProperty,cA=Object.getOwnPropertySymbols,b4=Object.prototype.hasOwnProperty,w4=Object.prototype.propertyIsEnumerable,dA=(r,e,t)=>e in r?k4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class _4 extends ce{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new At,this.keystrokes=new Ut,this.resultsView=new m4(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new p4,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Mn({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:i,totalItemsCount:a})=>{this.resultsCount=i,this.totalItemsCount=a}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(aA(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",((i,a)=>{for(var c in a||(a={}))b4.call(a,c)&&dA(i,c,a[c]);if(cA)for(var c of cA(a))w4.call(a,c)&&dA(i,c,a[c]);return i})({query:e},n))}_createSearchTextQueryView(){const e=new h4(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function n(i,{query:a,resultsCount:c,totalItemsCount:d}){return typeof i=="function"?i(a,c,d):i}this.on("search",(i,a)=>{if(a.resultsCount)t.set({isVisible:!1});else{const c=this._config.infoView&&this._config.infoView.text;let d,h;a.totalItemsCount?c&&c.notFound?(d=c.notFound.primary,h=c.notFound.secondary):(d=e("No results found"),h=""):c&&c.noSearchableItems?(d=c.noSearchableItems.primary,h=c.noSearchableItems.secondary):(d=e("No searchable items"),h=""),t.set({primaryText:n(d,a),secondaryText:n(h,a),isVisible:!0})}})}}var uA=p(5727),A4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(uA.A,A4),uA.A.locals;const qp=class extends _4{constructor(r,e){super(r,e),this._config=e;const t=qo("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const n=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[n.if("isVisible","ck-hidden",i=>!i),n.to("_position",i=>`ck-search__results_${i}`)],style:{width:n.to("_width",t)}}}),this.focusTracker.on("change:isFocused",(i,a,c)=>{this._updateResultsVisibility(),c?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(i,a)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,a())}),this.listenTo(_.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(i,{value:a})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=a,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ce(this.queryView.fieldView.element).width;const r=qp._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:qp.defaultResultsPositions});this.resultsView._position=r?r.name:"s"}_updateResultsVisibility(){const r=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=r}};let hA=qp;hA.defaultResultsPositions=[r=>({top:r.bottom,left:r.left,name:"s"}),(r,e)=>({top:r.top-e.height,left:r.left,name:"n"})],hA._getOptimalPosition=fc;var pA=p(9529),v4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(pA.A,v4),pA.A.locals;var mA=p(109),C4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(mA.A,C4),mA.A.locals;var gA=p(2710),y4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(gA.A,y4),gA.A.locals;var fA=p(3344),x4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(fA.A,x4),fA.A.locals;class E4 extends Ne{constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Br;return e.content=Uc,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var kA=p(9481),D4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(kA.A,D4),kA.A.locals;class Wp extends rs{constructor(e,t){super(e);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}var S4=Object.defineProperty,bA=Object.getOwnPropertySymbols,T4=Object.prototype.hasOwnProperty,I4=Object.prototype.propertyIsEnumerable,wA=(r,e,t)=>e in r?S4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_A=(r,e)=>{for(var t in e||(e={}))T4.call(e,t)&&wA(r,t,e[t]);if(bA)for(var t of bA(e))I4.call(e,t)&&wA(r,t,e[t]);return r};const Na={toggleMenusAndFocusItemsOnHover(r){r.on("menu:mouseenter",e=>{if(r.isOpen){for(const t of r.menus){const n=e.path[0],i=n instanceof Wp&&n.children.first===t;t.isOpen=(e.path.includes(t)||i)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(r){const e=r.locale.uiLanguageDirection==="rtl";function t(n,i){const a=r.children.getIndex(n),c=n.isOpen,d=r.children.length,h=r.children.get((a+d+i)%d);n.isOpen=!1,c&&(h.isOpen=!0),h.buttonView.focus()}r.on("menu:arrowright",n=>{t(n.source,e?-1:1)}),r.on("menu:arrowleft",n=>{t(n.source,e?1:-1)})},closeMenusWhenTheBarCloses(r){r.on("change:isOpen",()=>{r.isOpen||r.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(r){r.on("menu:change:isOpen",(e,t,n)=>{n&&r.menus.filter(i=>e.source.parentMenuView===i.parentMenuView&&e.source!==i&&i.isOpen).forEach(i=>{i.isOpen=!1})})},closeOnClickOutside(r){_c({emitter:r,activator:()=>r.isOpen,callback:()=>r.close(),contextElements:()=>r.children.map(e=>e.element)})}},oo={openAndFocusPanelOnArrowDownKey(r){r.keystrokes.set("arrowdown",(e,t)=>{r.focusTracker.focusedElement===r.buttonView.element&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),t())})},openOnArrowRightKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";r.keystrokes.set(e,(t,n)=>{r.focusTracker.focusedElement===r.buttonView.element&&r.isEnabled&&(r.isOpen||(r.isOpen=!0),r.panelView.focus(),n())})},openOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!0,r.panelView.focus()})},toggleOnButtonClick(r){r.buttonView.on("execute",()=>{r.isOpen=!r.isOpen,r.isOpen&&r.panelView.focus()})},closeOnArrowLeftKey(r){const e=r.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";r.keystrokes.set(e,(t,n)=>{r.isOpen&&(r.isOpen=!1,r.focus(),n())})},closeOnEscKey(r){r.keystrokes.set("esc",(e,t)=>{r.isOpen&&(r.isOpen=!1,r.focus(),t())})},closeOnParentClose(r){r.parentMenuView.on("change:isOpen",(e,t,n)=>{n||e.source!==r.parentMenuView||(r.isOpen=!1)})}},M4={southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,e)=>({top:r.bottom,left:r.left-e.width+r.width,name:"sw"}),northEast:(r,e)=>({top:r.top-e.height,left:r.left,name:"ne"}),northWest:(r,e)=>({top:r.top-e.height,left:r.left-e.width+r.width,name:"nw"}),eastSouth:r=>({top:r.top,left:r.right-5,name:"es"}),eastNorth:(r,e)=>({top:r.top-e.height,left:r.right-5,name:"en"}),westSouth:(r,e)=>({top:r.top,left:r.left-e.width+5,name:"ws"}),westNorth:(r,e)=>({top:r.top-e.height,left:r.left-e.width+5,name:"wn"})},N4=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function B4({normalizedConfig:r,locale:e,componentFactory:t}){const n=Kn(r);return function(i,a){const c=a.removeItems,d=[];a.items=a.items.filter(({menuId:h})=>!c.includes(h)||(d.push(h),!1)),os(a.items,h=>{h.groups=h.groups.filter(({groupId:m})=>!c.includes(m)||(d.push(m),!1));for(const m of h.groups)m.items=m.items.filter(f=>{const w=CA(f);return!c.includes(w)||(d.push(w),!1)})});for(const h of c)d.includes(h)||$("menu-bar-item-could-not-be-removed",{menuBarConfig:i,itemName:h})}(r,n),function(i,a){const c=a.addItems,d=[];for(const h of c){const m=O4(h.position),f=L4(h.position);if(j4(h))if(f){const w=a.items.findIndex(v=>v.menuId===f);w!=-1?m==="before"?(a.items.splice(w,0,h.menu),d.push(h)):m==="after"&&(a.items.splice(w+1,0,h.menu),d.push(h)):AA(a,h.menu,f,m)&&d.push(h)}else m==="start"?(a.items.unshift(h.menu),d.push(h)):m==="end"&&(a.items.push(h.menu),d.push(h));else P4(h)?os(a.items,w=>{if(w.menuId===f)m==="start"?(w.groups.unshift(h.group),d.push(h)):m==="end"&&(w.groups.push(h.group),d.push(h));else{const v=w.groups.findIndex(x=>x.groupId===f);v!==-1&&(m==="before"?(w.groups.splice(v,0,h.group),d.push(h)):m==="after"&&(w.groups.splice(v+1,0,h.group),d.push(h)))}}):AA(a,h.item,f,m)&&d.push(h)}for(const h of c)d.includes(h)||$("menu-bar-item-could-not-be-added",{menuBarConfig:i,addedItemConfig:h})}(r,n),function(i,a,c){os(a.items,d=>{for(const h of d.groups)h.items=h.items.filter(m=>{const f=typeof m=="string"&&!c.has(m);return f&&!a.isUsingDefaultConfig&&$("menu-bar-item-unavailable",{menuBarConfig:i,parentMenuConfig:Kn(d),componentName:m}),!f})})}(r,n,t),vA(r,n),function(i,a){const c=a.t,d={File:c({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:c({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:c({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:c({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:c({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:c({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:c({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:c({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:c({string:"Font",id:"MENU_BAR_MENU_FONT"})};os(i.items,h=>{h.label in d&&(h.label=d[h.label])})}(n,e),n}function AA(r,e,t,n){let i=!1;return os(r.items,a=>{for(const{groupId:c,items:d}of a.groups){if(i)return;if(c===t)n==="start"?(d.unshift(e),i=!0):n==="end"&&(d.push(e),i=!0);else{const h=d.findIndex(m=>CA(m)===t);h!==-1&&(n==="before"?(d.splice(h,0,e),i=!0):n==="after"&&(d.splice(h+1,0,e),i=!0))}}}),i}function vA(r,e){const t=e.isUsingDefaultConfig;let n=!1;e.items=e.items.filter(i=>!!i.groups.length||(Gp(r,i,t),!1)),e.items.length?(os(e.items,i=>{i.groups=i.groups.filter(a=>!!a.items.length||(n=!0,!1));for(const a of i.groups)a.items=a.items.filter(c=>!(yA(c)&&!c.groups.length)||(Gp(r,c,t),n=!0,!1))}),n&&vA(r,e)):Gp(r,r,t)}function Gp(r,e,t){t||$("menu-bar-menu-empty",{menuBarConfig:r,emptyMenuConfig:e})}function os(r,e){if(Array.isArray(r))for(const n of r)t(n);function t(n){e(n);for(const i of n.groups)for(const a of i.items)yA(a)&&t(a)}}function j4(r){return typeof r=="object"&&"menu"in r}function P4(r){return typeof r=="object"&&"group"in r}function O4(r){return r.startsWith("start")?"start":r.startsWith("end")?"end":r.startsWith("after")?"after":"before"}function L4(r){const e=r.match(/^[^:]+:(.+)/);return e?e[1]:null}function CA(r){return typeof r=="string"?r:r.menuId}function yA(r){return typeof r=="object"&&"menuId"in r}function R4(r,e){const t=e.element;r.ui.focusTracker.add(t),r.keystrokes.listenTo(t);const n=function(i){let a;return a="items"in i&&i.items?_A({items:i.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},i):_A({items:Kn(N4),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},i),a}(r.config.get("menuBar")||{});e.fillFromConfig(n,r.ui.componentFactory),r.keystrokes.set("Esc",(i,a)=>{t.contains(r.ui.focusTracker.focusedElement)&&(r.editing.view.focus(),a())}),r.keystrokes.set("Alt+F9",(i,a)=>{t.contains(r.ui.focusTracker.focusedElement)||(e.focus(),a())})}var xA=p(9108),z4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(xA.A,z4),xA.A.locals;class F4 extends ce{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",n=>`ck-menu-bar__menu__panel_position_${n}`),t.if("isVisible","ck-hidden",n=>!n)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var EA=p(4),V4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(EA.A,V4),EA.A.locals;const DA=class extends ce{constructor(r){super(r);const e=this.bindTemplate;this.buttonView=new E4(r),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new F4(r),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Ut,this.focusTracker=new At,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("parentMenuView","ck-menu-bar__menu_top-level",t=>!t)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),oo.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(oo.openOnButtonClick(this),oo.openOnArrowRightKey(this),oo.closeOnArrowLeftKey(this),oo.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),oo.openAndFocusPanelOnArrowDownKey(this),oo.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(r,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(r,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(r,e,t)=>{if(!t)return;const n=DA._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=n?n.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:r,southWest:e,northEast:t,northWest:n,westSouth:i,eastSouth:a,westNorth:c,eastNorth:d}=M4;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[a,d,i,c]:[r,e,t,n]:this.parentMenuView?[i,c,a,d]:[e,r,n,t]}};let ss=DA;ss._getOptimalPosition=fc;class Kp extends Rp{constructor(e){super(e),this.role="menu"}}var SA=p(977),U4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(SA.A,U4),SA.A.locals;class bn extends Ne{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class TA extends a0{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var IA=p(497),H4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(IA.A,H4),IA.A.locals;const MA=["mouseenter","arrowleft","arrowright","change:isOpen"];class $4 extends ce{constructor(e){super(e),this.menus=[];const t=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t){const n=B4({normalizedConfig:e,locale:this.locale,componentFactory:t}).items.map(i=>this._createMenu({componentFactory:t,menuDefinition:i}));this.children.addMany(n)}render(){super.render(),Na.toggleMenusAndFocusItemsOnHover(this),Na.closeMenusWhenTheBarCloses(this),Na.closeMenuWhenAnotherOnTheSameLevelOpens(this),Na.focusCycleMenusOnArrows(this),Na.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...MA).to(t),e.parentMenuView=t):e.delegate(...MA).to(this,n=>"menu:"+n),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:n}){const i=this.locale,a=new ss(i);return this.registerMenu(a,n),a.buttonView.set({label:t.label}),a.once("change:isOpen",()=>{const c=new Kp(i);c.ariaLabel=t.label,a.panelView.children.add(c),c.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:a,componentFactory:e}))}),a}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:n}){const i=this.locale,a=[];for(const c of e.groups){for(const d of c.items){const h=new Wp(i,t);if(Se(d))h.children.add(this._createMenu({componentFactory:n,menuDefinition:d,parentMenuView:t}));else{const m=this._createMenuItemContentFromFactory({componentName:d,componentFactory:n,parentMenuView:t});if(!m)continue;h.children.add(m)}a.push(h)}c!==e.groups[e.groups.length-1]&&a.push(new Lp(i))}return a}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:n}){const i=n.create(e);return i instanceof ss||i instanceof bn||i instanceof TA?(this._registerMenuTree(i,t),i.on("execute",()=>{this.close()}),i):($("menu-bar-component-unsupported",{componentName:e,componentView:i}),null)}_registerMenuTree(e,t){if(!(e instanceof ss))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const n=e.panelView.children.filter(a=>a instanceof Kp)[0];if(!n)return void e.delegate("mouseenter").to(t);const i=n.items.filter(a=>a instanceof rs);for(const a of i)this._registerMenuTree(a.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,n,i)=>{clearTimeout(e),i?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(a=>a.isOpen)},0)})}}class q4 extends e4{constructor(e,t){super(e),this.view=t,this._toolbarConfig=b0(e.config.get("toolbar")),this._elementReplacer=new Dk,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,i=t.editing.view,a=n.editable,c=i.document.getRoot();a.name=c.rootName,n.render();const d=a.element;this.setEditableElement(a.name,d),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(d),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&R4(t,n.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),i=e.sourceElement;let a;const c=e.config.get("placeholder");c&&(a=typeof c=="string"?c:c[this.view.editable.name]),!a&&i&&i.tagName.toLowerCase()==="textarea"&&(a=i.getAttribute("placeholder")),a&&(n.placeholder=a),tw({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const i=this.view.stickyPanel;if(i.isSticky){const a=new Ce(i.element).height;t.viewportOffset.top+=a}else{const a=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(i,"change:isSticky",a),setTimeout(()=>{this.stopListening(i,"change:isSticky",a)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const n=t.view;n.on("moveTo",(i,a)=>{if(!e.isSticky||n.wasMoved)return;const c=new Ce(e.contentPanelElement);a[1]<c.bottom+Kc.defaultOffset&&(a[1]=c.bottom+Kc.defaultOffset)},{priority:"high"})},{priority:"low"})}}var NA=p(7388),W4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(NA.A,W4),NA.A.locals;class G4 extends r4{constructor(e,t,n={}){super(e),this.stickyPanel=new u4(e),this.toolbar=new Op(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new $4(e)),this.editable=new o4(e,t)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class BA{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const i of n)i.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Yp(r,e=new Set){const t=[r],n=new Set;let i=0;for(;t.length>i;){const a=t[i++];if(!n.has(a)&&K4(a)&&!e.has(a))if(n.add(a),Symbol.iterator in a)try{for(const c of a)t.push(c)}catch{}else for(const c in a)c!=="defaultValue"&&t.push(a[c])}return n}function K4(r){const e=Object.prototype.toString.call(r),t=typeof r;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||r==null||r._watchdogExcluded||r instanceof EventTarget||r instanceof Event)}function jA(r,e,t=new Set){if(r===e&&typeof(n=r)=="object"&&n!==null)return!0;var n;const i=Yp(r,t),a=Yp(e,t);for(const c of i)if(a.has(c))return!0;return!1}var Y4=Object.defineProperty,Q4=Object.defineProperties,J4=Object.getOwnPropertyDescriptors,Xc=Object.getOwnPropertySymbols,PA=Object.prototype.hasOwnProperty,OA=Object.prototype.propertyIsEnumerable,LA=(r,e,t)=>e in r?Y4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qp=(r,e)=>{for(var t in e||(e={}))PA.call(e,t)&&LA(r,t,e[t]);if(Xc)for(var t of Xc(e))OA.call(e,t)&&LA(r,t,e[t]);return r};class RA extends BA{constructor(e,t={}){super(t),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Qc(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,i)=>e.create(n,i)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},i={};for(const[h,m]of Object.entries(this._data.roots))m.isLoaded?(e[h]="",i[h]=n[h]||{}):t.push(h);const a=(c=Qp({},this._config),d={extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:i,_watchdogInitialData:this._data},Q4(c,J4(d)));var c,d;return delete a.initialData,a.extraPlugins.push(Z4),this._initUsingData?this.create(e,a,a.context):Ki(this._elementOrData)?this.create(this._elementOrData,a,a.context):this.create(this._editables,a,a.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(i=>{this._editor=i,i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=i.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(d=>d.isAttached()&&d.rootName!="$graveyard"),{plugins:n}=e,i=n.has("CommentsRepository")&&n.get("CommentsRepository"),a=n.has("TrackChanges")&&n.get("TrackChanges"),c={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(d=>{c.roots[d.rootName]={content:JSON.stringify(Array.from(d.getChildren())),attributes:JSON.stringify(Array.from(d.getAttributes())),isLoaded:d._isLoaded}});for(const d of e.model.markers)d._affectsData&&(c.markers[d.name]={rangeJSON:d.getRange().toJSON(),usingOperation:d._managedUsingOperations,affectsData:d._affectsData});return i&&(c.commentThreads=JSON.stringify(i.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),a&&(c.suggestions=JSON.stringify(a.getSuggestions({toJSON:!0,skipNotAttached:!0}))),c}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return jA(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Fh(e,(t,n)=>Ki(t)||n==="context"?t:void 0)}}class Z4{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const i of t.children)n._appendChild(this._createNode(e,i));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:i,attributes:a}])=>{const c=JSON.parse(i),d=JSON.parse(a),h=t.model.document.getRoot(n);for(const[m,f]of d)e.setAttribute(m,f,h);for(const m of c){const f=this._createNode(e,m);e.insert(f,h,"end")}}),Object.entries(this._data.markers).forEach(([n,i])=>{const{document:a}=t.model,c=i,{rangeJSON:{start:d,end:h}}=c,m=((S,I)=>{var P={};for(var z in S)PA.call(S,z)&&I.indexOf(z)<0&&(P[z]=S[z]);if(S!=null&&Xc)for(var z of Xc(S))I.indexOf(z)<0&&OA.call(S,z)&&(P[z]=S[z]);return P})(c,["rangeJSON"]),f=a.getRoot(d.root),w=e.createPositionFromPath(f,d.path,d.stickiness),v=e.createPositionFromPath(f,h.path,h.stickiness),x=e.createRange(w,v);e.addMarker(n,Qp({range:x},m))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const i=this.editor.config.get("collaboration.channelId"),a=this.editor.plugins.get("CommentsRepository");a.hasCommentThread(n.threadId)&&a.getCommentThread(n.threadId).remove(),a.addCommentThread(Qp({channelId:i},n))}),t.forEach(n=>{const i=this.editor.plugins.get("TrackChangesEditing");i.hasSuggestion(n.id)?i.getSuggestion(n.id).attributes=n.attributes:i.addSuggestionData(n)})}}const Ba=Symbol("MainQueueId");class X4{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Ba;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const i=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Ba),this._queues.get(e)])).then(t),a=i.catch(()=>{});return this._queues.set(e,a),i.finally(()=>{this._activeActions--,this._queues.get(e)===a&&this._activeActions===0&&this._onEmptyCallbacks.forEach(c=>c())})}}function zA(r){return Array.isArray(r)?r:[r]}class ed extends Np(PN){constructor(e,t={}){if(!td(e)&&t.initialData!==void 0)throw new M("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(c){return td(c)?(d=c,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):c;var d}(e)),td(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=this.config.get("menuBar"),a=new G4(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:i.isVisible});this.ui=new q4(this,a),function(c){if(!ur(c.updateSourceElement))throw new M("attachtoform-missing-elementapi-interface",c);const d=c.sourceElement;if(function(h){return!!h&&h.tagName.toLowerCase()==="textarea"}(d)&&d.form){let h;const m=d.form,f=()=>c.updateSourceElement();ur(m.submit)&&(h=m.submit,m.submit=()=>{f(),h.apply(m)}),m.addEventListener("submit",f),c.on("destroy",()=>{m.removeEventListener("submit",f),h&&(m.submit=h)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const i=new this(e,t);n(i.initPlugins().then(()=>i.ui.init(td(e)?e:null)).then(()=>i.data.init(i.config.get("initialData"))).then(()=>i.fire("ready")).then(()=>i))})}}function td(r){return Ki(r)}ed.Context=Zb,ed.EditorWatchdog=RA,ed.ContextWatchdog=class extends BA{constructor(r,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new X4,this._watchdogConfig=e,this._creator=t=>r.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(r){this._creator=r}setDestructor(r){this._destructor=r}get context(){return this._context}create(r={}){return this._actionQueues.enqueue(Ba,()=>(this._contextConfig=r,this._create()))}getItem(r){return this._getWatchdog(r)._item}getItemState(r){return this._getWatchdog(r).state}add(r){const e=zA(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let n;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return n=new RA(null,this._watchdogConfig),n.setCreator(t.creator),n._setExcludedProperties(this._contextProps),t.destructor&&n.setDestructor(t.destructor),this._watchdogs.set(t.id,n),n.on("error",(i,{error:a,causesRestart:c})=>{this._fire("itemError",{itemId:t.id,error:a}),c&&this._actionQueues.enqueue(t.id,()=>new Promise(d=>{const h=()=>{n.off("restart",h),this._fire("itemRestart",{itemId:t.id}),d()};n.on("restart",h)}))}),n.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(r){const e=zA(r);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const n=this._getWatchdog(t);return this._watchdogs.delete(t),n.destroy()})))}destroy(){return this._actionQueues.enqueue(Ba,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Ba,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(r=>{console.error("An error happened during destroying the context or items.",r)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(r=>(this._context=r,this._contextProps=Yp(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const r=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(r))})}_getWatchdog(r){const e=this._watchdogs.get(r);if(!e)throw new Error(`Item with the given id was not registered: ${r}.`);return e}_isErrorComingFromThisItem(r){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(r))return!1;return jA(this._context,r.context)}};class ja extends ai{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function n(i){return(a,c)=>{c.preventDefault();const d=c.dropRange?[c.dropRange]:null,h=new N(t,i);t.fire(h,{dataTransfer:c.dataTransfer,method:a.name,targetRanges:d,target:c.target,domEvent:c.domEvent}),h.stop.called&&c.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",i={dataTransfer:new Ow(t,{cacheFiles:n})};e.type!="drop"&&e.type!="dragover"||(i.dropRange=function(a,c){const d=c.target.ownerDocument,h=c.clientX,m=c.clientY;let f;return d.caretRangeFromPoint&&d.caretRangeFromPoint(h,m)?f=d.caretRangeFromPoint(h,m):c.rangeParent&&(f=d.createRange(),f.setStart(c.rangeParent,c.rangeOffset),f.collapse(!0)),f?a.domConverter.domRangeToView(f):null}(this.view,e)),this.fire(e.type,e,i)}}const FA=["figcaption","li"],VA=["ol","ul"];function UA(r){if(r.is("$text")||r.is("$textProxy"))return r.data;if(r.is("element","img")&&r.hasAttribute("alt"))return r.getAttribute("alt");if(r.is("element","br"))return`
`;let e="",t=null;for(const n of r.getChildren())e+=ej(n,t)+UA(n),t=n;return e}function ej(r,e){return e?r.is("element","li")&&!r.isEmpty&&r.getChild(0).is("containerElement")||VA.includes(r.name)&&VA.includes(e.name)?`

`:r.is("containerElement")||e.is("containerElement")?FA.includes(r.name)||FA.includes(e.name)?`
`:`

`:"":""}const tj=function(r,e){return r&&Ib(r,e,da)},nj=function(r,e,t,n){var i=t.length,a=i;if(r==null)return!a;for(r=Object(r);i--;){var c=t[i];if(c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++i<a;){var d=(c=t[i])[0],h=r[d],m=c[1];if(c[2]){if(h===void 0&&!(d in r))return!1}else{var f=new Vo,w;if(!(w===void 0?jc(m,h,3,n,f):w))return!1}}return!0},HA=function(r){return r==r&&!Se(r)},rj=function(r){for(var e=da(r),t=e.length;t--;){var n=e[t],i=r[n];e[t]=[n,i,HA(i)]}return e},$A=function(r,e){return function(t){return t!=null&&t[r]===e&&(e!==void 0||r in Object(t))}},ij=function(r){var e=rj(r);return e.length==1&&e[0][2]?$A(e[0][0],e[0][1]):function(t){return t===r||nj(t,r,e)}},oj=function(r,e){return r!=null&&e in Object(r)},sj=function(r,e,t){for(var n=-1,i=(e=xc(e,r)).length,a=!1;++n<i;){var c=Ko(e[n]);if(!(a=r!=null&&t(r,c)))break;r=r[c]}return a||++n!=i?a:!!(i=r==null?0:r.length)&&Dh(i)&&dc(c,i)&&(zt(r)||cc(r))},aj=function(r,e){return r!=null&&sj(r,e,oj)},lj=function(r,e){return ep(r)&&HA(e)?$A(Ko(r),e):function(t){var n=ka(t,r);return n===void 0&&n===e?aj(t,r):jc(e,n,3)}},cj=function(r){return function(e){return e==null?void 0:e[r]}},dj=function(r){return function(e){return rp(e,r)}},uj=function(r){return ep(r)?cj(Ko(r)):dj(r)},hj=function(r){return typeof r=="function"?r:r==null?si:typeof r=="object"?zt(r)?lj(r[0],r[1]):ij(r):uj(r)},pj=function(r,e){var t={};return e=hj(e),tj(r,function(n,i,a){lc(t,i,e(n,i,a))}),t};var mj=Object.defineProperty,gj=Object.defineProperties,fj=Object.getOwnPropertyDescriptors,qA=Object.getOwnPropertySymbols,kj=Object.prototype.hasOwnProperty,bj=Object.prototype.propertyIsEnumerable,WA=(r,e,t)=>e in r?mj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Pa extends J{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,n=i=>i.model.getSelectedContent(i.model.document.selection)){return this.editor.model.change(i=>{const a=i.model.document.selection;i.setSelection(t);const c=this._insertFakeMarkersIntoSelection(i,i.model.document.selection,e),d=n(i),h=this._removeFakeMarkersInsideElement(i,d);for(const[m,f]of Object.entries(c)){h[m]||(h[m]=i.createRangeIn(d));for(const w of f)i.remove(w)}d.markers.clear();for(const[m,f]of Object.entries(h))d.markers.set(m,f);return i.setSelection(a),d})}_pasteMarkersIntoTransformedElement(e,t){const n=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(i=>{const a=this._insertFakeMarkersElements(i,n),c=t(i),d=this._removeFakeMarkersInsideElement(i,c);for(const h of Object.values(a).flat())i.remove(h);for(const[h,m]of Object.entries(d))i.model.markers.has(h)||i.addMarker(h,{usingOperation:!0,affectsData:!0,range:m});return c})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const n of t)e.markers.set(n.name,n.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,n={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const i=this._markersToCopy.get(e);this._markersToCopy.set(e,n),t(),i?this._markersToCopy.set(e,i):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const n=this._getMarkerClipboardConfig(e);if(!n)return!1;if(!t)return!0;const{allowedActions:i}=n;return i==="all"||i.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,n){const i=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,i)}_getCopyableMarkersFromSelection(e,t,n){const i=Array.from(t.getRanges()),a=new Set(i.flatMap(c=>Array.from(e.model.markers.getMarkersIntersectingRange(c))));return Array.from(a).filter(c=>{if(!this._isMarkerCopyable(c.name,n))return!1;const{copyPartiallySelected:d}=this._getMarkerClipboardConfig(c.name);if(!d){const h=c.getRange();return i.some(m=>m.containsRange(h,!0))}return!0}).map(c=>({name:n==="dragstart"?this._getUniqueMarkerName(c.name):c.name,range:c.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:n}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([i,a])=>{if(!this._hasMarkerConfiguration(i))return[{name:i,range:a}];if(this._isMarkerCopyable(i,t)){const c=this._getMarkerClipboardConfig(i),d=n.markers.has(i)&&n.markers.get(i).getRange().root.rootName==="$graveyard";return(c.duplicateOnPaste||d)&&(i=this._getUniqueMarkerName(i)),[{name:i,range:a}]}return[]})}_insertFakeMarkersElements(e,t){const n={},i=t.flatMap(a=>{const{start:c,end:d}=a.range;return[{position:c,marker:a,type:"start"},{position:d,marker:a,type:"end"}]}).sort(({position:a},{position:c})=>a.isBefore(c)?1:-1);for(const{position:a,marker:c,type:d}of i){const h=e.createElement("$marker",{"data-name":c.name,"data-type":d});n[c.name]||(n[c.name]=[]),n[c.name].push(h),e.insert(h,a)}return n}_removeFakeMarkersInsideElement(e,t){const n=this._getAllFakeMarkersFromElement(e,t).reduce((i,a)=>{const c=a.markerElement&&e.createPositionBefore(a.markerElement);let d=i[a.name],h=!1;d&&d.start&&d.end&&(this._getMarkerClipboardConfig(a.name).duplicateOnPaste?i[this._getUniqueMarkerName(a.name)]=i[a.name]:h=!0,d=null);var m,f;return h||(i[a.name]=(m=((w,v)=>{for(var x in v||(v={}))kj.call(v,x)&&WA(w,x,v[x]);if(qA)for(var x of qA(v))bj.call(v,x)&&WA(w,x,v[x]);return w})({},d),f={[a.type]:c},gj(m,fj(f)))),a.markerElement&&e.remove(a.markerElement),i},{});return pj(n,i=>new G(i.start||e.createPositionFromPath(t,[0]),i.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap(({item:c})=>{if(!c.is("element","$marker"))return[];const d=c.getAttribute("data-name"),h=c.getAttribute("data-type");return[{markerElement:c,name:d,type:h}]}),i=[],a=[];for(const c of n)c.type==="end"&&(n.some(d=>d.name===c.name&&d.type==="start")||i.push({markerElement:null,name:c.name,type:"start"})),c.type==="start"&&(n.some(d=>d.name===c.name&&d.type==="end")||a.unshift({markerElement:null,name:c.name,type:"end"}));return[...i,...n,...a]}_getUniqueMarkerName(e){const t=e.split(":"),n=R().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class Nn extends J{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Pa]}init(){this.editor.editing.view.addObserver(ja),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const i=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:n==="cut"},()=>{const a=i._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:a,method:n})})}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,a=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(i,"clipboardInput",(c,d)=>{d.method!="paste"||e.model.canEditAt(e.model.document.selection)||c.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(c,d)=>{const h=d.dataTransfer;let m;if(d.content)m=d.content;else{let v="";h.getData("text/html")?v=function(x){return x.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(S,I)=>I.length==1?" ":I).replace(/<!--[\s\S]*?-->/g,"")}(h.getData("text/html")):h.getData("text/plain")&&(((f=(f=h.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||f.includes("<br>"))&&(f=`<p>${f}</p>`),v=f),m=this.editor.data.htmlProcessor.toView(v)}var f;const w=new N(this,"inputTransformation");this.fire(w,{content:m,dataTransfer:h,targetRanges:d.targetRanges,method:d.method}),w.stop.called&&c.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(c,d)=>{if(d.content.isEmpty)return;const h=this.editor.data.toModel(d.content,"$clipboardHolder");h.childCount!=0&&(c.stop(),t.change(()=>{this.fire("contentInsertion",{content:h,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(c,d)=>{d.resultRange=a._pasteFragmentWithMarkers(d.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,i=(a,c)=>{const d=c.dataTransfer;c.preventDefault(),this._fireOutputTransformationEvent(d,t.selection,a.name)};this.listenTo(n,"copy",i,{priority:"low"}),this.listenTo(n,"cut",(a,c)=>{e.model.canEditAt(e.model.document.selection)?i(a,c):c.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(a,c)=>{const d=e.data.toView(c.content);n.fire("clipboardOutput",{dataTransfer:c.dataTransfer,content:d,method:c.method})},{priority:"low"}),this.listenTo(n,"clipboardOutput",(a,c)=>{c.content.isEmpty||(c.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(c.content)),c.dataTransfer.setData("text/plain",UA(c.content))),c.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class GA{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,i)=>{i.isLocal&&i.isUndoable&&i!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class wj extends Ae{constructor(e,t){super(e),this._buffer=new GA(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,i=e.text||"",a=i.length;let c=n.selection;if(e.selection?c=e.selection:e.range&&(c=t.createSelection(e.range)),!t.canEditAt(c))return;const d=e.resultRange;t.enqueueChange(this._buffer.batch,h=>{this._buffer.lock();const m=Array.from(n.selection.getAttributes());t.deleteContent(c),i&&t.insertContent(h.createText(i,m),c),d?h.setSelection(d):c.is("documentSelection")||h.setSelection(c),this._buffer.unlock(),this._buffer.input(a)})}}const KA=["insertText","insertReplacementText"];class _j extends fr{constructor(e){super(e),this.focusObserver=e.getObserver(Pc),E.isAndroid&&KA.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,i)=>{if(!this.isEnabled)return;const{data:a,targetRanges:c,inputType:d,domEvent:h}=i;if(!KA.includes(d))return;this.focusObserver.flush();const m=new N(t,"insertText");t.fire(m,new Zo(e,h,{text:a,selection:e.createSelection(c)})),m.stop.called&&n.stop()}),t.on("compositionend",(n,{data:i,domEvent:a})=>{this.isEnabled&&!E.isAndroid&&i&&t.fire("insertText",new Zo(e,a,{text:i,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class YA extends J{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,i=t.document.selection;n.addObserver(_j);const a=new wj(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",a),e.commands.add("input",a),this.listenTo(n.document,"insertText",(c,d)=>{n.document.isComposing||d.preventDefault();const{text:h,selection:m,resultRange:f}=d,w=Array.from(m.getRanges()).map(S=>e.editing.mapper.toModelRange(S));let v=h;if(E.isAndroid){const S=Array.from(w[0].getItems()).reduce((I,P)=>I+(P.is("$textProxy")?P.data:""),"");S&&(S.length<=v.length?v.startsWith(S)&&(v=v.substring(S.length),w[0].start=w[0].start.getShiftedBy(S.length)):S.startsWith(v)&&(w[0].start=w[0].start.getShiftedBy(v.length),v=""))}const x={text:v,selection:t.createSelection(w)};f&&(x.resultRange=e.editing.mapper.toModelRange(f)),e.execute("insertText",x),n.scrollToTheSelection()}),E.isAndroid?this.listenTo(n.document,"keydown",(c,d)=>{!i.isCollapsed&&d.keyCode==229&&n.document.isComposing&&QA(t,a)}):this.listenTo(n.document,"compositionstart",()=>{i.isCollapsed||QA(t,a)})}}function QA(r,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),r.enqueueChange(t.batch,()=>{r.deleteContent(r.document.selection)}),t.unlock()}class JA extends Ae{constructor(e,t){super(e),this.direction=t,this._buffer=new GA(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const a=i.createSelection(e.selection||n.selection);if(!t.canEditAt(a))return;const c=e.sequence||1,d=a.isCollapsed;if(a.isCollapsed&&t.modifySelection(a,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(c))return void this._replaceEntireContentWithParagraph(i);if(this._shouldReplaceFirstBlockWithParagraph(a,c))return void this.editor.execute("paragraph",{selection:a});if(a.isCollapsed)return;let h=0;a.getFirstRange().getMinimalFlatRanges().forEach(m=>{h+=Ql(m.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(a,{doNotResetEntireContent:d,direction:this.direction}),this._buffer.input(h),i.setSelection(a),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(i))||!t.schema.checkChild(i,"paragraph"))return!1;const a=i.getChild(0);return!a||!a.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n),a=e.createElement("paragraph");e.remove(e.createRangeIn(i)),e.insert(a,i),e.setSelection(a,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const i=e.getFirstPosition(),a=n.schema.getLimitElement(i),c=a.getChild(0);return i.parent==c&&!!e.containsEntireContent(c)&&!!n.schema.checkChild(a,"paragraph")&&c.name!="paragraph"}}const ZA="word",ci="selection",as="backward",Oa="forward",XA={deleteContent:{unit:ci,direction:as},deleteContentBackward:{unit:"codePoint",direction:as},deleteWordBackward:{unit:ZA,direction:as},deleteHardLineBackward:{unit:ci,direction:as},deleteSoftLineBackward:{unit:ci,direction:as},deleteContentForward:{unit:"character",direction:Oa},deleteWordForward:{unit:ZA,direction:Oa},deleteHardLineForward:{unit:ci,direction:Oa},deleteSoftLineForward:{unit:ci,direction:Oa}};class Aj extends fr{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(i,a)=>{if(!this.isEnabled)return;const{targetRanges:c,domEvent:d,inputType:h}=a,m=XA[h];if(!m)return;const f={direction:m.direction,unit:m.unit,sequence:n};f.unit==ci&&(f.selectionToRemove=e.createSelection(c[0])),h==="deleteContentBackward"&&(E.isAndroid&&(f.sequence=1),function(v){if(v.length!=1||v[0].isCollapsed)return!1;const x=v[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let S=0;for(const{nextPosition:I,item:P}of x){if(I.parent.is("$text")){const z=I.parent.data,F=I.offset;if(Gh(z,F)||Kh(z,F)||Pb(z,F))continue;S++}else(P.is("containerElement")||P.is("emptyElement"))&&S++;if(S>1)return!0}return!1}(c)&&(f.unit=ci,f.selectionToRemove=e.createSelection(c)));const w=new Yo(t,"delete",c[0]);t.fire(w,new Zo(e,d,f)),w.stop.called&&i.stop()}),E.isBlink&&function(i){const a=i.view,c=a.document;let d=null,h=!1;function m(w){return w==Te.backspace||w==Te.delete}function f(w){return w==Te.backspace?as:Oa}c.on("keydown",(w,{keyCode:v})=>{d=v,h=!1}),c.on("keyup",(w,{keyCode:v,domEvent:x})=>{const S=c.selection,I=i.isEnabled&&v==d&&m(v)&&!S.isCollapsed&&!h;if(d=null,I){const P=S.getFirstRange(),z=new Yo(c,"delete",P),F={unit:ci,direction:f(v),selectionToRemove:S};c.fire(z,new Zo(a,x,F))}}),c.on("beforeinput",(w,{inputType:v})=>{const x=XA[v];m(d)&&x&&x.direction==f(d)&&(h=!0)},{priority:"high"}),c.on("beforeinput",(w,{inputType:v,data:x})=>{d==Te.delete&&v=="insertText"&&x==""&&w.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Or extends J{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,i=e.model.document;t.addObserver(Aj),this._undoOnBackspace=!1;const a=new JA(e,"forward");e.commands.add("deleteForward",a),e.commands.add("forwardDelete",a),e.commands.add("delete",new JA(e,"backward")),this.listenTo(n,"delete",(c,d)=>{n.isComposing||d.preventDefault();const{direction:h,sequence:m,selectionToRemove:f,unit:w}=d,v=h==="forward"?"deleteForward":"delete",x={sequence:m};if(w=="selection"){const S=Array.from(f.getRanges()).map(I=>e.editing.mapper.toModelRange(I));x.selection=e.model.createSelection(S)}else x.unit=w;e.execute(v,x),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(c,d)=>{this._undoOnBackspace&&d.direction=="backward"&&d.sequence==1&&d.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),d.preventDefault(),c.stop())},{context:"$capture"}),this.listenTo(i,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class vj extends J{static get requires(){return[YA,Or]}static get pluginName(){return"Typing"}}function ev(r,e){let t=r.start;return{text:Array.from(r.getWalker({ignoreElementEnd:!1})).reduce((n,{item:i})=>i.is("$text")||i.is("$textProxy")?n+i.data:(t=e.createPositionAfter(i),""),""),range:e.createRange(t,r.end)}}class tv extends Le(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:n})=>{n&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,i=n.document.selection,a=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),{text:c,range:d}=ev(a,n),h=this.testCallback(c);if(!h&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!h,h){const m=Object.assign(t,{text:c,range:d});typeof h=="object"&&Object.assign(m,h),this.fire(`matched:${e}`,m)}}}class nv extends J{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,t=e.model,n=e.editing.view,i=e.locale,a=t.document.selection;this.listenTo(n.document,"arrowKey",(c,d)=>{if(!a.isCollapsed||d.shiftKey||d.altKey||d.ctrlKey)return;const h=d.keyCode==Te.arrowright,m=d.keyCode==Te.arrowleft;if(!h&&!m)return;const f=i.contentLanguageDirection;let w=!1;w=f==="ltr"&&h||f==="rtl"&&m?this._handleForwardMovement(d):this._handleBackwardMovement(d),w===!0&&c.stop()},{context:"$text",priority:"highest"}),this.listenTo(a,"change:range",(c,d)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!d.directChange&&Bn(a.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,i=n.document.selection,a=i.getFirstPosition();return!this._isGravityOverridden&&(!a.isAtStart||!Lr(i,t))&&!!Bn(a,t)&&(Ra(e),Lr(i,t)&&Bn(a,t,!0)?La(n,t):this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,i=n.document.selection,a=i.getFirstPosition();return this._isGravityOverridden?(Ra(e),this._restoreGravity(),Bn(a,t,!0)?La(n,t):nd(n,t,a),!0):a.isAtStart?!!Lr(i,t)&&(Ra(e),nd(n,t,a),!0):!Lr(i,t)&&Bn(a,t,!0)?(Ra(e),nd(n,t,a),!0):!!rv(a,t)&&(a.isAtEnd&&!Lr(i,t)&&Bn(a,t)?(Ra(e),nd(n,t,a),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view.document;e.editing.view.addObserver(Ip);let a=!1;this.listenTo(i,"mousedown",()=>{a=!0}),this.listenTo(i,"selectionChange",()=>{const c=this.attributes;if(!a||(a=!1,!n.isCollapsed)||!Lr(n,c))return;const d=n.getFirstPosition();Bn(d,c)&&(d.isAtStart||Bn(d,c,!0)?La(t,c):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",()=>{const i=t.getFirstPosition();Lr(t,n)&&Bn(i,n)&&La(e,n)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view;let a=!1,c=!1;this.listenTo(i.document,"delete",(d,h)=>{a=h.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!a)return;const d=n.getFirstPosition();c=Lr(n,this.attributes)&&!rv(d,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{a&&(a=!1,c||e.model.enqueueChange(()=>{const d=n.getFirstPosition();Lr(n,this.attributes)&&Bn(d,this.attributes)&&(d.isAtStart||Bn(d,this.attributes,!0)?La(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Lr(r,e){for(const t of e)if(r.hasAttribute(t))return!0;return!1}function nd(r,e,t){const n=t.nodeBefore;r.change(i=>{if(n){const a=[],c=r.schema.isObject(n)&&r.schema.isInline(n);for(const[d,h]of n.getAttributes())!r.schema.checkAttribute("$text",d)||c&&r.schema.getAttributeProperties(d).copyFromObject===!1||a.push([d,h]);i.setSelectionAttribute(a)}else i.removeSelectionAttribute(e)})}function La(r,e){r.change(t=>{t.removeSelectionAttribute(e)})}function Ra(r){r.preventDefault()}function rv(r,e){return Bn(r.getShiftedBy(-1),e)}function Bn(r,e,t=!1){const{nodeBefore:n,nodeAfter:i}=r;for(const a of e){const c=n?n.getAttribute(a):void 0,d=i?i.getAttribute(a):void 0;if((!t||c!==void 0&&d!==void 0)&&d!==c)return!0}return!1}const iv={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:ls('"'),to:[null,"",null,""]},quotesSecondary:{from:ls("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:ls("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:ls('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:ls('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:ls("'"),to:[null,"",null,""]}},ov={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Cj=["symbols","mathematical","typography","quotes"];function yj(r){return typeof r=="string"?new RegExp(`(${aA(r)})$`):r}function xj(r){return typeof r=="string"?()=>[r]:r instanceof Array?()=>r:r}function Ej(r){return(r.textNode?r.textNode:r.nodeAfter).getAttributes()}function ls(r){return new RegExp(`(^|\\s)(${r})([^${r}]*)(${r})$`)}function rd(r,e,t,n){return n.createRange(sv(r,e,t,!0,n),sv(r,e,t,!1,n))}function sv(r,e,t,n,i){let a=r.textNode||(n?r.nodeBefore:r.nodeAfter),c=null;for(;a&&a.getAttribute(e)==t;)c=a,a=n?a.previousSibling:a.nextSibling;return c?i.createPositionAt(c,n?"before":"after"):r}function*av(r,e){for(const t of e)t&&r.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class Dj extends Ae{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,i=t.schema,a=n.isCollapsed,c=n.getFirstRange(),d=c.start.parent,h=c.end.parent;if(i.isLimit(d)||i.isLimit(h))return a||d!=h||t.deleteContent(n),!1;if(a){const m=av(e.model.schema,n.getAttributes());return lv(e,c.start),e.setSelectionAttribute(m),!0}{const m=!(c.start.isAtStart&&c.end.isAtEnd),f=d==h;if(t.deleteContent(n,{leaveUnmerged:m}),m){if(f)return lv(e,n.focus),!0;e.setSelection(h,0)}}return!1}}function lv(r,e){r.split(e),r.setSelection(e.parent.nextSibling,0)}const Sj={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class cv extends fr{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(i,a)=>{n=a.shiftKey}),t.on("beforeinput",(i,a)=>{if(!this.isEnabled)return;let c=a.inputType;E.isSafari&&n&&c=="insertParagraph"&&(c="insertLineBreak");const d=a.domEvent,h=Sj[c];if(!h)return;const m=new Yo(t,"enter",a.targetRanges[0]);t.fire(m,new Zo(e,d,{isSoft:h.isSoft})),m.stop.called&&i.stop()})}observe(){}stopObserving(){}}class id extends J{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document,i=this.editor.t;t.addObserver(cv),e.commands.add("enter",new Dj(e)),this.listenTo(n,"enter",(a,c)=>{n.isComposing||c.preventDefault(),c.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class Tj extends Ae{execute(){const e=this.editor.model,t=e.document;e.change(n=>{(function(i,a,c){const d=c.isCollapsed,h=c.getFirstRange(),m=h.start.parent,f=h.end.parent,w=m==f;if(d){const v=av(i.schema,c.getAttributes());dv(i,a,h.end),a.removeSelectionAttribute(c.getAttributeKeys()),a.setSelectionAttribute(v)}else{const v=!(h.start.isAtStart&&h.end.isAtEnd);i.deleteContent(c,{leaveUnmerged:v}),w?dv(i,a,c.focus):v&&a.setSelection(f,0)}})(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(n,i){if(i.rangeCount>1)return!1;const a=i.anchor;if(!a||!n.checkChild(a,"softBreak"))return!1;const c=i.getFirstRange(),d=c.start.parent,h=c.end.parent;return!((Jp(d,n)||Jp(h,n))&&d!==h)}(e.schema,t.selection)}}function dv(r,e,t){const n=e.createElement("softBreak");r.insertContent(n,t),e.setSelection(n,"after")}function Jp(r,e){return!r.is("rootElement")&&(e.isLimit(r)||Jp(r.parent,e))}class Ij extends J{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,i=e.editing.view,a=i.document,c=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:h})=>h.createEmptyElement("br")}),i.addObserver(cv),e.commands.add("shiftEnter",new Tj(e)),this.listenTo(a,"enter",(d,h)=>{a.isComposing||h.preventDefault(),h.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:c("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class Mj extends Z(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,i=n[0];this._insertDescriptor(e);const a=n[0];i===a||Zp(i,a)||this.fire("change:top",{oldDescriptor:i,newDescriptor:a,writer:t})}remove(e,t){const n=this._stack,i=n[0];this._removeDescriptor(e);const a=n[0];i===a||Zp(i,a)||this.fire("change:top",{oldDescriptor:i,newDescriptor:a,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(a=>a.id===e.id);if(Zp(e,t[n]))return;n>-1&&t.splice(n,1);let i=0;for(;t[i]&&Nj(t[i],e);)i++;t.splice(i,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(i=>i.id===e);n>-1&&t.splice(n,1)}}function Zp(r,e){return r&&e&&r.priority==e.priority&&od(r.classes)==od(e.classes)}function Nj(r,e){return r.priority>e.priority||!(r.priority<e.priority)&&od(r.classes)>od(e.classes)}function od(r){return Array.isArray(r)?r.sort().join(","):r}const Bj='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',jj="ck-widget",uv="ck-widget_selected";function dt(r){return!!r.is("element")&&!!r.getCustomProperty("widget")}function Xp(r,e,t={}){if(!r.is("containerElement"))throw new M("widget-to-widget-wrong-element-type",null,{element:r});return e.setAttribute("contenteditable","false",r),e.addClass(jj,r),e.setCustomProperty("widget",!0,r),r.getFillerOffset=Lj,e.setCustomProperty("widgetLabel",[],r),t.label&&function(n,i){n.getCustomProperty("widgetLabel").push(i)}(r,t.label),t.hasSelectionHandle&&function(n,i){const a=i.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(c){const d=this.toDomElement(c),h=new Br;return h.set("content",Bj),h.render(),d.appendChild(h.element),d});i.insert(i.createPositionAt(n,0),a),i.addClass(["ck-widget_with-selection-handle"],n)}(r,e),hv(r,e),r}function Pj(r,e,t){if(e.classes&&t.addClass(qe(e.classes),r),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],r)}function Oj(r,e,t){if(e.classes&&t.removeClass(qe(e.classes),r),e.attributes)for(const n in e.attributes)t.removeAttribute(n,r)}function hv(r,e,t=Pj,n=Oj){const i=new Mj;i.on("change:top",(a,c)=>{c.oldDescriptor&&n(r,c.oldDescriptor,c.writer),c.newDescriptor&&t(r,c.newDescriptor,c.writer)}),e.setCustomProperty("addHighlight",(a,c,d)=>i.add(c,d),r),e.setCustomProperty("removeHighlight",(a,c,d)=>i.remove(c,d),r)}function pv(r,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),e.setAttribute("role","textbox",r),e.setAttribute("tabindex","-1",r),t.label&&e.setAttribute("aria-label",t.label,r),e.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(n,i,a)=>{e.setAttribute("contenteditable",a?"false":"true",r)}),r.on("change:isFocused",(n,i,a)=>{a?e.addClass("ck-editor__nested-editable_focused",r):e.removeClass("ck-editor__nested-editable_focused",r)}),hv(r,e),r}function mv(r,e){const t=r.getSelectedElement();if(t){const n=di(r);if(n)return e.createRange(e.createPositionAt(t,n))}return e.schema.findOptimalInsertionRange(r)}function Lj(){return null}const Rr="widget-type-around";function so(r,e,t){return!!r&&dt(r)&&!t.isInline(e)}function di(r){return r.getAttribute(Rr)}var gv=p(8508),Rj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(gv.A,Rj),gv.A.locals;const fv=["before","after"],zj=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,kv="ck-widget__type-around_disabled";class Fj extends J{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[id,Or]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,i,a)=>{t.change(c=>{for(const d of t.document.roots)a?c.removeClass(kv,d):c.addClass(kv,d)}),a||e.model.change(c=>{c.removeSelectionAttribute(Rr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,i=n.editing.view,a=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:a}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(e,t,n,i){this.listenTo(e,t,(...a)=>{this.isEnabled&&n(...a)},i)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=di(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(a,c,d)=>{const h=d.mapper.toViewElement(c.item);h&&so(h,c.item,t)&&(function(m,f,w){const v=m.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(x){const S=this.toDomElement(x);return function(I,P){for(const z of fv){const F=new qn({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${z}`],title:P[z],"aria-hidden":"true"},children:[I.ownerDocument.importNode(zj,!0)]});I.appendChild(F.render())}}(S,f),function(I){const P=new qn({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});I.appendChild(P.render())}(S),S});m.insert(m.createPositionAt(w,"end"),v)}(d.writer,i,h),h.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,i=t.schema,a=e.editing.view;function c(d){return`ck-widget_type-around_show-fake-caret_${d}`}this._listenToIfEnabled(a.document,"arrowKey",(d,h)=>{this._handleArrowKeyPress(d,h)},{context:[dt,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(d,h)=>{h.directChange&&e.model.change(m=>{m.removeSelectionAttribute(Rr)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const d=n.getSelectedElement();d&&so(e.editing.mapper.toViewElement(d),d,i)||e.model.change(h=>{h.removeSelectionAttribute(Rr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(d,h,m)=>{const f=m.writer;if(this._currentFakeCaretModelElement){const S=m.mapper.toViewElement(this._currentFakeCaretModelElement);S&&(f.removeClass(fv.map(c),S),this._currentFakeCaretModelElement=null)}const w=h.selection.getSelectedElement();if(!w)return;const v=m.mapper.toViewElement(w);if(!so(v,w,i))return;const x=di(h.selection);x&&(f.addClass(c(x),v),this._currentFakeCaretModelElement=w)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(d,h,m)=>{m||e.model.change(f=>{f.removeSelectionAttribute(Rr)})})}_handleArrowKeyPress(e,t){const n=this.editor,i=n.model,a=i.document.selection,c=i.schema,d=n.editing.view,h=function(w,v){const x=Hh(w,v);return x==="down"||x==="right"}(t.keyCode,n.locale.contentLanguageDirection),m=d.document.selection.getSelectedElement();let f;so(m,n.editing.mapper.toModelElement(m),c)?f=this._handleArrowKeyPressOnSelectedWidget(h):a.isCollapsed?f=this._handleArrowKeyPressWhenSelectionNextToAWidget(h):t.shiftKey||(f=this._handleArrowKeyPressWhenNonCollapsedSelection(h)),f&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=di(t.document.selection);return t.change(i=>n?n!==(e?"after":"before")?(i.removeSelectionAttribute(Rr),!0):!1:(i.setSelectionAttribute(Rr,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,i=n.schema,a=t.plugins.get("Widget"),c=a._getObjectElementNextToSelection(e);return!!so(t.editing.mapper.toViewElement(c),c,i)&&(n.change(d=>{a._setSelectionOverElement(c),d.setSelectionAttribute(Rr,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,i=n.schema,a=t.editing.mapper,c=n.document.selection,d=e?c.getLastPosition().nodeBefore:c.getFirstPosition().nodeAfter;return!!so(a.toViewElement(d),d,i)&&(n.change(h=>{h.setSelection(d,"on"),h.setSelectionAttribute(Rr,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,i)=>{const a=i.domTarget.closest(".ck-widget__type-around__button");if(!a)return;const c=function(m){return m.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(a),d=function(m,f){const w=m.closest(".ck-widget");return f.mapDomToView(w)}(a,t.domConverter),h=e.editing.mapper.toModelElement(d);this._insertParagraph(h,c),i.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(i,a)=>{if(i.eventPhase!="atTarget")return;const c=t.getSelectedElement(),d=e.editing.mapper.toViewElement(c),h=e.model.schema;let m;this._insertParagraphAccordingToFakeCaretPosition()?m=!0:so(d,c,h)&&(this._insertParagraph(c,a.isSoft?"before":"after"),m=!0),m&&(a.preventDefault(),i.stop())},{context:dt})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)},{priority:"high"}),E.isAndroid?this._listenToIfEnabled(e,"keydown",(t,n)=>{n.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,i=n.schema;this._listenToIfEnabled(t.document,"delete",(a,c)=>{if(a.eventPhase!="atTarget")return;const d=di(n.document.selection);if(!d)return;const h=c.direction,m=n.document.selection.getSelectedElement(),f=h=="forward";if(d==="before"===f)e.execute("delete",{selection:n.createSelection(m,"on")});else{const w=i.getNearestSelectionRange(n.createPositionAt(m,d),h);if(w)if(w.isCollapsed){const v=n.createSelection(w.start);if(n.modifySelection(v,{direction:h}),v.focus.isEqual(w.start)){const x=function(S,I){let P=I;for(const z of I.getAncestors({parentFirst:!0})){if(z.childCount>1||S.isLimit(z))break;P=z}return P}(i,w.start.parent);n.deleteContent(n.createSelection(x,"on"),{doNotAutoparagraph:!0})}else n.change(x=>{x.setSelection(w),e.execute(f?"deleteForward":"delete")})}else n.change(v=>{v.setSelection(w),e.execute(f?"deleteForward":"delete")})}c.preventDefault(),a.stop()},{context:dt})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(i,[a,c])=>{if(c&&!c.is("documentSelection"))return;const d=di(n);return d?(i.stop(),t.change(h=>{const m=n.getSelectedElement(),f=t.createPositionAt(m,d),w=h.createSelection(f),v=t.insertContent(a,w);return h.setSelection(w),v})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(n,i)=>{const[,a,c={}]=i;if(a&&!a.is("documentSelection"))return;const d=di(t);d&&(c.findOptimalPosition=d,i[3]=c)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(n,[i])=>{i&&!i.is("documentSelection")||di(t)&&n.stop()},{priority:"high"})}}function Vj(r){const e=r.model;return(t,n)=>{const i=n.keyCode==Te.arrowup,a=n.keyCode==Te.arrowdown,c=n.shiftKey,d=e.document.selection;if(!i&&!a)return;const h=a;if(c&&function(f,w){return!f.isCollapsed&&f.isBackward==w}(d,h))return;const m=function(f,w,v){const x=f.model;if(v){const S=w.isCollapsed?w.focus:w.getLastPosition(),I=bv(x,S,"forward");if(!I)return null;const P=x.createRange(S,I),z=wv(x.schema,P,"backward");return z?x.createRange(S,z):null}{const S=w.isCollapsed?w.focus:w.getFirstPosition(),I=bv(x,S,"backward");if(!I)return null;const P=x.createRange(I,S),z=wv(x.schema,P,"forward");return z?x.createRange(z,S):null}}(r,d,h);if(m){if(m.isCollapsed&&(d.isCollapsed||c))return;(m.isCollapsed||function(f,w,v){const x=f.model,S=f.view.domConverter;if(v){const W=x.createSelection(w.start);x.modifySelection(W),W.focus.isAtEnd||w.start.isEqual(W.focus)||(w=x.createRange(W.focus,w.end))}const I=f.mapper.toViewRange(w),P=S.viewRangeToDom(I),z=Ce.getDomRangeRects(P);let F;for(const W of z)if(F!==void 0){if(Math.round(W.top)>=F)return!1;F=Math.max(F,Math.round(W.bottom))}else F=Math.round(W.bottom);return!0}(r,m,h))&&(e.change(f=>{const w=h?m.end:m.start;if(c){const v=e.createSelection(d.anchor);v.setFocus(w),f.setSelection(v)}else f.setSelection(w)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function bv(r,e,t){const n=r.schema,i=r.createRangeIn(e.root),a=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:c,item:d,type:h}of i.getWalker({startPosition:e,direction:t})){if(n.isLimit(d)&&!n.isInline(d))return c;if(h==a&&n.isBlock(d))return null}return null}function wv(r,e,t){const n=t=="backward"?e.end:e.start;if(r.checkChild(n,"$text"))return n;for(const{nextPosition:i}of e.getWalker({direction:t}))if(r.checkChild(i,"$text"))return i;return null}var _v=p(695),Uj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(_v.A,Uj),_v.A.locals;class za extends J{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Fj,Or]}init(){const e=this.editor,t=e.editing.view,n=t.document,i=e.t;this.editor.editing.downcastDispatcher.on("selection",(a,c,d)=>{const h=d.writer,m=c.selection;if(m.isCollapsed)return;const f=m.getSelectedElement();if(!f)return;const w=e.editing.mapper.toViewElement(f);var v;dt(w)&&d.consumable.consume(m,"selection")&&h.setSelection(h.createRangeOn(w),{fake:!0,label:(v=w,v.getCustomProperty("widgetLabel").reduce((x,S)=>typeof S=="function"?x?x+". "+S():S():x?x+". "+S:S,""))})}),this.editor.editing.downcastDispatcher.on("selection",(a,c,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const h=d.writer,m=h.document.selection;let f=null;for(const w of m.getRanges())for(const v of w){const x=v.item;dt(x)&&!Hj(x,f)&&(h.addClass(uv,x),this._previouslySelected.add(x),f=x)}},{priority:"low"}),t.addObserver(Ip),this.listenTo(n,"mousedown",(...a)=>this._onMousedown(...a)),this.listenTo(n,"arrowKey",(...a)=>{this._handleSelectionChangeOnArrowKeyPress(...a)},{context:[dt,"$text"]}),this.listenTo(n,"arrowKey",(...a)=>{this._preventDefaultOnArrowKeyPress(...a)},{context:"$root"}),this.listenTo(n,"arrowKey",Vj(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(a,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),a.stop())},{context:"$root"}),this.listenTo(n,"tab",(a,c)=>{a.eventPhase=="atTarget"&&(c.shiftKey||this._selectFirstNestedEditable()&&(c.preventDefault(),a.stop()))},{context:dt,priority:"low"}),this.listenTo(n,"tab",(a,c)=>{c.shiftKey&&this._selectAncestorWidget()&&(c.preventDefault(),a.stop())},{priority:"low"}),this.listenTo(n,"keydown",(a,c)=>{c.keystroke==Te.esc&&this._selectAncestorWidget()&&(c.preventDefault(),a.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:i("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:i("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:i("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:i("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:i("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,i=n.editing.view,a=i.document;let c=t.target;if(t.domEvent.detail>=3)return void(this._selectBlockContent(c)&&t.preventDefault());if(function(h){let m=h;for(;m;){if(m.is("editableElement")&&!m.is("rootElement"))return!0;if(dt(m))return!1;m=m.parent}return!1}(c)||!dt(c)&&(c=c.findAncestor(dt),!c))return;E.isAndroid&&t.preventDefault(),a.isFocused||i.focus();const d=n.editing.mapper.toModelElement(c);this._setSelectionOverElement(d)}_selectBlockContent(e){const t=this.editor,n=t.model,i=t.editing.mapper,a=n.schema,c=i.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),d=function(h,m){for(const f of h.getAncestors({includeSelf:!0,parentFirst:!0})){if(m.checkChild(f,"$text"))return f;if(m.isLimit(f)&&!m.isObject(f))break}return null}(i.toModelElement(c),n.schema);return!!d&&(n.change(h=>{const m=a.isLimit(d)?null:function(v,x){const S=new Tr({startPosition:v});for(const{item:I}of S){if(x.isLimit(I)||!I.is("element"))return null;if(x.checkChild(I,"$text"))return I}return null}(h.createPositionAfter(d),a),f=h.createPositionAt(d,0),w=m?h.createPositionAt(m,0):h.createPositionAt(d,"end");h.setSelection(h.createRange(f,w))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,i=this.editor.model,a=i.schema,c=i.document.selection,d=c.getSelectedElement(),h=Hh(n,this.editor.locale.contentLanguageDirection),m=h=="down"||h=="right",f=h=="up"||h=="down";if(d&&a.isObject(d)){const v=m?c.getLastPosition():c.getFirstPosition(),x=a.getNearestSelectionRange(v,m?"forward":"backward");return void(x&&(i.change(S=>{S.setSelection(x)}),t.preventDefault(),e.stop()))}if(!c.isCollapsed&&!t.shiftKey){const v=c.getFirstPosition(),x=c.getLastPosition(),S=v.nodeAfter,I=x.nodeBefore;return void((S&&a.isObject(S)||I&&a.isObject(I))&&(i.change(P=>{P.setSelection(m?x:v)}),t.preventDefault(),e.stop()))}if(!c.isCollapsed)return;const w=this._getObjectElementNextToSelection(m);if(w&&a.isObject(w)){if(a.isInline(w)&&f)return;this._setSelectionOverElement(w),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,i=n.schema,a=n.document.selection.getSelectedElement();a&&i.isObject(a)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(i=>{let a=t.anchor.parent;for(;a.isEmpty;){const c=a;a=c.parent,i.remove(c)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,i=t.document.selection,a=t.createSelection(i);if(t.modifySelection(a,{direction:e?"forward":"backward"}),a.isEqual(i))return null;const c=e?a.focus.nodeBefore:a.focus.nodeAfter;return c&&n.isObject(c)?c:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(uv,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const n of t.selection.getFirstRange().getItems())if(n.is("editableElement")){const i=e.editing.mapper.toModelElement(n);if(!i)continue;const a=e.model.createPositionAt(i,0),c=e.model.schema.getNearestSelectionRange(a,"forward");return e.model.change(d=>{d.setSelection(c)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,n=e.editing.view.document.selection.getFirstPosition().parent,i=(n.is("$text")?n.parent:n).findAncestor(dt);if(!i)return!1;const a=t.toModelElement(i);return!!a&&(e.model.change(c=>{c.setSelection(a,"on")}),!0)}}function Hj(r,e){return!!e&&Array.from(r.getAncestors()).includes(e)}class sd extends J{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Zc]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{(function(i){const a=i.getSelectedElement();return!(!a||!dt(a))})(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:i,balloonClassName:a="ck-toolbar-container"}){if(!n.length)return void $("widget-toolbar-no-items",{toolbarId:e});const c=this.editor,d=c.t,h=new Op(c.locale);if(h.ariaLabel=t||d("Widget toolbar"),this._toolbarDefinitions.has(e))throw new M("widget-toolbar-duplicated",this,{toolbarId:e});const m={view:h,getRelatedElement:i,balloonClassName:a,itemsConfig:n,initialized:!1};c.ui.addToolbar(h,{isContextual:!0,beforeFocus:()=>{const f=i(c.editing.view.document.selection);f&&this._showToolbar(m,f)},afterBlur:()=>{this._hideToolbar(m)}}),this._toolbarDefinitions.set(e,m)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const i of this._toolbarDefinitions.values()){const a=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&a)if(this.editor.ui.focusTracker.isFocused){const c=a.getAncestors().length;c>e&&(e=c,t=a,n=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Av(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:vv(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const i=n.getRelatedElement(this.editor.editing.view.document.selection);Av(this.editor,i)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Av(r,e){const t=r.plugins.get("ContextualBalloon"),n=vv(r,e);t.updatePosition(n)}function vv(r,e){const t=r.editing.view,n=tn.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}var Cv=p(4095),$j={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Cv.A,$j),Cv.A.locals;const em=qo("px");class qj extends ce{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>em(t)),top:e.to("top",t=>em(t)),width:e.to("width",t=>em(t))}}})}}class ad extends J{constructor(){super(...arguments),this.removeDropMarkerDelayed=Wh(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Qc(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=Qc(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new qj,this._domEmitter=new(Sn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,i,a,c){this.removeDropMarkerDelayed.cancel();const d=yv(this.editor,e,t,n,i,a,c);if(d)return c&&c.containsRange(d)?this.removeDropMarker():void this._updateDropMarkerThrottled(d)}getFinalDropRange(e,t,n,i,a,c){const d=yv(this.editor,e,t,n,i,a,c);return this.removeDropMarker(),d}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(n);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(i=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||i.updateMarker("drop-target",{range:e}):i.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const n=this.toDomElement(t);return n.append("",t.createElement("span"),""),n})}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,i=e.start.nodeAfter,a=e.start.parent,c=n?t.mapper.toViewElement(n):null,d=c?t.view.domConverter.mapViewToDom(c):null,h=i?t.mapper.toViewElement(i):null,m=h?t.view.domConverter.mapViewToDom(h):null,f=t.mapper.toViewElement(a);if(!f)return;const w=t.view.domConverter.mapViewToDom(f),v=this._getScrollableRect(f),{scrollX:x,scrollY:S}=_.window,I=d?new Ce(d):null,P=m?new Ce(m):null,z=new Ce(w).excludeScrollbarsAndBorders(),F=I?I.bottom:z.top,W=P?P.top:z.bottom,K=_.window.getComputedStyle(w),ie=F<=W?(F+W)/2:W;if(v.top<ie&&ie<v.bottom){const de=z.left+parseFloat(K.paddingLeft),ke=z.right-parseFloat(K.paddingRight),We=Math.max(de+x,v.left),ft=Math.min(ke+x,v.right);this._dropTargetLineView.set({isVisible:!0,left:We,top:ie+S,width:ft-We})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(a){let c=a;do{c=c.parentElement;const d=_.window.getComputedStyle(c).overflowY;if(d=="auto"||d=="scroll")break}while(c.tagName!="BODY");return c}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const i=new ha(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:i})}return new Ce(n).excludeScrollbarsAndBorders()}}function yv(r,e,t,n,i,a,c){const d=r.model,h=r.editing.mapper;let m=Ev(r,e);for(;m;){if(!a){if(d.schema.checkChild(m,"$text")){if(t){const f=t[0].start,w=h.toModelPosition(f);if(!c||Array.from(c.getItems()).every(v=>d.schema.checkChild(w,v))){if(d.schema.checkChild(w,"$text"))return d.createRange(w);if(f)return ld(r,Ev(r,f.parent),n,i)}}}else if(d.schema.isInline(m))return ld(r,m,n,i)}if(d.schema.isBlock(m))return ld(r,m,n,i);if(d.schema.checkChild(m,"$block")){const f=Array.from(m.getChildren()).filter(x=>x.is("element")&&!Wj(r,x));let w=0,v=f.length;if(v==0)return d.createRange(d.createPositionAt(m,"end"));for(;w<v-1;){const x=Math.floor((w+v)/2);xv(r,f[x],n,i)=="before"?v=x:w=x}return ld(r,f[w],n,i)}m=m.parent}return null}function Wj(r,e){const t=r.editing.mapper,n=r.editing.view.domConverter,i=t.toViewElement(e);if(!i)return!0;const a=n.mapViewToDom(i);return _.window.getComputedStyle(a).float!="none"}function ld(r,e,t,n){const i=r.model;return i.createRange(i.createPositionAt(e,xv(r,e,t,n)))}function xv(r,e,t,n){const i=r.editing.mapper,a=r.editing.view.domConverter,c=i.toViewElement(e),d=a.mapViewToDom(c),h=new Ce(d);return r.model.schema.isInline(e)?t<(h.left+h.right)/2?"before":"after":n<(h.top+h.bottom)/2?"before":"after"}function Ev(r,e){const t=r.editing.mapper,n=r.editing.view,i=t.toModelElement(e);if(i)return i;const a=n.createPositionBefore(e),c=t.findMappedViewAncestor(a);return t.toModelElement(c)}var Gj=Object.defineProperty,Kj=Object.defineProperties,Yj=Object.getOwnPropertyDescriptors,Dv=Object.getOwnPropertySymbols,Qj=Object.prototype.hasOwnProperty,Jj=Object.prototype.propertyIsEnumerable,Sv=(r,e,t)=>e in r?Gj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Zj extends J{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Sn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,n,i)=>{i?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),E.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(n,i)=>this._handleBlockDragStart(i)),this._domEmitter.listenTo(_.document,"dragover",(n,i)=>this._handleBlockDragging(i)),this._domEmitter.listenTo(_.document,"drop",(n,i)=>this._handleBlockDragging(i)),this._domEmitter.listenTo(_.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(n,i,a)=>{t.setAttribute("draggable",a?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,i=this.editor.editing.view,a=Array.from(n.getSelectedBlocks()),c=t.createRange(t.createPositionBefore(a[0]),t.createPositionAfter(a[a.length-1]));t.change(d=>d.setSelection(c)),this._isBlockDragging=!0,i.focus(),i.getObserver(ja).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),n=e.clientY,i=document.elementFromPoint(t,n),a=this.editor.editing.view;var c,d;i&&i.closest(".ck-editor__editable")&&a.getObserver(ja).onDomEvent((c=((h,m)=>{for(var f in m||(m={}))Qj.call(m,f)&&Sv(h,f,m[f]);if(Dv)for(var f of Dv(m))Jj.call(m,f)&&Sv(h,f,m[f]);return h})({},e),d={type:e.type,dataTransfer:e.dataTransfer,target:i,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},Kj(c,Yj(d))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var Tv=p(7793),Xj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Tv.A,Xj),Tv.A.locals;class eP extends J{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Wh(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Sn())}static get pluginName(){return"DragDrop"}static get requires(){return[Nn,za,ad,Zj]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(ja),t.addObserver(Ip),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,i,a)=>{a?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,i,a)=>{a||this._finalizeDragging(!1)}),E.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,a=e.plugins.get(ad);this.listenTo(i,"dragstart",(c,d)=>{if(d.target&&d.target.is("editableElement")||(this._prepareDraggedRange(d.target),!this._draggedRange))return void d.preventDefault();this._draggingUid=R(),d.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",d.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const h=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(d.dataTransfer,h,"dragstart");const{dataTransfer:m,domTarget:f,domEvent:w}=d,{clientX:v}=w;this._updatePreview({dataTransfer:m,domTarget:f,clientX:v}),d.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(i,"dragend",(c,d)=>{this._finalizeDragging(!d.dataTransfer.isCanceled&&d.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(_.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(i,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(i,"dragleave",()=>{a.removeDropMarkerDelayed()}),this.listenTo(i,"dragging",(c,d)=>{if(!this.isEnabled)return void(d.dataTransfer.dropEffect="none");const{clientX:h,clientY:m}=d.domEvent;a.updateDropMarker(d.target,d.targetRanges,h,m,this._blockMode,this._draggedRange),this._draggedRange||(d.dataTransfer.dropEffect="copy"),E.isGecko||(d.dataTransfer.effectAllowed=="copy"?d.dataTransfer.dropEffect="copy":["all","copyMove"].includes(d.dataTransfer.effectAllowed)&&(d.dataTransfer.dropEffect="move")),c.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(ad);this.listenTo(t,"clipboardInput",(i,a)=>{if(a.method!="drop")return;const{clientX:c,clientY:d}=a.domEvent,h=n.getFinalDropRange(a.target,a.targetRanges,c,d,this._blockMode,this._draggedRange);if(!h)return this._finalizeDragging(!1),void i.stop();if(this._draggedRange&&this._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Iv(a.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(h,!0))return this._finalizeDragging(!1),void i.stop();a.targetRanges=[e.editing.mapper.toViewRange(h)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Nn);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const i=n.targetRanges.map(a=>this.editor.editing.mapper.toModelRange(a));this.editor.model.change(a=>a.setSelection(i))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const i=Iv(n.dataTransfer)=="move",a=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(a&&i)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(i,a)=>{if(E.isAndroid||!a)return;this._clearDraggableAttributesDelayed.cancel();let c=Mv(a.target);if(E.isBlink&&!e.isReadOnly&&!c&&!n.selection.isCollapsed){const d=n.selection.getSelectedElement();d&&dt(d)||(c=n.selection.editableElement)}c&&(t.change(d=>{d.setAttribute("draggable","true",c)}),this._draggableElement=e.editing.mapper.toModelElement(c))}),this.listenTo(n,"mouseup",()=>{E.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(ad).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change(i=>{const a=n.createSelection(this._draggedRange);n.deleteContent(a,{doNotAutoparagraph:!0});const c=a.getFirstPosition().parent;c.isEmpty&&!n.schema.checkChild(c,"$text")&&n.schema.checkChild(c,"paragraph")&&i.insertElement("paragraph",c,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,i=n.document.selection,a=e?Mv(e):null;if(a){const m=t.editing.mapper.toModelElement(a);this._draggedRange=fn.fromRange(n.createRangeOn(m)),this._blockMode=n.schema.isBlock(m),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(i.isCollapsed&&!i.getFirstPosition().parent.isEmpty)return;const c=Array.from(i.getSelectedBlocks()),d=i.getFirstRange();if(c.length==0)return void(this._draggedRange=fn.fromRange(d));const h=Nv(n,c);if(c.length>1)this._draggedRange=fn.fromRange(h),this._blockMode=!0;else if(c.length==1){const m=d.start.isTouching(h.start)&&d.end.isTouching(h.end);this._draggedRange=fn.fromRange(m?h:d),this._blockMode=m}n.change(m=>m.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:n}){const i=this.editor.editing.view,a=i.document.selection.editableElement,c=i.domConverter.mapViewToDom(a),d=_.window.getComputedStyle(c);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Ft(_.document,"div",{style:"position: fixed; left: -999999px;"}),_.document.body.appendChild(this._previewContainer));const h=new Ce(c);if(c.contains(t))return;const m=parseFloat(d.paddingLeft),f=Ft(_.document,"div");f.className="ck ck-content",f.style.width=d.width,f.style.paddingLeft=`${h.left-n+m}px`,E.isiOS&&(f.style.backgroundColor="white"),f.innerHTML=e.getData("text/html"),e.setDragImage(f,0,0),this._previewContainer.appendChild(f)}}function Iv(r){return E.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function Mv(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor(dt);if(dt(r))return r;const e=r.findAncestor(t=>dt(t)||t.is("editableElement"));return dt(e)?e:null}function Nv(r,e){const t=e[0],n=e[e.length-1],i=t.getCommonAncestor(n),a=r.createPositionBefore(t),c=r.createPositionAfter(n);if(i&&i.is("element")&&!r.schema.isLimit(i)){const d=r.createRangeOn(i),h=a.isTouching(d.start),m=c.isTouching(d.end);if(h&&m)return Nv(r,[i])}return r.createRange(a,c)}class tP extends J{static get pluginName(){return"PastePlainText"}static get requires(){return[Nn]}init(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,a=t.document.selection;let c=!1;n.addObserver(ja),this.listenTo(i,"keydown",(d,h)=>{c=h.shiftKey}),e.plugins.get(Nn).on("contentInsertion",(d,h)=>{(c||function(m,f){if(m.childCount>1)return!1;const w=m.getChild(0);return f.isObject(w)?!1:Array.from(w.getAttributeKeys()).length==0}(h.content,t.schema))&&t.change(m=>{const f=Array.from(a.getAttributes()).filter(([v])=>t.schema.getAttributeProperties(v).isFormatting);a.isCollapsed||t.deleteContent(a,{doNotAutoparagraph:!0}),f.push(...a.getAttributes());const w=m.createRangeIn(h.content);for(const v of w.getItems())v.is("$textProxy")&&m.setAttributes(f,v)})})}}class Bv extends J{static get pluginName(){return"Clipboard"}static get requires(){return[Pa,Nn,eP,tP]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class nP extends Ae{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!jv(e.schema,n))do if(n=n.parent,!n)return;while(!jv(e.schema,n));e.change(i=>{i.setSelection(n,"in")})}}function jv(r,e){return r.isLimit(e)&&(r.checkChild(e,"$text")||r.checkChild(e,"paragraph"))}const rP=ga("Ctrl+A");class iP extends J{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new nP(e)),this.listenTo(n,"keydown",(i,a)=>{Wo(a)===rP&&(e.execute("selectAll"),a.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class oP extends J{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(Ne);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(bn))}_createButton(e){const t=this.editor,n=t.locale,i=t.commands.get("selectAll"),a=new e(t.locale),c=n.t;return a.set({label:c("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),a.bind("isEnabled").to(i,"isEnabled"),this.listenTo(a,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),a}}class sP extends J{static get requires(){return[iP,oP]}static get pluginName(){return"SelectAll"}}var aP=Object.defineProperty,Pv=Object.getOwnPropertySymbols,lP=Object.prototype.hasOwnProperty,cP=Object.prototype.propertyIsEnumerable,Ov=(r,e,t)=>e in r?aP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class Lv extends Ae{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]=((a,c)=>{for(var d in c||(c={}))lP.call(c,d)&&Ov(a,d,c[d]);if(Pv)for(var d of Pv(c))cP.call(c,d)&&Ov(a,d,c[d]);return a})({},n[1]);const i=n[1];i.batchType||(i.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const i=this.editor.model,a=i.document,c=[],d=e.map(m=>m.getTransformedByOperations(n)),h=d.flat();for(const m of d){const f=m.filter(w=>w.root!=a.graveyard).filter(w=>!uP(w,h));f.length&&(dP(f),c.push(f[0]))}c.length&&i.change(m=>{m.setSelection(c,{backward:t})})}_undo(e,t){const n=this.editor.model,i=n.document;this._createdBatches.add(t);const a=e.operations.slice().filter(c=>c.isDocumentOperation);a.reverse();for(const c of a){const d=c.baseVersion+1,h=Array.from(i.history.getOperations(d)),m=$M([c.getReversed()],h,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let f of m){const w=f.affectedSelectable;w&&!n.canEditAt(w)&&(f=new mt(f.baseVersion)),t.addOperation(f),n.applyOperation(f),i.history.setOperationAsUndone(c,f)}}}}function dP(r){r.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<r.length;e++){const t=r[e-1].getJoined(r[e],!0);t&&(e--,r.splice(e,2,t))}}function uP(r,e){return e.some(t=>t!==r&&t.containsRange(r,!0))}class hP extends Lv{execute(e=null){const t=e?this._stack.findIndex(a=>a.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{this._undo(n.batch,i);const a=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,a)}),this.fire("revert",n.batch,i),this.refresh()}}class pP extends Lv{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,i=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,i),this._undo(e.batch,t)}),this.refresh()}}class mP extends J{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new hP(e),this._redoCommand=new pP(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(n,i)=>{const a=i[0];if(!a.isDocumentOperation)return;const c=a.batch,d=this._redoCommand.createdBatches.has(c),h=this._undoCommand.createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(d?this._undoCommand.addBatch(c):h||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(n,i,a)=>{this._redoCommand.addBatch(a)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class gP extends J{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,i=t.uiLanguageDirection=="ltr"?ge.undo:ge.redo,a=t.uiLanguageDirection=="ltr"?ge.redo:ge.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",i),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",a)}_addButtonsToFactory(e,t,n,i){const a=this.editor;a.ui.componentFactory.add(e,()=>{const c=this._createButton(Ne,e,t,n,i);return c.set({tooltip:!0}),c}),a.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(bn,e,t,n,i))}_createButton(e,t,n,i,a){const c=this.editor,d=c.locale,h=c.commands.get(t),m=new e(d);return m.set({label:n,icon:a,keystroke:i}),m.bind("isEnabled").to(h,"isEnabled"),this.listenTo(m,"execute",()=>{c.execute(t),c.editing.view.focus()}),m}}class Rv extends J{static get requires(){return[mP,gP]}static get pluginName(){return"Undo"}}class fP extends Le(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,i)=>{t.onload=()=>{const a=t.result;this._data=a,n(a)},t.onerror=()=>{i("error")},t.onabort=()=>{i("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Jn extends J{constructor(){super(...arguments),this.loaders=new $n,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[X_]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return $("filerepository-no-upload-adapter"),null;const t=new zv(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const i of this.loaders)n+=i.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const i of this.loaders)i.uploadTotal&&(n+=i.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof zv?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,i)=>{n===t&&this._loadersMap.delete(i)})}_updatePendingAction(){const e=this.editor.plugins.get(X_);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=i=>`${t("Upload in progress")} ${parseInt(i)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class zv extends Le(){constructor(e,t){super(),this.id=R(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new fP,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,i)=>i?n/i*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new M("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new M("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,i)=>{t.rejecter=i,t.isFulfilled=!1,e.then(a=>{t.isFulfilled=!0,n(a)}).catch(a=>{t.isFulfilled=!0,i(a)})}),t}}const Fv="ckCsrfToken",Vv="abcdefghijklmnopqrstuvwxyz0123456789";function kP(){let r=function(n){n=n.toLowerCase();const i=document.cookie.split(";");for(const a of i){const c=a.split("=");if(decodeURIComponent(c[0].trim().toLowerCase())===n)return decodeURIComponent(c[1])}return null}(Fv);var e,t;return r&&r.length==40||(r=function(n){let i="";const a=new Uint8Array(n);window.crypto.getRandomValues(a);for(let c=0;c<a.length;c++){const d=Vv.charAt(a[c]%Vv.length);i+=Math.random()>.5?d.toUpperCase():d}return i}(40),e=Fv,t=r,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"),r}class bP{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,n){const i=this.xhr,a=this.loader,c=(0,this.t)("Cannot upload file:")+` ${n.name}.`;i.addEventListener("error",()=>t(c)),i.addEventListener("abort",()=>t()),i.addEventListener("load",()=>{const d=i.response;if(!d||!d.uploaded)return t(d&&d.error&&d.error.message?d.error.message:c);e({default:d.url})}),i.upload&&i.upload.addEventListener("progress",d=>{d.lengthComputable&&(a.uploadTotal=d.total,a.uploaded=d.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",kP()),this.xhr.send(t)}}function ui(r,e,t,n){let i,a=null;typeof n=="function"?i=n:(a=r.commands.get(n),i=()=>{r.execute(n)}),r.model.document.on("change:data",(c,d)=>{if(a&&!a.isEnabled||!e.isEnabled)return;const h=_t(r.model.document.selection.getRanges());if(!h.isCollapsed||d.isUndo||!d.isLocal)return;const m=Array.from(r.model.document.differ.getChanges()),f=m[0];if(m.length!=1||f.type!=="insert"||f.name!="$text"||f.length!=1)return;const w=f.position.parent;if(w.is("element","codeBlock")||w.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||a&&a.value===!0)return;const v=w.getChild(0),x=r.model.createRangeOn(v);if(!x.containsRange(h)&&!h.end.isEqual(x.end))return;const S=t.exec(v.data.substr(0,h.end.offset));S&&r.model.enqueueChange(I=>{const P=I.createPositionAt(w,0),z=I.createPositionAt(w,S[0].length),F=new fn(P,z);if(i({match:S})!==!1){I.remove(F);const W=r.model.document.selection.getFirstRange(),K=I.createRangeIn(w);!w.isEmpty||K.isEqual(W)||K.containsRange(W,!0)||I.remove(w)}F.detach(),r.model.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})})})}function cs(r,e,t,n){let i,a;t instanceof RegExp?i=t:a=t,a=a||(c=>{let d;const h=[],m=[];for(;(d=i.exec(c))!==null&&!(d&&d.length<4);){let{index:f,1:w,2:v,3:x}=d;const S=w+v+x;f+=d[0].length-S.length;const I=[f,f+w.length],P=[f+w.length+v.length,f+w.length+v.length+x.length];h.push(I),h.push(P),m.push([f+w.length,f+w.length+v.length])}return{remove:h,format:m}}),r.model.document.on("change:data",(c,d)=>{if(d.isUndo||!d.isLocal||!e.isEnabled)return;const h=r.model,m=h.document.selection;if(!m.isCollapsed)return;const f=Array.from(h.document.differ.getChanges()),w=f[0];if(f.length!=1||w.type!=="insert"||w.name!="$text"||w.length!=1)return;const v=m.focus,x=v.parent,{text:S,range:I}=function(W,K){let ie=W.start;return{text:Array.from(W.getItems()).reduce((ke,We)=>!We.is("$text")&&!We.is("$textProxy")||We.getAttribute("code")?(ie=K.createPositionAfter(We),""):ke+We.data,""),range:K.createRange(ie,W.end)}}(h.createRange(h.createPositionAt(x,0),v),h),P=a(S),z=Uv(I.start,P.format,h),F=Uv(I.start,P.remove,h);z.length&&F.length&&h.enqueueChange(W=>{if(n(W,z)!==!1){for(const K of F.reverse())W.remove(K);h.enqueueChange(()=>{r.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Uv(r,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(r.getShiftedBy(n[0]),r.getShiftedBy(n[1])))}function cd(r,e){return(t,n)=>{if(!r.commands.get(e).isEnabled)return!1;const i=r.model.schema.getValidRanges(n,e);for(const a of i)t.setAttribute(e,!0,a);t.removeSelectionAttribute(e)}}class Hv extends Ae{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,i=e.forceValue===void 0?!this.value:e.forceValue;t.change(a=>{if(n.isCollapsed)i?a.setSelectionAttribute(this.attributeKey,!0):a.removeSelectionAttribute(this.attributeKey);else{const c=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const d of c)i?a.setAttribute(this.attributeKey,i,d):a.removeAttribute(this.attributeKey,d)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const i of n.getRanges())for(const a of i.getItems())if(t.checkAttribute(a,this.attributeKey))return a.hasAttribute(this.attributeKey);return!1}}const ds="bold";class wP extends J{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:ds}),e.model.schema.setAttributeProperties(ds,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ds,view:"strong",upcastAlso:["b",n=>{const i=n.getStyle("font-weight");return i&&(i=="bold"||Number(i)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(ds,new Hv(e,ds)),e.keystrokes.set("CTRL+B",ds),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function $v({editor:r,commandName:e,plugin:t,icon:n,label:i,keystroke:a}){return c=>{const d=r.commands.get(e),h=new c(r.locale);return h.set({label:i,icon:n,keystroke:a,isToggleable:!0}),h.bind("isEnabled").to(d,"isEnabled"),t.listenTo(h,"execute",()=>{r.execute(e),r.editing.view.focus()}),h}}const dd="bold";class _P extends J{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.locale.t,n=e.commands.get(dd),i=$v({editor:e,commandName:dd,plugin:this,icon:ge.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(dd,()=>{const a=i(Ne);return a.set({tooltip:!0}),a.bind("isOn").to(n,"value"),a}),e.ui.componentFactory.add("menuBar:"+dd,()=>i(bn))}}var qv=p(4199),AP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(qv.A,AP),qv.A.locals;const us="italic";class vP extends J{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:us}),e.model.schema.setAttributeProperties(us,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:us,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(us,new Hv(e,us)),e.keystrokes.set("CTRL+I",us),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const ud="italic";class CP extends J{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.commands.get(ud),n=e.locale.t,i=$v({editor:e,commandName:ud,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});e.ui.componentFactory.add(ud,()=>{const a=i(Ne);return a.set({tooltip:!0}),a.bind("isOn").to(t,"value"),a}),e.ui.componentFactory.add("menuBar:"+ud,()=>i(bn))}}class yP extends Ae{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,i=t.document.selection,a=Array.from(i.getSelectedBlocks()),c=e.forceValue===void 0?!this.value:e.forceValue;t.change(d=>{if(c){const h=a.filter(m=>hd(m)||Gv(n,m));this._applyQuote(d,h)}else this._removeQuote(d,a.filter(hd))})}_getValue(){const e=_t(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!hd(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=_t(e.getSelectedBlocks());return!!n&&Gv(t,n)}_removeQuote(e,t){Wv(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void e.unwrap(n.start.parent);if(n.start.isAtStart){const a=e.createPositionBefore(n.start.parent);return void e.move(n,a)}n.end.isAtEnd||e.split(n.end);const i=e.createPositionAfter(n.end.parent);e.move(n,i)})}_applyQuote(e,t){const n=[];Wv(e,t).reverse().forEach(i=>{let a=hd(i.start);a||(a=e.createElement("blockQuote"),e.wrap(i,a)),n.push(a)}),n.reverse().reduce((i,a)=>i.nextSibling==a?(e.merge(e.createPositionAfter(i)),i):a)}}function hd(r){return r.parent.name=="blockQuote"?r.parent:null}function Wv(r,e){let t,n=0;const i=[];for(;n<e.length;){const a=e[n],c=e[n+1];t||(t=r.createPositionBefore(a)),c&&a.nextSibling==c||(i.push(r.createRange(t,r.createPositionAfter(a))),t=null),n++}return i}function Gv(r,e){const t=r.checkChild(e.parent,"blockQuote"),n=r.checkChild(["$root","blockQuote"],e);return t&&n}class xP extends J{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[id,Or]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new yP(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(c=>{const d=e.model.document.differ.getChanges();for(const h of d)if(h.type=="insert"){const m=h.position.nodeAfter;if(!m)continue;if(m.is("element","blockQuote")&&m.isEmpty)return c.remove(m),!0;if(m.is("element","blockQuote")&&!t.checkChild(h.position,m))return c.unwrap(m),!0;if(m.is("element")){const f=c.createRangeIn(m);for(const w of f.getItems())if(w.is("element","blockQuote")&&!t.checkChild(c.createPositionBefore(w),w))return c.unwrap(w),!0}}else if(h.type=="remove"){const m=h.position.parent;if(m.is("element","blockQuote")&&m.isEmpty)return c.remove(m),!0}return!1});const n=this.editor.editing.view.document,i=e.model.document.selection,a=e.commands.get("blockQuote");this.listenTo(n,"enter",(c,d)=>{!i.isCollapsed||!a.value||i.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),d.preventDefault(),c.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(c,d)=>{if(d.direction!="backward"||!i.isCollapsed||!a.value)return;const h=i.getLastPosition().parent;h.isEmpty&&!h.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),d.preventDefault(),c.stop())},{context:"blockquote"})}}var Kv=p(8708),EP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Kv.A,EP),Kv.A.locals;class DP extends J{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const n=this._createButton(Ne);return n.set({tooltip:!0}),n.bind("isOn").to(t,"value"),n}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(bn))}_createButton(e){const t=this.editor,n=t.locale,i=t.commands.get("blockQuote"),a=new e(t.locale),c=n.t;return a.set({label:c("Block quote"),icon:ge.quote,isToggleable:!0}),a.bind("isEnabled").to(i,"isEnabled"),this.listenTo(a,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),a}}class SP extends J{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const t=e.t,n=e.ui.componentFactory;if(n.add("ckbox",()=>{const i=this._createButton(Ne);return i.tooltip=!0,i}),n.add("menuBar:ckbox",()=>this._createButton(bn)),e.plugins.has("ImageInsertUI")){const i=e.plugins.get("ImageInsertUI");i.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckbox");return a.icon=ge.imageAssetManager,a.bind("label").to(i,"isImageSelected",c=>t(c?"Replace image with file manager":"Insert image with file manager")),a},formViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckbox");return a.icon=ge.imageAssetManager,a.withText=!0,a.bind("label").to(i,"isImageSelected",c=>t(c?"Replace with file manager":"Insert with file manager")),a.on("execute",()=>{i.dropdownView.isOpen=!1}),a}})}}_createButton(e){const t=this.editor,n=t.locale,i=new e(n),a=t.commands.get("ckbox"),c=n.t;return i.set({label:c("Open file manager"),icon:ge.browseFiles}),i.bind("isOn","isEnabled").to(a,"value","isEnabled"),i.on("execute",()=>{t.execute("ckbox")}),i}}var TP=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Fa=r=>{let e=0;for(let t=0;t<r.length;t++){let n=r[t];e=83*e+TP.indexOf(n)}return e},tm=r=>{let e=r/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},nm=r=>{let e=Math.max(0,Math.min(1,r));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},rm=(r,e)=>(t=>t<0?-1:1)(r)*Math.pow(Math.abs(r),e),Yv=class extends Error{constructor(r){super(r),this.name="ValidationError",this.message=r}},IP=r=>{if(!r||r.length<6)throw new Yv("The blurhash string must be at least 6 characters");let e=Fa(r[0]),t=Math.floor(e/9)+1,n=e%9+1;if(r.length!==4+2*n*t)throw new Yv(`blurhash length mismatch: length is ${r.length} but it should be ${4+2*n*t}`)},MP=r=>{let e=r>>8&255,t=255&r;return[tm(r>>16),tm(e),tm(t)]},NP=(r,e)=>{let t=Math.floor(r/361),n=Math.floor(r/19)%19,i=r%19;return[rm((t-9)/9,2)*e,rm((n-9)/9,2)*e,rm((i-9)/9,2)*e]},BP=(r,e,t,n)=>{IP(r),n|=1;let i=Fa(r[0]),a=Math.floor(i/9)+1,c=i%9+1,d=(Fa(r[1])+1)/166,h=new Array(c*a);for(let w=0;w<h.length;w++)if(w===0){let v=Fa(r.substring(2,6));h[w]=MP(v)}else{let v=Fa(r.substring(4+2*w,6+2*w));h[w]=NP(v,d*n)}let m=4*e,f=new Uint8ClampedArray(m*t);for(let w=0;w<t;w++)for(let v=0;v<e;v++){let x=0,S=0,I=0;for(let W=0;W<a;W++)for(let K=0;K<c;K++){let ie=Math.cos(Math.PI*v*K/e)*Math.cos(Math.PI*w*W/t),de=h[K+W*c];x+=de[0]*ie,S+=de[1]*ie,I+=de[2]*ie}let P=nm(x),z=nm(S),F=nm(I);f[4*v+0+w*m]=P,f[4*v+1+w*m]=z,f[4*v+2+w*m]=F,f[4*v+3+w*m]=255}return f},jP=Object.defineProperty,Qv=Object.getOwnPropertySymbols,PP=Object.prototype.hasOwnProperty,OP=Object.prototype.propertyIsEnumerable,Jv=(r,e,t)=>e in r?jP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;function Zv(r){const e=[];let t=0;for(const i in r){const a=parseInt(i,10);isNaN(a)||(a>t&&(t=a),e.push(`${r[i]} ${i}w`))}const n=[{srcset:e.join(","),sizes:`(max-width: ${t}px) 100vw, ${t}px`,type:"image/webp"}];return{imageFallbackUrl:r.default,imageSources:n}}const Va=32;function Xv({url:r,method:e="GET",data:t,onUploadProgress:n,signal:i,authorization:a}){const c=new XMLHttpRequest;c.open(e,r.toString()),c.setRequestHeader("Authorization",a),c.setRequestHeader("CKBox-Version","CKEditor 5"),c.responseType="json";const d=()=>{c.abort()};return new Promise((h,m)=>{i.throwIfAborted(),i.addEventListener("abort",d),c.addEventListener("loadstart",()=>{i.addEventListener("abort",d)}),c.addEventListener("loadend",()=>{i.removeEventListener("abort",d)}),c.addEventListener("error",()=>{m()}),c.addEventListener("abort",()=>{m()}),c.addEventListener("load",()=>{const f=c.response;if(!f||f.statusCode>=400)return m(f&&f.message);h(f)}),n&&c.upload.addEventListener("progress",f=>{n(f)}),c.send(t)})}const LP={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function RP(r,e){return t=this,n=null,i=function*(){try{const a=yield fetch(r,((c,d)=>{for(var h in d||(d={}))PP.call(d,h)&&Jv(c,h,d[h]);if(Qv)for(var h of Qv(d))OP.call(d,h)&&Jv(c,h,d[h]);return c})({method:"HEAD",cache:"force-cache"},e));return a.ok&&a.headers.get("content-type")||""}catch{return""}},new Promise((a,c)=>{var d=f=>{try{m(i.next(f))}catch(w){c(w)}},h=f=>{try{m(i.throw(f))}catch(w){c(w)}},m=f=>f.done?a(f.value):Promise.resolve(f.value).then(d,h);m((i=i.apply(t,n)).next())});var t,n,i}var zP=Object.defineProperty,eC=Object.getOwnPropertySymbols,FP=Object.prototype.hasOwnProperty,VP=Object.prototype.propertyIsEnumerable,tC=(r,e,t)=>e in r?zP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nC=(r,e)=>{for(var t in e||(e={}))FP.call(e,t)&&tC(r,t,e[t]);if(eC)for(var t of eC(e))VP.call(e,t)&&tC(r,t,e[t]);return r};class UP extends Ae{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,n=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Ft(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(i,a)=>{if(!this.isEnabled)return;const c=e.commands.get("insertImage"),d=e.commands.get("link"),h=function({assets:f,isImageAllowed:w,isLinkAllowed:v}){return f.map(x=>function(S){const I=S.data.metadata;return I?I.width&&I.height:!1}(x)?{id:x.data.id,type:"image",attributes:HP(x)}:{id:x.data.id,type:"link",attributes:$P(x)}).filter(x=>x.type==="image"?w:v)}({assets:a,isImageAllowed:c.isEnabled,isLinkAllowed:d.isEnabled}),m=h.length;m!==0&&(t.change(f=>{for(const w of h){const v=w===h[m-1],x=m===1;this._insertAsset(w,v,f,x),n&&(setTimeout(()=>this._chosenAssets.delete(w),1e3),this._chosenAssets.add(w))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,n,i){const a=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,n,i),t||n.setSelection(a.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:n,imageSources:i,imageTextAlternative:a,imageWidth:c,imageHeight:d,imagePlaceholder:h}=e.attributes;t.execute("insertImage",{source:nC({src:n,sources:i,alt:a,width:c,height:d},h?{placeholder:h}:null)})}_insertLink(e,t,n){const i=this.editor,a=i.model,c=a.document.selection,{linkName:d,linkHref:h}=e.attributes;if(c.isCollapsed){const m=pr(c.getAttributes()),f=t.createText(d,m);if(!n){const v=c.getLastPosition(),x=v.parent;x.name==="paragraph"&&x.isEmpty||i.execute("insertParagraph",{position:v});const S=a.insertContent(f);return t.setSelection(S),void i.execute("link",h)}const w=a.insertContent(f);t.setSelection(w)}i.execute("link",h)}}function HP(r){const{imageFallbackUrl:e,imageSources:t}=Zv(r.data.imageUrls),{description:n,width:i,height:a,blurHash:c}=r.data.metadata,d=function(h){if(h)try{const m=`${Va}px`,f=document.createElement("canvas");f.setAttribute("width",m),f.setAttribute("height",m);const w=f.getContext("2d");if(!w)return;const v=w.createImageData(Va,Va),x=BP(h,Va,Va);return v.data.set(x),w.putImageData(v,0,0),f.toDataURL()}catch{return}}(c);return nC({imageFallbackUrl:e,imageSources:t,imageTextAlternative:n||"",imageWidth:i,imageHeight:a},d?{imagePlaceholder:d}:null)}function $P(r){return{linkName:r.data.name,linkHref:qP(r)}}function qP(r){const e=new URL(r.data.url);return e.searchParams.set("download","true"),e.toString()}var im=(r,e,t)=>new Promise((n,i)=>{var a=h=>{try{d(t.next(h))}catch(m){i(m)}},c=h=>{try{d(t.throw(h))}catch(m){i(m)}},d=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,c);d((t=t.apply(r,e)).next())});class rC extends J{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return im(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const i=e.plugins.get("CloudServices"),a=e.config.get("cloudServices.tokenUrl"),c=e.config.get("ckbox.tokenUrl");if(!c)throw new M("ckbox-plugin-missing-token-url",this);this._token=c==a?i.token:yield i.registerTokenUrl(c)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),t=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(i,a){const[,c]=i.value.split("."),d=JSON.parse(atob(c)),h=d.auth&&d.auth.ckbox&&d.auth.ckbox.workspaces||[d.aud];return a?(d.auth&&d.auth.ckbox&&d.auth.ckbox.role)=="superadmin"||h.includes(a)?a:null:h[0]}(this._token,t);if(n==null)throw re("ckbox-access-default-workspace-error"),e;return n}getCategoryIdForFile(e,t){return im(this,null,function*(){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),i=this.editor.config.get("ckbox.defaultUploadCategories"),a=this._getAvailableCategories(t),c=typeof e=="string"?(d=yield RP(e,t),LP[d]):function(f){const w=f.name,v=new RegExp("\\.(?<ext>[^.]+)$");return w.match(v).groups.ext.toLowerCase()}(e);var d;const h=yield a;if(!h)throw n;if(i){const f=Object.keys(i).find(w=>i[w].find(v=>v.toLowerCase()==c));if(f){const w=h.find(v=>v.id===f||v.name===f);if(!w)throw n;return w.id}}const m=h.find(f=>f.extensions.find(w=>w.toLowerCase()==c));if(!m)throw n;return m.id})}_getAvailableCategories(e){return im(this,null,function*(){const t=this.editor,n=this._token,{signal:i}=e,a=t.config.get("ckbox.serviceOrigin"),c=this.getWorkspaceId();try{const h=[];let m,f=0;do{const w=yield d(f);h.push(...w.items),m=w.totalCount-(f+50),f+=50}while(m>0);return h}catch{return i.throwIfAborted(),void re("ckbox-fetch-category-http-error")}function d(h){const m=new URL("categories",a);return m.searchParams.set("limit","50"),m.searchParams.set("offset",h.toString()),m.searchParams.set("workspaceId",c),Xv({url:m,signal:i,authorization:n.value})}})}}var om=(r,e,t)=>new Promise((n,i)=>{var a=h=>{try{d(t.next(h))}catch(m){i(m)}},c=h=>{try{d(t.throw(h))}catch(m){i(m)}},d=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,c);d((t=t.apply(r,e)).next())});class WP extends J{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Jn,iC]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return om(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;const i=e.plugins.get(Jn),a=e.plugins.get(rC);i.createUploadAdapter=h=>new GP(h,e,a);const c=!e.config.get("ckbox.ignoreDataId"),d=e.plugins.get("ImageUploadEditing");c&&d.on("uploadComplete",(h,{imageElement:m,data:f})=>{e.model.change(w=>{w.setAttribute("ckboxImageId",f.ckboxImageId,m)})})})}}class GP{constructor(e,t,n){this.loader=e,this.token=n.getToken(),this.ckboxUtils=n,this.editor=t,this.controller=new AbortController,this.serviceOrigin=t.config.get("ckbox.serviceOrigin")}upload(){return om(this,null,function*(){const e=this.ckboxUtils,t=this.editor.t,n=yield this.loader.file,i=yield e.getCategoryIdForFile(n,{signal:this.controller.signal}),a=new URL("assets",this.serviceOrigin),c=new FormData;return a.searchParams.set("workspaceId",e.getWorkspaceId()),c.append("categoryId",i),c.append("file",n),Xv({method:"POST",url:a,data:c,onUploadProgress:d=>{d.lengthComputable&&(this.loader.uploadTotal=d.total,this.loader.uploaded=d.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(d=>om(this,null,function*(){const h=Zv(d.imageUrls);return{ckboxImageId:d.id,default:h.imageFallbackUrl,sources:h.imageSources}})).catch(()=>{const d=t("Cannot upload file:")+` ${n.name}.`;return Promise.reject(d)})})}abort(){this.controller.abort()}}class iC extends J{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",WP,rC]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),sC()&&e.commands.add("ckbox",new UP(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||sC()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||re("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,n)=>{if(!t.last.getAttribute("linkHref")&&n==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(n=>{n.on("attribute:ckboxLinkId:imageBlock",(i,a,c)=>{const{writer:d,mapper:h,consumable:m}=c;if(!m.consume(a.item,i.name))return;const f=[...h.toViewElement(a.item).getChildren()].find(w=>w.name==="a");f&&(a.item.hasAttribute("ckboxLinkId")?d.setAttribute("data-ckbox-resource-id",a.item.getAttribute("ckboxLinkId"),f):d.removeAttribute("data-ckbox-resource-id",f))},{priority:"low"}),n.on("attribute:ckboxLinkId",(i,a,c)=>{const{writer:d,mapper:h,consumable:m}=c;if(m.consume(a.item,i.name)){if(a.attributeOldValue){const f=oC(d,a.attributeOldValue);d.unwrap(h.toViewRange(a.range),f)}if(a.attributeNewValue){const f=oC(d,a.attributeNewValue);if(a.item.is("selection")){const w=d.document.selection;d.wrap(w.getFirstRange(),f)}else d.wrap(h.toViewRange(a.range),f)}}},{priority:"low"})}),e.conversion.for("upcast").add(n=>{n.on("element:a",(i,a,c)=>{const{writer:d,consumable:h}=c;if(!a.viewItem.getAttribute("href")||!h.consume(a.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const m=a.viewItem.getAttribute("data-ckbox-resource-id");if(m)if(a.modelRange)for(let f of a.modelRange.getItems())f.is("$textProxy")&&(f=f.textNode),YP(f)&&d.setAttribute("ckboxLinkId",m,f);else{const f=a.modelCursor.nodeBefore||a.modelCursor.parent;d.setAttribute("ckboxLinkId",m,f)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:n=>n.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const t=e.commands.get("replaceImageSource");t&&this.listenTo(t,"cleanupImage",(n,[i,a])=>{i.removeAttribute("ckboxImageId",a)})}_initFixers(){const e=this.editor,t=e.model,n=t.document.selection;t.document.registerPostFixer(function(i){return a=>{let c=!1;const d=i.model,h=i.commands.get("ckbox");if(!h)return c;for(const m of d.document.differ.getChanges()){if(m.type!=="insert"&&m.type!=="attribute")continue;const f=m.type==="insert"?new G(m.position,m.position.getShiftedBy(m.length)):m.range,w=m.type==="attribute"&&m.attributeKey==="linkHref"&&m.attributeNewValue===null;for(const v of f.getItems()){if(w&&v.hasAttribute("ckboxLinkId")){a.removeAttribute("ckboxLinkId",v),c=!0;continue}const x=KP(v,h._chosenAssets);for(const S of x){const I=S.type==="image"?"ckboxImageId":"ckboxLinkId";S.id!==v.getAttribute(I)&&(a.setAttribute(I,S.id,v),c=!0)}}}return c}}(e)),t.document.registerPostFixer(function(i){return a=>!(i.hasAttribute("linkHref")||!i.hasAttribute("ckboxLinkId"))&&(a.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function KP(r,e){const t=r.is("element","imageInline")||r.is("element","imageBlock"),n=r.hasAttribute("linkHref");return[...e].filter(i=>i.type==="image"&&t?i.attributes.imageFallbackUrl===r.getAttribute("src"):i.type==="link"&&n?i.attributes.linkHref===r.getAttribute("linkHref"):void 0)}function oC(r,e){const t=r.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return r.setCustomProperty("link",!0,t),t}function YP(r){return!!r.is("$text")||!(!r.is("element","imageInline")&&!r.is("element","imageBlock"))}function sC(){return!!window.CKBox}var aC=p(1866),QP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(aC.A,QP),aC.A.locals;class JP extends J{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t;if(t.add("ckfinder",i=>{const a=this._createButton(Ne),c=i.t;return a.set({label:c("Insert image or file"),tooltip:!0}),a}),t.add("menuBar:ckfinder",i=>{const a=this._createButton(bn),c=i.t;return a.label=c("Image or file"),a}),e.plugins.has("ImageInsertUI")){const i=e.plugins.get("ImageInsertUI");i.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckfinder");return a.icon=ge.imageAssetManager,a.bind("label").to(i,"isImageSelected",c=>n(c?"Replace image with file manager":"Insert image with file manager")),a},formViewCreator:()=>{const a=this.editor.ui.componentFactory.create("ckfinder");return a.icon=ge.imageAssetManager,a.withText=!0,a.bind("label").to(i,"isImageSelected",c=>n(c?"Replace with file manager":"Insert with file manager")),a.on("execute",()=>{i.dropdownView.isOpen=!1}),a}})}}_createButton(e){const t=this.editor,n=new e(t.locale),i=t.commands.get("ckfinder");return n.icon=ge.browseFiles,n.bind("isEnabled").to(i),n.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),n}}class ZP extends Ae{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if(t!="popup"&&t!="modal")throw new M("ckfinder-unknown-openermethod",e);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const i=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=a=>{i&&i(a),a.on("files:choose",c=>{const d=c.data.files.toArray(),h=d.filter(w=>!w.isImage()),m=d.filter(w=>w.isImage());for(const w of h)e.execute("link",w.getUrl());const f=[];for(const w of m){const v=w.getUrl();f.push(v||a.request("file:getProxyUrl",{file:w}))}f.length&&lC(e,f)}),a.on("file:choose:resizedImage",c=>{const d=c.data.resizedUrl;if(d)lC(e,[d]);else{const h=e.plugins.get("Notification"),m=e.locale.t;h.showWarning(m("Could not obtain resized image URL."),{title:m("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](n)}}function lC(r,e){if(r.commands.get("insertImage").isEnabled)r.execute("insertImage",{source:e});else{const t=r.plugins.get("Notification"),n=r.locale.t;t.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class XP extends J{static get pluginName(){return"CKFinderEditing"}static get requires(){return[$p,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new M("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new ZP(e))}}class e3 extends J{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Jn]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),n=t.token,i=t.uploadUrl;if(!n)return;const a=e.plugins.get("CloudServicesCore");this._uploadGateway=a.createUploadGateway(n,i),e.plugins.get(Jn).createUploadAdapter=c=>new t3(this._uploadGateway,c)}}class t3{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class n3 extends Ae{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=_t(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&cC(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,i=e.selection||n.selection;t.canEditAt(i)&&t.change(a=>{const c=i.getSelectedBlocks();for(const d of c)!d.is("element","paragraph")&&cC(d,t.schema)&&a.rename(d,"paragraph")})}}function cC(r,e){return e.checkChild(r.parent,"paragraph")&&!e.isObject(r)}class r3 extends Ae{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let i=e.position;t.canEditAt(i)&&t.change(a=>{if(i=this._findPositionToInsertParagraph(i,a),!i)return;const c=a.createElement("paragraph");n&&t.schema.setAllowedAttributes(c,n,a),t.insertContent(c,i),a.setSelection(c,"in")})}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const i=n.schema.findAllowedParent(e,"paragraph");if(!i)return null;const a=e.parent,c=n.schema.checkChild(a,"$text");return a.isEmpty||c&&e.isAtEnd?n.createPositionAfter(a):!a.isEmpty&&c&&e.isAtStart?n.createPositionBefore(a):t.split(e,i).position}}const dC=class extends J{static get pluginName(){return"Paragraph"}init(){const r=this.editor,e=r.model;r.commands.add("paragraph",new n3(r)),r.commands.add("insertParagraph",new r3(r)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),r.conversion.elementToElement({model:"paragraph",view:"p"}),r.conversion.for("upcast").elementToElement({model:(t,{writer:n})=>dC.paragraphLikeElements.has(t.name)?t.isEmpty?null:n.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let sm=dC;sm.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class i3 extends Ae{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=_t(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>uC(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,i=e.value;t.change(a=>{const c=Array.from(n.selection.getSelectedBlocks()).filter(d=>uC(d,i,t.schema));for(const d of c)d.is("element",i)||a.rename(d,i)})}}function uC(r,e,t){return t.checkChild(r.parent,e)&&!t.isObject(r)}const hC="paragraph";class o3 extends J{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[sm]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const i of t)i.model!=="paragraph"&&(e.model.schema.register(i.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new i3(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(i,a)=>{const c=e.model.document.selection.getFirstPosition().parent;n.some(d=>c.is("element",d.model))&&!c.is("element",hC)&&c.childCount===0&&a.writer.rename(c,hC)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:H.low+1})}}var pC=p(6269),s3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(pC.A,s3),pC.A.locals;class a3 extends J{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=function(c){const d=c.t,h={Paragraph:d("Paragraph"),"Heading 1":d("Heading 1"),"Heading 2":d("Heading 2"),"Heading 3":d("Heading 3"),"Heading 4":d("Heading 4"),"Heading 5":d("Heading 5"),"Heading 6":d("Heading 6")};return c.config.get("heading.options").map(m=>{const f=h[m.title];return f&&f!=m.title&&(m.title=f),m})}(e),i=t("Choose heading"),a=t("Heading");e.ui.componentFactory.add("heading",c=>{const d={},h=new $n,m=e.commands.get("heading"),f=e.commands.get("paragraph"),w=[m];for(const x of n){const S={type:"button",model:new nA({label:x.title,class:x.class,role:"menuitemradio",withText:!0})};x.model==="paragraph"?(S.model.bind("isOn").to(f,"value"),S.model.set("commandName","paragraph"),w.push(f)):(S.model.bind("isOn").to(m,"value",I=>I===x.model),S.model.set({commandName:"heading",commandValue:x.model})),h.add(S),d[x.model]=x.title}const v=jr(c);return x0(v,h,{ariaLabel:a,role:"menu"}),v.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),v.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),v.bind("isEnabled").toMany(w,"isEnabled",(...x)=>x.some(S=>S)),v.buttonView.bind("label").to(m,"value",f,"value",(x,S)=>{const I=S?"paragraph":x;return typeof I=="boolean"?i:d[I]?d[I]:i}),v.buttonView.bind("ariaLabel").to(m,"value",f,"value",(x,S)=>{const I=S?"paragraph":x;return typeof I=="boolean"?a:d[I]?`${d[I]}, ${a}`:a}),this.listenTo(v,"execute",x=>{const{commandName:S,commandValue:I}=x.source;e.execute(S,I?{value:I}:void 0),e.editing.view.focus()}),v}),e.ui.componentFactory.add("menuBar:heading",c=>{const d=new ss(c),h=e.commands.get("heading"),m=e.commands.get("paragraph"),f=[h],w=new Kp(c);d.set({class:"ck-heading-dropdown"}),w.set({ariaLabel:t("Heading"),role:"menu"}),d.buttonView.set({label:t("Heading")}),d.panelView.children.add(w);for(const v of n){const x=new Wp(c,d),S=new bn(c);x.children.add(S),w.items.add(x),S.set({label:v.title,role:"menuitemradio",class:v.class}),S.bind("ariaChecked").to(S,"isOn"),S.delegate("execute").to(d),S.on("execute",()=>{const I=v.model==="paragraph"?"paragraph":"heading";e.execute(I,{value:v.model}),e.editing.view.focus()}),v.model==="paragraph"?(S.bind("isOn").to(m,"value"),f.push(m)):S.bind("isOn").to(h,"value",I=>I===v.model)}return d.bind("isEnabled").toMany(f,"isEnabled",(...v)=>v.some(x=>x)),d})}}function mC(r){return r.createContainerElement("figure",{class:"image"},[r.createEmptyElement("img"),r.createSlot("children")])}function gC(r,e){const t=r.plugins.get("ImageUtils"),n=r.plugins.has("ImageInlineEditing")&&r.plugins.has("ImageBlockEditing");return a=>t.isInlineImageView(a)?n&&(a.getStyle("display")=="block"||a.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:i(a):null;function i(a){const c={name:!0};return a.hasAttribute("src")&&(c.attributes=["src"]),c}}function am(r,e){const t=_t(e.getSelectedBlocks());return!t||r.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function pd(r){return r&&r.endsWith("px")?parseInt(r):null}function fC(r){const e=pd(r.getStyle("width")),t=pd(r.getStyle("height"));return!(!e||!t)}var l3=Object.defineProperty,kC=Object.getOwnPropertySymbols,c3=Object.prototype.hasOwnProperty,d3=Object.prototype.propertyIsEnumerable,bC=(r,e,t)=>e in r?l3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wC=(r,e)=>{for(var t in e||(e={}))c3.call(e,t)&&bC(r,t,e[t]);if(kC)for(var t of kC(e))d3.call(e,t)&&bC(r,t,e[t]);return r};const u3=/^(image|image-inline)$/;class rn extends J{constructor(){super(...arguments),this._domEmitter=new(Sn())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null,i={}){const a=this.editor,c=a.model,d=c.document.selection,h=_C(a,t||d,n);e=wC(wC({},Object.fromEntries(d.getAttributes())),e);for(const m in e)c.schema.checkAttribute(h,m)||delete e[m];return c.change(m=>{const{setImageSizes:f=!0}=i,w=m.createElement(h,e);return c.insertObject(w,t,null,{setSelection:"on",findOptimalPosition:t||h=="imageInline"?void 0:"auto"}),w.parent?(f&&this.setImageNaturalSizeAttributes(w),w):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(n=>{const i=new _.window.Image;this._domEmitter.listenTo(i,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(n.batch,a=>{a.setAttribute("width",i.naturalWidth,e),a.setAttribute("height",i.naturalHeight,e)}),this._domEmitter.stopListening(i,"load")}),i.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let i=t.parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:u3})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,n){if(_C(t,n,null)=="imageBlock"){const a=function(c,d){const h=mv(c,d),m=h.start.parent;return m.isEmpty&&!m.is("element","$root")?m.parent:m}(n,t.model);if(t.model.schema.checkChild(a,"imageBlock"))return!0}else if(t.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}(e)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),Xp(e,t,{label:()=>{const i=this.findViewImgElement(e).getAttribute("alt");return i?`${i} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&dt(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function _C(r,e,t){const n=r.model.schema,i=r.config.get("image.insert.type");return r.plugins.has("ImageBlockEditing")?r.plugins.has("ImageInlineEditing")?t||(i==="inline"?"imageInline":i!=="auto"?"imageBlock":e.is("selection")?am(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class h3 extends Ae{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),i=t.model,a=n.getClosestSelectedImageElement(i.document.selection);i.change(c=>{c.setAttribute("alt",e.newValue,a)})}}class p3 extends J{static get requires(){return[rn]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new h3(this.editor))}}var AC=p(4062),m3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(AC.A,m3),AC.A.locals;var vC=p(2722),g3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(vC.A,g3),vC.A.locals;class f3 extends ce{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new At,this.keystrokes=new Ut,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),ge.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),ge.cancel,"ck-button-cancel","cancel"),this._focusables=new Tn,this._focusCycler=new Mn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Ac({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,i){const a=new Ne(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.extendTemplate({attributes:{class:n}}),i&&a.delegate("execute").to(this,i),a}_createLabeledInputView(){const e=this.locale.t,t=new Hc(this.locale,Wc);return t.label=e("Text alternative"),t}}function CC(r){const e=r.editing.view,t=tn.defaultPositions,n=r.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class k3 extends J{static get requires(){return[Zc]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const i=e.commands.get("imageTextAlternative"),a=new Ne(n);return a.set({label:t("Change image text alternative"),icon:ge.textAlternative,tooltip:!0}),a.bind("isEnabled").to(i,"isEnabled"),a.bind("isOn").to(i,"value",c=>!!c),this.listenTo(a,"execute",()=>{this._showForm()}),a})}_createForm(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Jh(f3))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(i,a)=>{this._hideForm(!0),a()}),this.listenTo(e.ui,"update",()=>{n.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(i){const a=i.plugins.get("ContextualBalloon");if(i.plugins.get("ImageUtils").getClosestSelectedImageWidget(i.editing.view.document.selection)){const c=CC(i);a.updatePosition(c)}}(e):this._hideForm(!0)}),_c({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:CC(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class yC extends J{static get requires(){return[p3,k3]}static get pluginName(){return"ImageTextAlternative"}}function xC(r,e){const t=(n,i,a)=>{if(!a.consumable.consume(i.item,n.name))return;const c=a.writer,d=a.mapper.toViewElement(i.item),h=r.findViewImgElement(d);i.attributeNewValue===null?(c.removeAttribute("srcset",h),c.removeAttribute("sizes",h)):i.attributeNewValue&&(c.setAttribute("srcset",i.attributeNewValue,h),c.setAttribute("sizes","100vw",h))};return n=>{n.on(`attribute:srcset:${e}`,t)}}function md(r,e,t){const n=(i,a,c)=>{if(!c.consumable.consume(a.item,i.name))return;const d=c.writer,h=c.mapper.toViewElement(a.item),m=r.findViewImgElement(h);d.setAttribute(a.attributeKey,a.attributeNewValue||"",m)};return i=>{i.on(`attribute:${t}:${e}`,n)}}class EC extends fr{observe(e){this.listenTo(e,"load",(t,n)=>{const i=n.target;this.checkShouldIgnoreEventFromTarget(i)||i.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var b3=Object.defineProperty,DC=Object.getOwnPropertySymbols,w3=Object.prototype.hasOwnProperty,_3=Object.prototype.propertyIsEnumerable,SC=(r,e,t)=>e in r?b3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gd=(r,e)=>{for(var t in e||(e={}))w3.call(e,t)&&SC(r,t,e[t]);if(DC)for(var t of DC(e))_3.call(e,t)&&SC(r,t,e[t]);return r};class A3 extends Ae{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&$("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&$("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=qe(e.source),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),a=Object.fromEntries(n.getAttributes());t.forEach((c,d)=>{const h=n.getSelectedElement();if(typeof c=="string"&&(c={src:c}),d&&h&&i.isImage(h)){const m=this.editor.model.createPositionAfter(h);i.insertImage(gd(gd({},c),a),m)}else i.insertImage(gd(gd({},c),a))})}}class v3 extends Ae{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change(i=>{i.setAttribute("src",e.source,t),this.cleanupImage(i,t),n.setImageNaturalSizeAttributes(t)})}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class lm extends J{static get requires(){return[rn]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(EC),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new A3(e),i=new v3(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",i),e.commands.add("imageInsert",n)}}class TC extends J{static get requires(){return[rn]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),i=e==="imageBlock"?"figure":"img";function a(c,d,h,m){c.on(`attribute:${d}:${e}`,(f,w,v)=>{if(!v.consumable.consume(w.item,f.name))return;const x=v.writer,S=v.mapper.toViewElement(w.item),I=n.findViewImgElement(S);if(w.attributeNewValue!==null?x.setAttribute(h,w.attributeNewValue,I):x.removeAttribute(h,I),w.item.hasAttribute("sources"))return;const P=w.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!P&&!m)return;const z=w.item.getAttribute("width"),F=w.item.getAttribute("height");z&&F&&x.setStyle("aspect-ratio",`${z}/${F}`,I)})}t.conversion.for("upcast").attributeToAttribute({view:{name:i,styles:{width:/.+/}},model:{key:"width",value:c=>fC(c)?pd(c.getStyle("width")):null}}).attributeToAttribute({view:{name:i,key:"width"},model:"width"}).attributeToAttribute({view:{name:i,styles:{height:/.+/}},model:{key:"height",value:c=>fC(c)?pd(c.getStyle("height")):null}}).attributeToAttribute({view:{name:i,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(c=>{a(c,"width","width",!0),a(c,"height","height",!0)}),t.conversion.for("dataDowncast").add(c=>{a(c,"width","width",!1),a(c,"height","height",!1)})}}class IC extends Ae{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,n=this.editor.model,i=t.plugins.get("ImageUtils"),a=i.getClosestSelectedImageElement(n.document.selection),c=Object.fromEntries(a.getAttributes());return c.src||c.uploadId?n.change(d=>{const{setImageSizes:h=!0}=e,m=Array.from(n.markers).filter(v=>v.getRange().containsItem(a)),f=i.insertImage(c,n.createSelection(a,"on"),this._modelElementName,{setImageSizes:h});if(!f)return null;const w=d.createRangeOn(f);for(const v of m){const x=v.getRange(),S=x.root.rootName!="$graveyard"?x.getJoined(w,!0):w;d.updateMarker(v,{range:S})}return{oldElement:a,newElement:f}}):null}}var MC=p(7378),C3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(MC.A,C3),MC.A.locals;class NC extends J{static get requires(){return[rn]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("editingDowncast").add(i=>{i.on("attribute:placeholder",(a,c,d)=>{if(!d.consumable.test(c.item,a.name)||!c.item.is("element","imageBlock")&&!c.item.is("element","imageInline"))return;d.consumable.consume(c.item,a.name);const h=d.writer,m=d.mapper.toViewElement(c.item),f=n.findViewImgElement(m);c.attributeNewValue?(h.addClass("image_placeholder",f),h.setStyle("background-image",`url(${c.attributeNewValue})`,f),h.setCustomProperty("editingPipeline:doNotReuseOnce",!0,f)):(h.removeClass("image_placeholder",f),h.removeStyle("background-image",f))})})}_setupLoadListener(){const e=this.editor,t=e.model,n=e.editing,i=n.view,a=e.plugins.get("ImageUtils");i.addObserver(EC),this.listenTo(i.document,"imageLoaded",(c,d)=>{const h=i.domConverter.mapDomToView(d.target);if(!h)return;const m=a.getImageWidgetFromImageView(h);if(!m)return;const f=n.mapper.toModelElement(m);f&&f.hasAttribute("placeholder")&&t.enqueueChange({isUndoable:!1},w=>{w.removeAttribute("placeholder",f)})})}}class BC extends J{static get requires(){return[lm,TC,rn,NC,Nn]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new IC(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,i=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(a,{writer:c})=>mC(c)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(a,{writer:c})=>i.toImageWidget(mC(c),c,t("image widget"))}),n.for("downcast").add(md(i,"imageBlock","src")).add(md(i,"imageBlock","alt")).add(xC(i,"imageBlock")),n.for("upcast").elementToElement({view:gC(e,"imageBlock"),model:(a,{writer:c})=>c.createElement("imageBlock",a.hasAttribute("src")?{src:a.getAttribute("src")}:void 0)}).add(function(a){const c=(d,h,m)=>{if(!m.consumable.test(h.viewItem,{name:!0,classes:"image"}))return;const f=a.findViewImgElement(h.viewItem);if(!f||!m.consumable.test(f,{name:!0}))return;m.consumable.consume(h.viewItem,{name:!0,classes:"image"});const w=_t(m.convertItem(f,h.modelCursor).modelRange.getItems());w?(m.convertChildren(h.viewItem,w),m.updateConversionResult(w,h)):m.consumable.revert(h.viewItem,{name:!0,classes:"image"})};return d=>{d.on("element:figure",c)}}(i))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,i=e.plugins.get("ImageUtils"),a=e.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",(c,d)=>{const h=Array.from(d.content.getChildren());let m;if(!h.every(i.isInlineImageView))return;m=d.targetRanges?e.editing.mapper.toModelRange(d.targetRanges[0]):t.document.selection.getFirstRange();const f=t.createSelection(m);if(am(t.schema,f)==="imageBlock"){const w=new Nr(n.document),v=h.map(x=>w.createElement("figure",{class:"image"},x));d.content=w.createDocumentFragment(v)}}),this.listenTo(a,"contentInsertion",(c,d)=>{d.method==="paste"&&t.change(h=>{const m=h.createRangeIn(d.content);for(const f of m.getItems())f.is("element","imageBlock")&&i.setImageNaturalSizeAttributes(f)})})}}var jC=p(3350),y3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(jC.A,y3),jC.A.locals;class x3 extends ce{constructor(e,t=[]){super(e),this.focusTracker=new At,this.keystrokes=new Ut,this._focusables=new Tn,this.children=this.createCollection(),this._focusCycler=new Mn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of t)this.children.add(n),this._focusables.add(n),n instanceof KN&&this._focusables.addMany(n.children);if(this._focusables.length>1)for(const n of this._focusables)E3(n)&&(n.focusCycler.on("forwardCycle",i=>{this._focusCycler.focusNext(),i.stop()}),n.focusCycler.on("backwardCycle",i=>{this._focusCycler.focusPrevious(),i.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Ac({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function E3(r){return"focusCycler"in r}class PC extends J{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[rn]}init(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=n.isImage(t.getSelectedElement())});const i=a=>this._createToolbarComponent(a);e.ui.componentFactory.add("insertImage",i),e.ui.componentFactory.add("imageInsert",i)}registerIntegration({name:e,observable:t,buttonViewCreator:n,formViewCreator:i,requiresForm:a}){this._integrations.has(e)&&$("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:t,buttonViewCreator:n,formViewCreator:i,requiresForm:!!a})}_createToolbarComponent(e){const t=this.editor,n=e.t,i=this._prepareIntegrations();if(!i.length)return null;let a;const c=i[0];if(i.length==1){if(!c.requiresForm)return c.buttonViewCreator(!0);a=c.buttonViewCreator(!0)}else{const m=c.buttonViewCreator(!1);a=new qc(e,m),a.tooltip=!0,a.bind("label").to(this,"isImageSelected",f=>n(f?"Replace image":"Insert image"))}const d=this.dropdownView=jr(e,a),h=i.map(({observable:m})=>typeof m=="function"?m():m);return d.bind("isEnabled").toMany(h,"isEnabled",(...m)=>m.some(f=>f)),d.once("change:isOpen",()=>{const m=i.map(({formViewCreator:w})=>w(i.length==1)),f=new x3(t.locale,m);d.panelView.children.add(f)}),d}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),t=[];if(!e.length)return $("image-insert-integrations-not-specified"),t;for(const n of e)this._integrations.has(n)?t.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||$("image-insert-unknown-integration",{item:n});return t.length||$("image-insert-integrations-not-registered"),t}}var OC=p(265),D3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(OC.A,D3),OC.A.locals;class S3 extends J{static get requires(){return[BC,za,yC,PC]}static get pluginName(){return"ImageBlock"}}class T3 extends J{static get requires(){return[lm,TC,rn,NC,Nn]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,i)=>{if(n.endsWith("caption")&&i.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new IC(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,i=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(a,{writer:c})=>c.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(a,{writer:c})=>i.toImageWidget(function(d){return d.createContainerElement("span",{class:"image-inline"},d.createEmptyElement("img"))}(c),c,t("image widget"))}),n.for("downcast").add(md(i,"imageInline","src")).add(md(i,"imageInline","alt")).add(xC(i,"imageInline")),n.for("upcast").elementToElement({view:gC(e,"imageInline"),model:(a,{writer:c})=>c.createElement("imageInline",a.hasAttribute("src")?{src:a.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,i=e.plugins.get("ImageUtils"),a=e.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",(c,d)=>{const h=Array.from(d.content.getChildren());let m;if(!h.every(i.isBlockImageView))return;m=d.targetRanges?e.editing.mapper.toModelRange(d.targetRanges[0]):t.document.selection.getFirstRange();const f=t.createSelection(m);if(am(t.schema,f)==="imageInline"){const w=new Nr(n.document),v=h.map(x=>x.childCount===1?(Array.from(x.getAttributes()).forEach(S=>w.setAttribute(...S,i.findViewImgElement(x))),x.getChild(0)):x);d.content=w.createDocumentFragment(v)}}),this.listenTo(a,"contentInsertion",(c,d)=>{d.method==="paste"&&t.change(h=>{const m=h.createRangeIn(d.content);for(const f of m.getItems())f.is("element","imageInline")&&i.setImageNaturalSizeAttributes(f)})})}}class I3 extends J{static get requires(){return[T3,za,yC,PC]}static get pluginName(){return"ImageInline"}}class LC extends J{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[rn]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class M3 extends Ae{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(BC))return this.isEnabled=!1,void(this.value=!1);const i=e.model.document.selection,a=i.getSelectedElement();if(!a){const c=t.getCaptionFromModelSelection(i);return this.isEnabled=!!c,void(this.value=!!c)}this.isEnabled=n.isImage(a),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(a):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageCaptionEditing"),a=this.editor.plugins.get("ImageUtils");let c=n.getSelectedElement();const d=i._getSavedCaption(c);a.isInlineImage(c)&&(this.editor.execute("imageTypeBlock"),c=n.getSelectedElement());const h=d||e.createElement("caption");e.append(h,c),t&&e.setSelection(h,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,i=t.plugins.get("ImageCaptionEditing"),a=t.plugins.get("ImageCaptionUtils");let c,d=n.getSelectedElement();d?c=a.getCaptionFromImageModelElement(d):(c=a.getCaptionFromModelSelection(n),d=c.parent),i._saveCaption(d,c),e.setSelection(d,"on"),e.remove(c)}}class N3 extends J{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[rn,LC]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new M3(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),a=e.t;e.conversion.for("upcast").elementToElement({view:c=>i.matchImageCaptionViewElement(c),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(c,{writer:d})=>n.isBlockImage(c.parent)?d.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(c,{writer:d})=>{if(!n.isBlockImage(c.parent))return null;const h=d.createEditableElement("figcaption");d.setCustomProperty("imageCaption",!0,h),h.placeholder=a("Enter image caption"),tw({view:t,element:h,keepOnFocus:!0});const m=c.parent.getAttribute("alt");return pv(h,d,{label:m?a("Caption for image: %0",[m]):a("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),i=e.commands.get("imageTypeInline"),a=e.commands.get("imageTypeBlock"),c=d=>{if(!d.return)return;const{oldElement:h,newElement:m}=d.return;if(!h)return;if(t.isBlockImage(h)){const w=n.getCaptionFromImageModelElement(h);if(w)return void this._saveCaption(m,w)}const f=this._getSavedCaption(h);f&&this._saveCaption(m,f)};i&&this.listenTo(i,"execute",c,{priority:"low"}),a&&this.listenTo(a,"execute",c,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Re.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const a=t.document.differ.getChanges();for(const c of a){if(c.attributeKey!=="alt")continue;const d=c.range.start.nodeAfter;if(n.isBlockImage(d)){const h=i.getCaptionFromImageModelElement(d);if(!h)return;e.editing.reconvertItem(h)}}})}}class B3 extends J{static get requires(){return[LC]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),i=e.t;e.ui.componentFactory.add("toggleImageCaption",a=>{const c=e.commands.get("toggleImageCaption"),d=new Ne(a);return d.set({icon:ge.caption,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(c,"value","isEnabled"),d.bind("label").to(c,"value",h=>i(h?"Toggle caption off":"Toggle caption on")),this.listenTo(d,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const h=n.getCaptionFromModelSelection(e.model.document.selection);if(h){const m=e.editing.mapper.toViewElement(h);t.scrollToTheSelection(),t.change(f=>{f.addClass("image__caption_highlighted",m)})}e.editing.view.focus()}),d})}}var RC=p(5247),j3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(RC.A,j3),RC.A.locals;function zC(r){const e=r.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function P3(r){return new Promise((e,t)=>{const n=r.getAttribute("src");fetch(n).then(i=>i.blob()).then(i=>{const a=FC(i,n),c=a.replace("image/",""),d=new File([i],`image.${c}`,{type:a});e(d)}).catch(i=>i&&i.name==="TypeError"?function(a){return function(c){return new Promise((d,h)=>{const m=_.document.createElement("img");m.addEventListener("load",()=>{const f=_.document.createElement("canvas");f.width=m.width,f.height=m.height,f.getContext("2d").drawImage(m,0,0),f.toBlob(w=>w?d(w):h())}),m.addEventListener("error",()=>h()),m.src=c})}(a).then(c=>{const d=FC(c,a),h=d.replace("image/","");return new File([c],`image.${h}`,{type:d})})}(n).then(e).catch(t):t(i))})}function FC(r,e){return r.type?r.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class O3 extends J{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=()=>{const i=this._createButton(a0);return i.set({label:t("Upload image from computer"),tooltip:!0}),i};if(e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const i=this._createButton(TA);return i.label=t("Image from computer"),i}),e.plugins.has("ImageInsertUI")){const i=e.plugins.get("ImageInsertUI");i.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const a=e.ui.componentFactory.create("uploadImage");return a.bind("label").to(i,"isImageSelected",c=>t(c?"Replace image from computer":"Upload image from computer")),a},formViewCreator:()=>{const a=e.ui.componentFactory.create("uploadImage");return a.withText=!0,a.bind("label").to(i,"isImageSelected",c=>t(c?"Replace from computer":"Upload from computer")),a.on("execute",()=>{i.dropdownView.isOpen=!1}),a}})}}_createButton(e){const t=this.editor,n=t.locale,i=t.commands.get("uploadImage"),a=t.config.get("image.upload.types"),c=zC(a),d=new e(t.locale),h=n.t;return d.set({acceptedType:a.map(m=>`image/${m}`).join(","),allowMultipleFiles:!0,label:h("Upload image from computer"),icon:ge.imageUpload}),d.bind("isEnabled").to(i),d.on("done",(m,f)=>{const w=Array.from(f).filter(v=>c.test(v.type));w.length&&(t.execute("uploadImage",{file:w}),t.editing.view.focus())}),d}}var VC=p(2267),L3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(VC.A,L3),VC.A.locals;var UC=p(7693),R3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(UC.A,R3),UC.A.locals;var HC=p(1559),z3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(HC.A,z3),HC.A.locals;class F3 extends J{constructor(e){super(e),this.uploadStatusChange=(t,n,i)=>{const a=this.editor,c=n.item,d=c.getAttribute("uploadId");if(!i.consumable.consume(n.item,t.name))return;const h=a.plugins.get("ImageUtils"),m=a.plugins.get(Jn),f=d?n.attributeNewValue:null,w=this.placeholder,v=a.editing.mapper.toViewElement(c),x=i.writer;if(f=="reading")return $C(v,x),void qC(h,w,v,x);if(f=="uploading"){const S=m.loaders.get(d);return $C(v,x),void(S?(WC(v,x),function(I,P,z,F){const W=function(K){const ie=K.createUIElement("div",{class:"ck-progress-bar"});return K.setCustomProperty("progressBar",!0,ie),ie}(P);P.insert(P.createPositionAt(I,"end"),W),z.on("change:uploadedPercent",(K,ie,de)=>{F.change(ke=>{ke.setStyle("width",de+"%",W)})})}(v,x,S,a.editing.view),function(I,P,z,F){if(F.data){const W=I.findViewImgElement(P);z.setAttribute("src",F.data,W)}}(h,v,x,S)):qC(h,w,v,x))}f=="complete"&&m.loaders.get(d)&&function(S,I,P){const z=I.createUIElement("div",{class:"ck-image-upload-complete-icon"});I.insert(I.createPositionAt(S,"end"),z),setTimeout(()=>{P.change(F=>F.remove(F.createRangeOn(z)))},3e3)}(v,x,a.editing.view),function(S,I){KC(S,I,"progressBar")}(v,x),WC(v,x),function(S,I){I.removeClass("ck-appear",S)}(v,x)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function $C(r,e){r.hasClass("ck-appear")||e.addClass("ck-appear",r)}function qC(r,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const i=r.findViewImgElement(t);i.getAttribute("src")!==e&&n.setAttribute("src",e,i),GC(t,"placeholder")||n.insert(n.createPositionAfter(i),function(a){const c=a.createUIElement("div",{class:"ck-upload-placeholder-loader"});return a.setCustomProperty("placeholder",!0,c),c}(n))}function WC(r,e){r.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",r),KC(r,e,"placeholder")}function GC(r,e){for(const t of r.getChildren())if(t.getCustomProperty(e))return t}function KC(r,e,t){const n=GC(r,t);n&&e.remove(e.createRangeOn(n))}var V3=Object.defineProperty,U3=Object.defineProperties,H3=Object.getOwnPropertyDescriptors,YC=Object.getOwnPropertySymbols,$3=Object.prototype.hasOwnProperty,q3=Object.prototype.propertyIsEnumerable,QC=(r,e,t)=>e in r?V3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;class W3 extends Ae{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=qe(e.file),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),a=Object.fromEntries(n.getAttributes());t.forEach((c,d)=>{const h=n.getSelectedElement();if(d&&h&&i.isImage(h)){const m=this.editor.model.createPositionAfter(h);this._uploadImage(c,a,m)}else this._uploadImage(c,a)})}_uploadImage(e,t,n){const i=this.editor,a=i.plugins.get(Jn).createLoader(e),c=i.plugins.get("ImageUtils");var d,h;a&&c.insertImage((d=((m,f)=>{for(var w in f||(f={}))$3.call(f,w)&&QC(m,w,f[w]);if(YC)for(var w of YC(f))q3.call(f,w)&&QC(m,w,f[w]);return m})({},t),h={uploadId:a.id},U3(d,H3(h))),n)}}class G3 extends J{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Jn,$p,Nn,rn]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,t=e.model.document,n=e.conversion,i=e.plugins.get(Jn),a=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline"),d=zC(e.config.get("image.upload.types")),h=new W3(e);e.commands.add("uploadImage",h),e.commands.add("imageUpload",h),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(m,f)=>{if(w=f.dataTransfer,Array.from(w.types).includes("text/html")&&w.getData("text/html")!=="")return;var w;const v=Array.from(f.dataTransfer.files).filter(x=>!!x&&d.test(x.type));v.length&&(m.stop(),e.model.change(x=>{f.targetRanges&&x.setSelection(f.targetRanges.map(S=>e.editing.mapper.toModelRange(S))),e.execute("uploadImage",{file:v})}))}),this.listenTo(c,"inputTransformation",(m,f)=>{const w=Array.from(e.editing.view.createRangeIn(f.content)).map(x=>x.item).filter(x=>function(S,I){return!(!S.isInlineImageView(I)||!I.getAttribute("src")||!I.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!I.getAttribute("src").match(/^blob:/g))}(a,x)&&!x.getAttribute("uploadProcessed")).map(x=>({promise:P3(x),imageElement:x}));if(!w.length)return;const v=new Nr(e.editing.view.document);for(const x of w){v.setAttribute("uploadProcessed",!0,x.imageElement);const S=i.createLoader(x.promise);S&&(v.setAttribute("src","",x.imageElement),v.setAttribute("uploadId",S.id,x.imageElement))}}),e.editing.view.document.on("dragover",(m,f)=>{f.preventDefault()}),t.on("change",()=>{const m=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),f=new Set;for(const w of m)if(w.type=="insert"&&w.name!="$text"){const v=w.position.nodeAfter,x=w.position.root.rootName=="$graveyard";for(const S of K3(e,v)){const I=S.getAttribute("uploadId");if(!I)continue;const P=i.loaders.get(I);P&&(x?f.has(I)||P.abort():(f.add(I),this._uploadImageElements.set(I,S),P.status=="idle"&&this._readAndUpload(P)))}}}),this.on("uploadComplete",(m,{imageElement:f,data:w})=>{const v=w.urls?w.urls:w;this.editor.model.change(x=>{x.setAttribute("src",v.default,f),this._parseAndSetSrcsetAttributeOnImage(v,f,x),a.setImageNaturalSizeAttributes(f)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,i=t.locale.t,a=t.plugins.get(Jn),c=t.plugins.get($p),d=t.plugins.get("ImageUtils"),h=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},f=>{f.setAttribute("uploadStatus","reading",h.get(e.id))}),e.read().then(()=>{const f=e.upload(),w=h.get(e.id);if(E.isSafari){const v=t.editing.mapper.toViewElement(w),x=d.findViewImgElement(v);t.editing.view.once("render",()=>{if(!x.parent)return;const S=t.editing.view.domConverter.mapViewToDom(x.parent);if(!S)return;const I=S.style.display;S.style.display="none",S._ckHack=S.offsetHeight,S.style.display=I})}return t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Uploading image")),n.enqueueChange({isUndoable:!1},v=>{v.setAttribute("uploadStatus","uploading",w)}),f}).then(f=>{n.enqueueChange({isUndoable:!1},w=>{const v=h.get(e.id);w.setAttribute("uploadStatus","complete",v),t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Image upload complete")),this.fire("uploadComplete",{data:f,imageElement:v})}),m()}).catch(f=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw f;e.status=="error"&&f&&c.showWarning(f,{title:i("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},w=>{w.remove(h.get(e.id))}),m()});function m(){n.enqueueChange({isUndoable:!1},f=>{const w=h.get(e.id);f.removeAttribute("uploadId",w),f.removeAttribute("uploadStatus",w),h.delete(e.id)}),a.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let i=0;const a=Object.keys(e).filter(c=>{const d=parseInt(c,10);if(!isNaN(d))return i=Math.max(i,d),!0}).map(c=>`${e[c]} ${c}w`).join(", ");if(a!=""){const c={srcset:a};t.hasAttribute("width")||t.hasAttribute("height")||(c.width=i),n.setAttributes(c,t)}}}function K3(r,e){const t=r.plugins.get("ImageUtils");return Array.from(r.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}var JC=p(4642),Y3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(JC.A,Y3),JC.A.locals;var ZC=p(3469),Q3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(ZC.A,Q3),ZC.A.locals;class J3 extends Ae{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const i of n.modelElements)this._defaultStyles[i]=n.name;return[n.name,n]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,i=t.plugins.get("ImageUtils");n.change(a=>{const c=e.value,{setImageSizes:d=!0}=e;let h=i.getClosestSelectedImageElement(n.document.selection);c&&this.shouldConvertImageType(c,h)&&(this.editor.execute(i.isBlockImage(h)?"imageTypeInline":"imageTypeBlock",{setImageSizes:d}),h=i.getClosestSelectedImageElement(n.document.selection)),!c||this._styles.get(c).isDefault?a.removeAttribute("imageStyle",h):a.setAttribute("imageStyle",c,h),d&&i.setImageNaturalSizeAttributes(h)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}var Z3=Object.defineProperty,XC=Object.getOwnPropertySymbols,X3=Object.prototype.hasOwnProperty,eO=Object.prototype.propertyIsEnumerable,ey=(r,e,t)=>e in r?Z3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ty=(r,e)=>{for(var t in e||(e={}))X3.call(e,t)&&ey(r,t,e[t]);if(XC)for(var t of XC(e))eO.call(e,t)&&ey(r,t,e[t]);return r};const{objectFullWidth:tO,objectInline:ny,objectLeft:ry,objectRight:cm,objectCenter:dm,objectBlockLeft:iy,objectBlockRight:oy}=ge,fd={get inline(){return{name:"inline",title:"In line",icon:ny,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:ry,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:iy,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:dm,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:cm,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:oy,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:dm,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:cm,modelElements:["imageBlock"],className:"image-style-side"}}},sy={full:tO,left:iy,right:oy,center:dm,inlineLeft:ry,inlineRight:cm,inline:ny},ay=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function ly(r){$("image-style-configuration-definition-invalid",r)}const um={normalizeStyles:function(r){return(r.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?fd[t]?ty({},fd[t]):{name:t}:function(n,i){const a=ty({},i);for(const c in n)Object.prototype.hasOwnProperty.call(i,c)||(a[c]=n[c]);return a}(fd[t.name],t),typeof t.icon=="string"&&(t.icon=sy[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:n,isInlinePluginLoaded:i}){const{modelElements:a,name:c}=t;if(!(a&&a.length&&c))return ly({style:t}),!1;{const d=[n?"imageBlock":null,i?"imageInline":null];if(!a.some(h=>d.includes(h)))return $("image-style-missing-dependency",{style:t,missingPlugins:a.map(h=>h==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,r))},getDefaultStylesConfiguration:function(r,e){return r&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:r?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(r){return r.has("ImageBlockEditing")&&r.has("ImageInlineEditing")?[...ay]:[]},warnInvalidStyle:ly,DEFAULT_OPTIONS:fd,DEFAULT_ICONS:sy,DEFAULT_DROPDOWN_DEFINITIONS:ay};function cy(r,e){for(const t of e)if(t.name===r)return t}class dy extends J{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[rn]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=um,n=this.editor,i=n.plugins.has("ImageBlockEditing"),a=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(i,a)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:i,isInlinePluginLoaded:a}),this._setupConversion(i,a),this._setupPostFixer(),n.commands.add("imageStyle",new J3(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,i=n.model.schema,a=(c=this.normalizedStyles,(h,m,f)=>{if(!f.consumable.consume(m.item,h.name))return;const w=cy(m.attributeNewValue,c),v=cy(m.attributeOldValue,c),x=f.mapper.toViewElement(m.item),S=f.writer;v&&S.removeClass(v.className,x),w&&S.addClass(w.className,x)});var c;const d=function(h){const m={imageInline:h.filter(f=>!f.isDefault&&f.modelElements.includes("imageInline")),imageBlock:h.filter(f=>!f.isDefault&&f.modelElements.includes("imageBlock"))};return(f,w,v)=>{if(!w.modelRange)return;const x=w.viewItem,S=_t(w.modelRange.getItems());if(S&&v.schema.checkAttribute(S,"imageStyle"))for(const I of m[S.name])v.consumable.consume(x,{classes:I.className})&&v.writer.setAttribute("imageStyle",I.name,S)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",a),n.data.downcastDispatcher.on("attribute:imageStyle",a),e&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",d,{priority:"low"})),t&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",d,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(rn),i=new Map(this.normalizedStyles.map(a=>[a.name,a]));t.registerPostFixer(a=>{let c=!1;for(const d of t.differ.getChanges())if(d.type=="insert"||d.type=="attribute"&&d.attributeKey=="imageStyle"){let h=d.type=="insert"?d.position.nodeAfter:d.range.start.nodeAfter;if(h&&h.is("element","paragraph")&&h.childCount>0&&(h=h.getChild(0)),!n.isImage(h))continue;const m=h.getAttribute("imageStyle");if(!m)continue;const f=i.get(m);f&&f.modelElements.includes(h.name)||(a.removeAttribute("imageStyle",h),c=!0)}return c})}}var uy=p(6386),nO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(uy.A,nO),uy.A.locals;class rO extends J{static get requires(){return[dy]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=hy(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const a of n)this._createButton(a);const i=hy([...t.filter(Se),...um.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const a of i)this._createDropdown(a,n)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,i=>{let a;const{defaultItem:c,items:d,title:h}=e,m=d.filter(x=>t.find(({name:S})=>py(S)===x)).map(x=>{const S=n.create(x);return x===c&&(a=S),S});d.length!==m.length&&um.warnInvalidStyle({dropdown:e});const f=jr(i,qc),w=f.buttonView,v=w.arrowView;return zp(f,m,{enableActiveItemFocusOnDropdownOpen:!0}),w.set({label:my(h,a.label),class:null,tooltip:!0}),v.unbind("label"),v.set({label:h}),w.bind("icon").toMany(m,"isOn",(...x)=>{const S=x.findIndex(si);return S<0?a.icon:m[S].icon}),w.bind("label").toMany(m,"isOn",(...x)=>{const S=x.findIndex(si);return my(h,S<0?a.label:m[S].label)}),w.bind("isOn").toMany(m,"isOn",(...x)=>x.some(si)),w.bind("class").toMany(m,"isOn",(...x)=>x.some(si)?"ck-splitbutton_flatten":void 0),w.on("execute",()=>{m.some(({isOn:x})=>x)?f.isOpen=!f.isOpen:a.fire("execute")}),f.bind("isEnabled").toMany(m,"isEnabled",(...x)=>x.some(si)),this.listenTo(f,"execute",()=>{this.editor.editing.view.focus()}),f})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(py(t),n=>{const i=this.editor.commands.get("imageStyle"),a=new Ne(n);return a.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),a.bind("isEnabled").to(i,"isEnabled"),a.bind("isOn").to(i,"value",c=>c===t),a.on("execute",this._executeCommand.bind(this,t)),a})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function hy(r,e){for(const t of r)e[t.title]&&(t.title=e[t.title]);return r}function py(r){return`imageStyle:${r}`}function my(r,e){return(r?r+": ":"")+e}class iO extends J{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Yb(e)),e.commands.add("outdent",new Yb(e))}}class oO extends J{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,i=t.uiLanguageDirection=="ltr"?ge.indent:ge.outdent,a=t.uiLanguageDirection=="ltr"?ge.outdent:ge.indent;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),a)}_defineButton(e,t,n){const i=this.editor;i.ui.componentFactory.add(e,()=>{const a=this._createButton(Ne,e,t,n);return a.set({tooltip:!0}),a}),i.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(bn,e,t,n))}_createButton(e,t,n,i){const a=this.editor,c=a.commands.get(t),d=new e(a.locale);return d.set({label:n,icon:i}),d.bind("isEnabled").to(c,"isEnabled"),this.listenTo(d,"execute",()=>{a.execute(t),a.editing.view.focus()}),d}}class sO{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,i)=>{if(!i.consumable.test(n.item,"attribute:linkHref")||!n.item.is("selection")&&!i.schema.isInline(n.item))return;const a=i.writer,c=a.document.selection;for(const d of this._definitions){const h=a.createAttributeElement("a",d.attributes,{priority:5});d.classes&&a.addClass(d.classes,h);for(const m in d.styles)a.setStyle(m,d.styles[m],h);a.setCustomProperty("link",!0,h),d.callback(n.attributeNewValue)?n.item.is("selection")?a.wrap(c.getFirstRange(),h):a.wrap(i.mapper.toViewRange(n.range),h):a.unwrap(i.mapper.toViewRange(n.range),h)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:i,mapper:a})=>{const c=a.toViewElement(n.item),d=Array.from(c.getChildren()).find(h=>h.is("element","a"));for(const h of this._definitions){const m=pr(h.attributes);if(h.callback(n.attributeNewValue)){for(const[f,w]of m)f==="class"?i.addClass(w,d):i.setAttribute(f,w,d);h.classes&&i.addClass(h.classes,d);for(const f in h.styles)i.setStyle(f,h.styles[f],d)}else{for(const[f,w]of m)f==="class"?i.removeClass(w,d):i.removeAttribute(f,d);h.classes&&i.removeClass(h.classes,d);for(const f in h.styles)i.removeStyle(f,d)}}})}}}const aO=function(r,e,t){var n=r.length;return t=t===void 0?n:t,aw(r,e,t)};var lO=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const gy=function(r){return lO.test(r)},cO=function(r){return r.split("")};var fy="\\ud800-\\udfff",dO="["+fy+"]",hm="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",pm="\\ud83c[\\udffb-\\udfff]",ky="[^"+fy+"]",by="(?:\\ud83c[\\udde6-\\uddff]){2}",wy="[\\ud800-\\udbff][\\udc00-\\udfff]",_y="(?:"+hm+"|"+pm+")?",Ay="[\\ufe0e\\ufe0f]?",uO=Ay+_y+("(?:\\u200d(?:"+[ky,by,wy].join("|")+")"+Ay+_y+")*"),hO="(?:"+[ky+hm+"?",hm,by,wy,dO].join("|")+")",pO=RegExp(pm+"(?="+pm+")|"+hO+uO,"g");const mO=function(r){return r.match(pO)||[]},gO=function(r){return gy(r)?mO(r):cO(r)},fO=function(r){return function(e){e=np(e);var t=gy(e)?gO(e):void 0,n=t?t[0]:e.charAt(0),i=t?aO(t,1).join(""):e.slice(1);return n[r]()+i}}("toUpperCase"),kO=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,bO=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,wO=/^((\w+:(\/{2,})?)|(\W))/i,_O=["https?","ftps?","mailto"],kd="Ctrl+K";function vy(r,{writer:e}){const t=e.createAttributeElement("a",{href:r},{priority:5});return e.setCustomProperty("link",!0,t),t}function Cy(r,e=_O){const t=String(r),n=e.join("|");return function(i,a){return!!i.replace(kO,"").match(a)}(t,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",n)}`,"i"))?t:"#"}function mm(r,e){return!!r&&e.checkAttribute(r.name,"linkHref")}function gm(r,e){const t=(n=r,bO.test(n)?"mailto:":e);var n;const i=!!t&&!yy(r);return r&&i?t+r:r}function yy(r){return wO.test(r)}function xy(r){window.open(r,"_blank","noopener")}class AO extends Ae{constructor(){super(...arguments),this.manualDecorators=new $n,this.automaticDecorators=new sO}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||_t(t.getSelectedBlocks());mm(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}execute(e,t={}){const n=this.editor.model,i=n.document.selection,a=[],c=[];for(const d in t)t[d]?a.push(d):c.push(d);n.change(d=>{if(i.isCollapsed){const h=i.getFirstPosition();if(i.hasAttribute("linkHref")){const m=Ey(i);let f=rd(h,"linkHref",i.getAttribute("linkHref"),n);i.getAttribute("linkHref")===m&&(f=this._updateLinkContent(n,d,f,e)),d.setAttribute("linkHref",e,f),a.forEach(w=>{d.setAttribute(w,!0,f)}),c.forEach(w=>{d.removeAttribute(w,f)}),d.setSelection(d.createPositionAfter(f.end.nodeBefore))}else if(e!==""){const m=pr(i.getAttributes());m.set("linkHref",e),a.forEach(w=>{m.set(w,!0)});const{end:f}=n.insertContent(d.createText(e,m),h);d.setSelection(f)}["linkHref",...a,...c].forEach(m=>{d.removeSelectionAttribute(m)})}else{const h=n.schema.getValidRanges(i.getRanges(),"linkHref"),m=[];for(const w of i.getSelectedBlocks())n.schema.checkAttribute(w,"linkHref")&&m.push(d.createRangeOn(w));const f=m.slice();for(const w of h)this._isRangeToUpdate(w,m)&&f.push(w);for(const w of f){let v=w;if(f.length===1){const x=Ey(i);i.getAttribute("linkHref")===x&&(v=this._updateLinkContent(n,d,w,e),d.setSelection(d.createSelection(v)))}d.setAttribute("linkHref",e,v),a.forEach(x=>{d.setAttribute(x,!0,v)}),c.forEach(x=>{d.removeAttribute(x,v)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,i=n.getSelectedElement();return mm(i,t.schema)?i.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,i){const a=t.createText(i,{linkHref:i});return e.insertContent(a,n)}}function Ey(r){if(r.isCollapsed){const e=r.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(r.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class vO extends Ae{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();mm(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,i=e.commands.get("link");t.change(a=>{const c=n.isCollapsed?[rd(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const d of c)if(a.removeAttribute("linkHref",d),i)for(const h of i.manualDecorators)a.removeAttribute(h.id,d)})}}class CO extends Le(){constructor({id:e,label:t,attributes:n,classes:i,styles:a,defaultValue:c}){super(),this.id=e,this.set("value",void 0),this.defaultValue=c,this.label=t,this.attributes=n,this.classes=i,this.styles=a}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Dy=p(7719),yO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Dy.A,yO),Dy.A.locals;var xO=Object.defineProperty,Sy=Object.getOwnPropertySymbols,EO=Object.prototype.hasOwnProperty,DO=Object.prototype.propertyIsEnumerable,Ty=(r,e,t)=>e in r?xO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,SO=(r,e)=>{for(var t in e||(e={}))EO.call(e,t)&&Ty(r,t,e[t]);if(Sy)for(var t of Sy(e))DO.call(e,t)&&Ty(r,t,e[t]);return r};const Iy="automatic",TO=/^(https?:)?\/\//;class My extends J{static get pluginName(){return"LinkEditing"}static get requires(){return[nv,YA,Nn]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:vy}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(i,a)=>vy(Cy(i,t),a)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:i=>i.getAttribute("href")}}),e.commands.add("link",new AO(e)),e.commands.add("unlink",new vO(e));const n=function(i,a){const c={"Open in a new tab":i("Open in a new tab"),Downloadable:i("Downloadable")};return a.forEach(d=>("label"in d&&c[d.label]&&(d.label=c[d.label]),d)),a}(e.t,function(i){const a=[];if(i)for(const[c,d]of Object.entries(i)){const h=Object.assign({},d,{id:`link${fO(c)}`});a.push(h)}return a}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(i=>i.mode===Iy)),this._enableManualDecorators(n.filter(i=>i.mode==="manual")),e.plugins.get(nv).registerAttribute("linkHref"),function(i,a,c,d){const h=i.editing.view,m=new Set;h.document.registerPostFixer(f=>{const w=i.model.document.selection;let v=!1;if(w.hasAttribute(a)){const x=rd(w.getFirstPosition(),a,w.getAttribute(a),i.model),S=i.editing.mapper.toViewRange(x);for(const I of S.getItems())I.is("element",c)&&!I.hasClass(d)&&(f.addClass(d,I),m.add(I),v=!0)}return v}),i.conversion.for("editingDowncast").add(f=>{function w(){h.change(v=>{for(const x of m.values())v.removeClass(d,x),m.delete(x)})}f.on("insert",w,{priority:"highest"}),f.on("remove",w,{priority:"highest"}),f.on("attribute",w,{priority:"highest"}),f.on("selection",w,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:Iy,callback:i=>!!i&&TO.test(i),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(i=>{t.model.schema.extend("$text",{allowAttributes:i.id});const a=new CO(i);n.add(a),t.conversion.for("downcast").attributeToElement({model:a.id,view:(c,{writer:d,schema:h},{item:m})=>{if((m.is("selection")||h.isInline(m))&&c){const f=d.createAttributeElement("a",a.attributes,{priority:5});a.classes&&d.addClass(a.classes,f);for(const w in a.styles)d.setStyle(w,a.styles[w],f);return d.setCustomProperty("link",!0,f),f}}}),t.conversion.for("upcast").elementToAttribute({view:SO({name:"a"},a._createPattern()),model:{key:a.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(n,i)=>{if(!(E.isMac?i.domEvent.metaKey:i.domEvent.ctrlKey))return;let a=i.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const c=a.getAttribute("href");c&&(n.stop(),i.preventDefault(),xy(c))},{context:"$capture"}),this.listenTo(t,"keydown",(n,i)=>{const a=e.commands.get("link").value;a&&i.keyCode===Te.enter&&i.altKey&&(n.stop(),xy(a))})}_enableSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(t,"change:attribute",(n,{attributeKeys:i})=>{i.includes("linkHref")&&!t.hasAttribute("linkHref")&&e.change(a=>{var c;(function(d,h){d.removeSelectionAttribute("linkHref");for(const m of h)d.removeSelectionAttribute(m)})(a,(c=e.schema,c.getDefinition("$text").allowAttributes.filter(d=>d.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(i,a)=>{t.change(c=>{const d=c.createRangeIn(a.content);for(const h of d.getItems())if(h.hasAttribute("linkHref")){const m=gm(h.getAttribute("linkHref"),n);c.setAttribute("linkHref",m,h)}})})}}var Ny=p(3817),IO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Ny.A,IO),Ny.A.locals;class MO extends ce{constructor(e,t,n){super(e),this.focusTracker=new At,this.keystrokes=new Ut,this._focusables=new Tn;const i=e.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),ge.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),ge.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new Mn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const a=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&a.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Ac({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new Hc(this.locale,Wc);return t.label=e("Link URL"),t}_createButton(e,t,n,i){const a=new Ne(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.extendTemplate({attributes:{class:n}}),i&&a.delegate("execute").to(this,i),a}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const i=new Vc(this.locale);i.set({name:n.id,label:n.label,withText:!0}),i.bind("isOn").toMany([n,e],"value",(a,c)=>c===void 0&&a===void 0?!!n.defaultValue:!!a),i.on("execute",()=>{n.set("value",!i.isOn)}),t.add(i)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new ce;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(i=>({tag:"li",children:[i],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var By=p(8762),NO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(By.A,NO),By.A.locals;class BO extends ce{constructor(e,t={}){super(e),this.focusTracker=new At,this.keystrokes=new Ut,this._focusables=new Tn;const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),ge.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new Mn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const i=new Ne(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const e=new Ne(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",i=>i&&Cy(i,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",i=>i||n("This link has no URL")),e.bind("isEnabled").to(this,"href",i=>!!i),e.template.tag="a",e.template.eventListeners={},e}}const br="link-ui";class jO extends J{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Zc]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver(DN),this._balloon=e.plugins.get(Zc),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:br,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:br,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:kd},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new BO(e.locale,e.config.get("link")),n=e.commands.get("link"),i=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(a,c)=>{this._hideUI(),c()}),t.keystrokes.set(kd,(a,c)=>{this._addFormView(),c()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),i=new(Jh(MO))(e.locale,t,function(a){const c=a.t,d=a.config.get("link.allowCreatingEmptyLinks");return[h=>{if(!d&&!h.url.length)return c("Link URL must not be empty.")}]}(e));return i.urlInputView.fieldView.bind("value").to(t,"value"),i.urlInputView.bind("isEnabled").to(t,"isEnabled"),i.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(i,"submit",()=>{if(i.isValid()){const{value:a}=i.urlInputView.fieldView.element,c=gm(a,n);e.execute("link",c,i.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(i.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(i,"cancel",()=>{this._closeFormView()}),i.keystrokes.set("Esc",(a,c)=>{this._closeFormView(),c()}),i}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const n=this._createButton(Ne);return n.set({tooltip:!0,isToggleable:!0}),n.bind("isOn").to(t,"value",i=>!!i),n}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(bn))}_createButton(e){const t=this.editor,n=t.locale,i=t.commands.get("link"),a=new e(t.locale),c=n.t;return a.set({label:c("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:kd}),a.bind("isEnabled").to(i,"isEnabled"),this.listenTo(a,"execute",()=>this._showUI(!0)),a}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(kd,(n,i)=>{i(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),_c({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),i=c();const a=()=>{const d=this._getSelectedLinkElement(),h=c();n&&!d||!n&&h!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=d,i=h};function c(){return t.selection.focus.getAncestors().reverse().find(d=>d.is("element"))}this.listenTo(e.ui,"update",a),this.listenTo(this._balloon,"change:visibleView",a)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let i;if(t.markers.has(br)){const a=Array.from(this.editor.editing.mapper.markerNameToElements(br)),c=e.createRange(e.createPositionBefore(a[0]),e.createPositionAfter(a[a.length-1]));i=e.domConverter.viewRangeToDom(c)}else i=()=>{const a=this._getSelectedLinkElement();return a?e.domConverter.mapViewToDom(a):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:i}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&dt(n))return fm(t.getFirstPosition());{const i=t.getFirstRange().getTrimmed(),a=fm(i.start),c=fm(i.end);return a&&a==c&&e.createRangeIn(a).getTrimmed().isEqual(i)?a:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(br))t.updateMarker(br,{range:n});else if(n.start.isAtEnd){const i=n.start.getLastMatchingPosition(({item:a})=>!e.schema.isContent(a),{boundaries:n});t.addMarker(br,{usingOperation:!1,affectsData:!1,range:t.createRange(i,n.end)})}else t.addMarker(br,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(br)&&e.change(t=>{t.removeMarker(br)})}}function fm(r){return r.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const jy=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class PO extends J{static get requires(){return[Or,My]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?rd(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const n=this.editor.model,i=n.document.selection,a=i.getFirstPosition(),c=i.getLastPosition();let d=t.getJoined(this._expandLinkRange(n,a)||t);d&&(d=d.getJoined(this._expandLinkRange(n,c)||t)),d&&(d.start.isBefore(a)||d.end.isAfter(c))&&e.setSelection(d)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,i=e.plugins.get("ClipboardPipeline"),a=e.commands.get("link");i.on("inputTransformation",(c,d)=>{if(!this.isEnabled||!a.isEnabled||n.isCollapsed||d.method!=="paste"||n.rangeCount>1)return;const h=n.getFirstRange(),m=d.dataTransfer.getData("text/plain");if(!m)return;const f=m.match(jy);f&&f[2]===m&&(t.change(w=>{this._selectEntireLinks(w,h),a.execute(m)}),c.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new tv(e.model,n=>{if(!function(a){return a.length>4&&a[a.length-1]===" "&&a[a.length-2]!==" "}(n))return;const i=Py(n.substr(0,n.length-1));return i?{url:i}:void 0});t.on("matched:data",(n,i)=>{const{batch:a,range:c,url:d}=i;if(!a.isTyping)return;const h=c.end.getShiftedBy(-1),m=h.getShiftedBy(-d.length),f=e.model.createRange(m,h);this._applyAutoLink(d,f)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const i=t.document.selection.getFirstPosition();if(!i.parent.previousSibling)return;const a=t.createRangeIn(i.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(a)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const i=t.document.selection.getFirstPosition(),a=t.createRange(t.createPositionAt(i.parent,0),i.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(a)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:i}=ev(e,t),a=Py(n);if(a){const c=t.createRange(i.end.getShiftedBy(-a.length),i.end);this._applyAutoLink(a,c)}}_applyAutoLink(e,t){const n=this.editor.model,i=gm(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(a,c){return c.schema.checkAttributeInSelection(c.createSelection(a),"linkHref")}(t,n)&&yy(i)&&!function(a){const c=a.start.nodeAfter;return!!c&&c.hasAttribute("linkHref")}(t)&&this._persistAutoLink(i,t)}_persistAutoLink(e,t){const n=this.editor.model,i=this.editor.plugins.get("Delete");n.enqueueChange(a=>{a.setAttribute("linkHref",e,t),n.enqueueChange(()=>{i.requestUndoOnBackspace()})})}}function Py(r){const e=jy.exec(r);return e?e[2]:null}var Oy=p(4808),OO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Oy.A,OO),Oy.A.locals;class jn{constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=t.direction=="forward",this._includeSelf=!!t.includeSelf,this._sameAttributes=qe(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return _t(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of Ua(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(i=>t.getAttribute(i)!==this._startElement.getAttribute(i)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Ua(r,e="forward"){const t=e=="forward",n=[];let i=null;for(;gt(r);){let a=null;if(i){const c=r.getAttribute("listIndent"),d=i.getAttribute("listIndent");c>d?n[d]=i:c<d?(a=n[c],n.length=c):a=i}yield{node:r,previous:i,previousNodeInList:a},i=r,r=t?r.nextSibling:r.previousSibling}}class LO{constructor(e){this._listHead=e}[Symbol.iterator](){return Ua(this._listHead,"forward")}}var RO=Object.defineProperty,zO=Object.defineProperties,FO=Object.getOwnPropertyDescriptors,Ly=Object.getOwnPropertySymbols,VO=Object.prototype.hasOwnProperty,UO=Object.prototype.propertyIsEnumerable,Ry=(r,e,t)=>e in r?RO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ha=(r,e)=>{for(var t in e||(e={}))VO.call(e,t)&&Ry(r,t,e[t]);if(Ly)for(var t of Ly(e))UO.call(e,t)&&Ry(r,t,e[t]);return r},km=(r,e)=>zO(r,FO(e));class hs{static next(){return R()}}function gt(r){return!!r&&r.is("element")&&r.hasAttribute("listItemId")}function bm(r,e={}){return[...hi(r,km(Ha({},e),{direction:"backward"})),...hi(r,km(Ha({},e),{direction:"forward"}))]}function hi(r,e={}){const t=e.direction=="forward",n=Array.from(new jn(r,km(Ha({},e),{includeSelf:t,sameIndent:!0,sameAttributes:"listItemId"})));return t?n:n.reverse()}function zy(r,e){const t=new jn(r,Ha({sameIndent:!0,sameAttributes:"listType"},e)),n=new jn(r,Ha({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(t).reverse(),...n]}function ao(r){return!jn.first(r,{sameIndent:!0,sameAttributes:"listItemId"})}function Fy(r){return!jn.first(r,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function $a(r,e={}){r=qe(r);const t=e.withNested!==!1,n=new Set;for(const i of r)for(const a of bm(i,{higherIndent:t}))n.add(a);return lo(n)}function HO(r){r=qe(r);const e=new Set;for(const t of r)for(const n of zy(t))e.add(n);return lo(e)}function wm(r,e){const t=hi(r,{direction:"forward"}),n=hs.next();for(const i of t)e.setAttribute("listItemId",n,i);return t}function _m(r,e,t){const n={};for(const[a,c]of e.getAttributes())a.startsWith("list")&&(n[a]=c);const i=hi(r,{direction:"forward"});for(const a of i)t.setAttributes(n,a);return i}function Am(r,e,{expand:t,indentBy:n=1}={}){r=qe(r);const i=t?$a(r):r;for(const a of i){const c=a.getAttribute("listIndent")+n;c<0?bd(a,e):e.setAttribute("listIndent",c,a)}return i}function bd(r,e){r=qe(r);for(const t of r)t.is("element","listItem")&&e.rename(t,"paragraph");for(const t of r)for(const n of t.getAttributeKeys())n.startsWith("list")&&e.removeAttribute(n,t);return r}function qa(r){if(!r.length)return!1;const e=r[0].getAttribute("listItemId");return!!e&&!r.some(t=>t.getAttribute("listItemId")!=e)}function lo(r){return Array.from(r).filter(e=>e.root.rootName!=="$graveyard").sort((e,t)=>e.index-t.index)}function Wa(r){const e=r.document.selection.getSelectedElement();return e&&r.schema.isObject(e)&&r.schema.isBlock(e)?e:null}function vm(r,e){return e.checkChild(r.parent,"listItem")&&e.checkChild(r,"$text")&&!e.isObject(r)}function $O(r){return r=="numbered"||r=="customNumbered"}function qO(r,e,t){return hi(e,{direction:"forward"}).pop().index>r.index?_m(r,e,t):[]}class Vy extends Ae{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=Uy(e.document.selection);e.change(n=>{const i=[];qa(t)&&!ao(t[0])?(this._direction=="forward"&&i.push(...Am(t,n)),i.push(...wm(t[0],n))):this._direction=="forward"?i.push(...Am(t,n,{expand:!0})):i.push(...function(a,c){const d=$a(a=qe(a)),h=new Set,m=Math.min(...d.map(w=>w.getAttribute("listIndent"))),f=new Map;for(const w of d)f.set(w,jn.first(w,{lowerIndent:!0}));for(const w of d){if(h.has(w))continue;h.add(w);const v=w.getAttribute("listIndent")-1;if(v<0)bd(w,c);else{if(w.getAttribute("listIndent")==m){const x=qO(w,f.get(w),c);for(const S of x)h.add(S);if(x.length)continue}c.setAttribute("listIndent",v,w)}}return lo(h)}(t,n));for(const a of i){if(!a.hasAttribute("listType"))continue;const c=jn.first(a,{sameIndent:!0});c&&n.setAttribute("listType",c.getAttribute("listType"),a)}this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",lo(new Set(e)))}_checkEnabled(){let e=Uy(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||qa(e)&&!ao(e[0]))return!0;e=$a(e),t=e[0];const n=jn.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function Uy(r){const e=Array.from(r.getSelectedBlocks()),t=e.findIndex(n=>!gt(n));return t!=-1&&(e.length=t),e}var WO=Object.defineProperty,GO=Object.defineProperties,KO=Object.getOwnPropertyDescriptors,Hy=Object.getOwnPropertySymbols,YO=Object.prototype.hasOwnProperty,QO=Object.prototype.propertyIsEnumerable,$y=(r,e,t)=>e in r?WO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cm=(r,e)=>{for(var t in e||(e={}))YO.call(e,t)&&$y(r,t,e[t]);if(Hy)for(var t of Hy(e))QO.call(e,t)&&$y(r,t,e[t]);return r},ym=(r,e)=>GO(r,KO(e));class wd extends Ae{constructor(e,t,n={}){super(e),this.type=t,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,i=Wa(t),a=Array.from(n.selection.getSelectedBlocks()).filter(d=>t.schema.checkAttribute(d,"listType")||vm(d,t.schema)),c=e.forceValue!==void 0?!e.forceValue:this.value;t.change(d=>{if(c){const h=a[a.length-1],m=hi(h,{direction:"forward"}),f=[];m.length>1&&f.push(...wm(m[1],d)),f.push(...bd(a,d)),f.push(...function(w,v){const x=[];let S=Number.POSITIVE_INFINITY;for(const{node:I}of Ua(w.nextSibling,"forward")){const P=I.getAttribute("listIndent");if(P==0)break;P<S&&(S=P);const z=P-S;v.setAttribute("listIndent",z,I),x.push(I)}return x}(h,d)),this._fireAfterExecute(f)}else if((i||n.selection.isCollapsed)&&gt(a[0])){const h=zy(i||a[0],this._listWalkerOptions);for(const m of h)d.setAttributes(ym(Cm({},e.additionalAttributes),{listType:this.type}),m);this._fireAfterExecute(h)}else{const h=[];for(const m of a)if(m.hasAttribute("listType"))for(const f of $a(m,{withNested:!1}))f.getAttribute("listType")!=this.type&&(d.setAttributes(ym(Cm({},e.additionalAttributes),{listType:this.type}),f),h.push(f));else!m.is("element","listItem")&&vm(m,t.schema)&&d.rename(m,"listItem"),d.setAttributes(ym(Cm({},e.additionalAttributes),{listIndent:0,listItemId:hs.next(),listType:this.type}),m),h.push(m);this._fireAfterExecute(h)}})}_fireAfterExecute(e){this.fire("afterExecute",lo(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const n of t)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,i=Array.from(n.getSelectedBlocks());if(!i.length)return!1;if(this.value)return!0;for(const a of i)if(t.checkAttribute(a,"listType")||vm(a,t))return!0;return!1}}class qy extends Ae{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,n=t.document.selection,i=[];t.change(a=>{const{firstElement:c,lastElement:d}=this._getMergeSubjectElements(n,e),h=c.getAttribute("listIndent")||0,m=d.getAttribute("listIndent"),f=d.getAttribute("listItemId");if(h!=m){const v=(w=d,Array.from(new jn(w,{direction:"forward",higherIndent:!0})));i.push(...Am([d,...v],a,{indentBy:h-m,expand:h<m}))}var w;if(e){let v=n;n.isCollapsed&&(v=a.createSelection(a.createRange(a.createPositionAt(c,"end"),a.createPositionAt(d,0)))),t.deleteContent(v,{doNotResetEntireContent:n.isCollapsed});const x=v.getLastPosition().parent,S=x.nextSibling;i.push(x),S&&S!==d&&S.getAttribute("listItemId")==f&&i.push(..._m(S,x,a))}else i.push(..._m(d,c,a));this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",lo(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=Wa(e);if(t.isCollapsed||n){const i=n||t.getFirstPosition().parent;if(!gt(i))return!1;const a=this._direction=="backward"?i.previousSibling:i.nextSibling;if(!a||qa([i,a]))return!1}else{const i=t.getLastPosition(),a=t.getFirstPosition();if(i.parent===a.parent||!gt(i.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=Wa(this.editor.model);let i,a;if(e.isCollapsed||n){const c=n||e.getFirstPosition().parent,d=ao(c);this._direction=="backward"?(a=c,i=d&&!t?jn.first(c,{sameIndent:!0,lowerIndent:!0}):c.previousSibling):(i=c,a=c.nextSibling)}else i=e.getFirstPosition().parent,a=e.getLastPosition().parent;return{firstElement:i,lastElement:a}}}class Wy extends Ae{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const t=wm(this._getStartBlock(),e);this._fireAfterExecute(t)})}_fireAfterExecute(e){this.fire("afterExecute",lo(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&gt(t)&&!ao(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class JO extends J{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return HO(e)}isFirstBlockOfListItem(e){return ao(e)}isListItemBlock(e){return gt(e)}expandListBlocksToCompleteItems(e,t={}){return $a(e,t)}isNumberedListType(e){return $O(e)}}function Gy(r){return r.is("element","ol")||r.is("element","ul")}function _d(r){return r.is("element","li")}function ZO(r,e,t,n=Yy(t,e)){return r.createAttributeElement(Ky(t),null,{priority:2*e/100-100,id:n})}function XO(r,e,t){return r.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:t})}function Ky(r){return r=="numbered"||r=="customNumbered"?"ol":"ul"}function Yy(r,e){return`list-${r}-${e}`}function Zn(r,e){const t=r.nodeBefore;if(gt(t)){let n=t;for(const{node:i}of Ua(n,"backward"))if(n=i,e.has(n))return;e.set(t,n)}else{const n=r.nodeAfter;gt(n)&&e.set(n,n)}}function eL(){return(r,e,t)=>{const{writer:n,schema:i}=t;if(!e.modelRange)return;const a=Array.from(e.modelRange.getItems({shallow:!0})).filter(w=>i.checkAttribute(w,"listItemId"));if(!a.length)return;const c=hs.next(),d=function(w){let v=0,x=w.parent;for(;x;){if(_d(x))v++;else{const S=x.previousSibling;S&&_d(S)&&v++}x=x.parent}return v}(e.viewItem);let h=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const m=a[0].getAttribute("listType");m&&(h=m);const f={listItemId:c,listIndent:d,listType:h};for(const w of a)w.hasAttribute("listItemId")||n.setAttributes(f,w);a.length>1&&a[1].getAttribute("listItemId")!=f.listItemId&&t.keepEmptyElement(a[0])}}function Qy(){return(r,e,t)=>{if(!t.consumable.test(e.viewItem,{name:!0}))return;const n=new Nr(e.viewItem.document);for(const i of Array.from(e.viewItem.getChildren()))_d(i)||Gy(i)||n.remove(i)}}function Jy(r,e,t,{dataPipeline:n}={}){const i=function(a){return(c,d)=>{const h=[];for(const m of a)c.hasAttribute(m)&&h.push(`attribute:${m}`);return!!h.every(m=>d.test(c,m)!==!1)&&(h.forEach(m=>d.consume(c,m)),!0)}}(r);return(a,c,d)=>{const{writer:h,mapper:m,consumable:f}=d,w=c.item;if(!r.includes(c.attributeKey)||!i(w,f))return;const v=function(S,I,P){const z=P.createRangeOn(S);return I.toViewRange(z).getTrimmed().end.nodeBefore}(w,m,t);Xy(v,h,m),function(S,I){let P=S.parent;for(;P.is("attributeElement")&&["ul","ol","li"].includes(P.name);){const z=P.parent;I.unwrap(I.createRangeOn(S),P),P=z}}(v,h);const x=function(S,I,P,z,{dataPipeline:F}){let W=z.createRangeOn(I);if(!ao(S))return W;for(const K of P){if(K.scope!="itemMarker")continue;const ie=K.createElement(z,S,{dataPipeline:F});if(!ie||(z.setCustomProperty("listItemMarker",!0,ie),K.canInjectMarkerIntoElement&&K.canInjectMarkerIntoElement(S)?z.insert(z.createPositionAt(I,0),ie):(z.insert(W.start,ie),W=z.createRange(z.createPositionBefore(ie),z.createPositionAfter(I))),!K.createWrapperElement||!K.canWrapElement))continue;const de=K.createWrapperElement(z,S,{dataPipeline:F});z.setCustomProperty("listItemWrapper",!0,de),K.canWrapElement(S)?W=z.wrap(W,de):(W=z.wrap(z.createRangeOn(ie),de),W=z.createRange(W.start,z.createPositionAfter(I)))}return W}(w,v,e,h,{dataPipeline:n});(function(S,I,P,z){if(!S.hasAttribute("listIndent"))return;const F=S.getAttribute("listIndent");let W=S;for(let K=F;K>=0;K--){const ie=XO(z,K,W.getAttribute("listItemId")),de=ZO(z,K,W.getAttribute("listType"));for(const ke of P)ke.scope!="list"&&ke.scope!="item"||!W.hasAttribute(ke.attributeName)||ke.setAttributeOnDowncast(z,W.getAttribute(ke.attributeName),ke.scope=="list"?de:ie);if(I=z.wrap(I,ie),I=z.wrap(I,de),K==0||(W=jn.first(W,{lowerIndent:!0}),!W))break}})(w,x,e,h)}}function Zy(r,{dataPipeline:e}={}){return(t,{writer:n})=>{if(!ex(t,r))return null;if(!e)return n.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const i=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}function Xy(r,e,t){for(;r.parent.is("attributeElement")&&r.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(r),r.parent);const n=[];i(e.createPositionBefore(r).getWalker({direction:"backward"})),i(e.createRangeIn(r).getWalker());for(const a of n)e.remove(a);function i(a){for(const{item:c}of a){if(c.is("element")&&t.toModelElement(c))break;c.is("element")&&c.getCustomProperty("listItemMarker")&&n.push(c)}}}function ex(r,e,t=bm(r)){if(!gt(r))return!1;for(const n of r.getAttributeKeys())if(!n.startsWith("selection:")&&!e.includes(n))return!1;return t.length<2}var tx=p(1232),tL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(tx.A,tL),tx.A.locals;var nx=p(6903),nL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(nx.A,nL),nx.A.locals;const Ad=["listType","listIndent","listItemId"];class rL extends J{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[id,Or,JO,Nn]}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new M("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:Ad}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const i of Ad)t.schema.setAttributeProperties(i,{copyOnReplace:!0});e.commands.add("numberedList",new wd(e,"numbered")),e.commands.add("bulletedList",new wd(e,"bulleted")),e.commands.add("customNumberedList",new wd(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new wd(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new Vy(e,"forward")),e.commands.add("outdentList",new Vy(e,"backward")),e.commands.add("splitListItemBefore",new Wy(e,"before")),e.commands.add("splitListItemAfter",new Wy(e,"after")),n&&(e.commands.add("mergeListItemBackward",new qy(e,"backward")),e.commands.add("mergeListItemForward",new qy(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...Ad,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(i,a)=>{const c=e.model.document.selection;Wa(e.model)||e.model.change(()=>{const d=c.getFirstPosition();if(c.isCollapsed&&a.direction=="backward"){if(!d.isAtStart)return;const h=d.parent;if(!gt(h))return;if(jn.first(h,{sameAttributes:"listType",sameIndent:!0})||h.getAttribute("listIndent")!==0){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:rx(e.model,"backward")})}else Fy(h)||e.execute("splitListItemAfter"),e.execute("outdentList");a.preventDefault(),i.stop()}else{if(c.isCollapsed&&!c.getLastPosition().isAtEnd||!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:rx(e.model,"forward")}),a.preventDefault(),i.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,i=n.get("enter");this.listenTo(e.editing.view.document,"enter",(a,c)=>{const d=t.document,h=d.selection.getFirstPosition().parent;if(d.selection.isCollapsed&&gt(h)&&h.isEmpty&&!c.isSoft){const m=ao(h),f=Fy(h);m&&f?(e.execute("outdentList"),c.preventDefault(),a.stop()):m&&!f?(e.execute("splitListItemAfter"),c.preventDefault(),a.stop()):f&&(e.execute("splitListItemBefore"),c.preventDefault(),a.stop())}},{context:"li"}),this.listenTo(i,"afterExecute",()=>{const a=n.get("splitListItemBefore");a.refresh(),a.isEnabled&&bm(e.model.document.selection.getLastPosition().parent).length===2&&a.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,n)=>{const i=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(e.execute(i),n.stopPropagation(),n.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),i=e.config.get("list.multiBlock"),a=i?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(m,{writer:f})=>f.createElement(a,{listType:""})}).elementToElement({view:"p",model:(m,{writer:f})=>m.parent&&m.parent.is("element","li")?f.createElement(a,{listType:""}):null,converterPriority:"high"}).add(m=>{m.on("element:li",eL()),m.on("element:ul",Qy(),{priority:"high"}),m.on("element:ol",Qy(),{priority:"high"})}),i||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:a,view:Zy(n),converterPriority:"high"}).add(m=>{var f;m.on("attribute",Jy(n,this._downcastStrategies,t)),m.on("remove",(f=t.schema,(w,v,x)=>{const{writer:S,mapper:I}=x,P=w.name.split(":")[1];if(!f.checkAttribute(P,"listItemId"))return;const z=I.toViewPosition(v.position),F=v.position.getShiftedBy(v.length),W=I.toViewPosition(F,{isPhantom:!0}),K=S.createRange(z,W).getTrimmed().end.nodeBefore;K&&Xy(K,S,I)}))}),e.conversion.for("dataDowncast").elementToElement({model:a,view:Zy(n,{dataPipeline:!0}),converterPriority:"high"}).add(m=>{m.on("attribute",Jy(n,this._downcastStrategies,t,{dataPipeline:!0}))});const c=(d=this._downcastStrategies,h=e.editing.view,(m,f)=>{if(f.modelPosition.offset>0)return;const w=f.modelPosition.parent;if(!gt(w)||!d.some(P=>P.scope=="itemMarker"&&P.canInjectMarkerIntoElement&&P.canInjectMarkerIntoElement(w)))return;const v=f.mapper.toViewElement(w),x=h.createRangeIn(v),S=x.getWalker();let I=x.start;for(const{item:P}of S){if(P.is("element")&&f.mapper.toModelElement(P)||P.is("$textProxy"))break;P.is("element")&&P.getCustomProperty("listItemMarker")&&(I=h.createPositionAfter(P),S.skip(({previousPosition:z})=>!z.isEqual(I)))}f.viewPosition=I});var d,h;e.editing.mapper.on("modelToViewPosition",c),e.data.mapper.on("modelToViewPosition",c),this.listenTo(t.document,"change:data",function(m,f,w,v){return()=>{const P=m.document.differ.getChanges(),z=[],F=new Map,W=new Set;for(const K of P)if(K.type=="insert"&&K.name!="$text")Zn(K.position,F),K.attributes.has("listItemId")?W.add(K.position.nodeAfter):Zn(K.position.getShiftedBy(K.length),F);else if(K.type=="remove"&&K.attributes.has("listItemId"))Zn(K.position,F);else if(K.type=="attribute"){const ie=K.range.start.nodeAfter;w.includes(K.attributeKey)?(Zn(K.range.start,F),K.attributeNewValue===null?(Zn(K.range.start.getShiftedBy(1),F),S(ie)&&z.push(ie)):W.add(ie)):gt(ie)&&S(ie)&&z.push(ie)}for(const K of F.values())z.push(...x(K,W));for(const K of new Set(z))f.reconvertItem(K)};function x(P,z){const F=[],W=new Set,K=[];for(const{node:ie,previous:de}of Ua(P,"forward")){if(W.has(ie))continue;const ke=ie.getAttribute("listIndent");de&&ke<de.getAttribute("listIndent")&&(K.length=ke+1),K[ke]=Object.fromEntries(Array.from(ie.getAttributes()).filter(([ft])=>w.includes(ft)));const We=hi(ie,{direction:"forward"});for(const ft of We)W.add(ft),(S(ft,We)||I(ft,K,z))&&F.push(ft)}return F}function S(P,z){const F=f.mapper.toViewElement(P);if(!F)return!1;if(v.fire("checkElement",{modelElement:P,viewElement:F}))return!0;if(!P.is("element","paragraph")&&!P.is("element","listItem"))return!1;const W=ex(P,w,z);return!(!W||!F.is("element","p"))||!(W||!F.is("element","span"))}function I(P,z,F){if(F.has(P))return!1;const W=f.mapper.toViewElement(P);let K=z.length-1;for(let ie=W.parent;!ie.is("editableElement");ie=ie.parent){const de=_d(ie),ke=Gy(ie);if(!ke&&!de)continue;const We="checkAttributes:"+(de?"item":"list");if(v.fire(We,{viewElement:ie,modelAttributes:z[K]}))break;if(ke&&(K--,K<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",(m,{viewElement:f,modelAttributes:w})=>{f.id!=w.listItemId&&(m.return=!0,m.stop())}),this.on("checkAttributes:list",(m,{viewElement:f,modelAttributes:w})=>{f.name==Ky(w.listType)&&f.id==Yy(w.listType,w.listIndent)||(m.return=!0,m.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(n=>function(i,a,c,d){const h=i.document.differ.getChanges(),m=new Map,f=d.editor.config.get("list.multiBlock");let w=!1;for(const x of h){if(x.type=="insert"&&x.name!="$text"){const S=x.position.nodeAfter;if(!i.schema.checkAttribute(S,"listItemId"))for(const I of Array.from(S.getAttributeKeys()))c.includes(I)&&(a.removeAttribute(I,S),w=!0);Zn(x.position,m),x.attributes.has("listItemId")||Zn(x.position.getShiftedBy(x.length),m);for(const{item:I,previousPosition:P}of i.createRangeIn(S))gt(I)&&Zn(P,m)}else x.type=="remove"?Zn(x.position,m):x.type=="attribute"&&c.includes(x.attributeKey)&&(Zn(x.range.start,m),x.attributeNewValue===null&&Zn(x.range.start.getShiftedBy(1),m));if(!f&&x.type=="attribute"&&Ad.includes(x.attributeKey)){const S=x.range.start.nodeAfter;x.attributeNewValue===null&&S&&S.is("element","listItem")?(a.rename(S,"paragraph"),w=!0):x.attributeOldValue===null&&S&&S.is("element")&&S.name!="listItem"&&(a.rename(S,"listItem"),w=!0)}}const v=new Set;for(const x of m.values())w=d.fire("postFixer",{listNodes:new LO(x),listHead:x,writer:a,seenIds:v})||w;return w}(e,n,t,this)),this.on("postFixer",(n,{listNodes:i,writer:a})=>{n.return=function(c,d){let h=0,m=-1,f=null,w=!1;for(const{node:v}of c){const x=v.getAttribute("listIndent");if(x>h){let S;f===null?(f=x-h,S=h):(f>x&&(f=x),S=x-f),S>m+1&&(S=m+1),d.setAttribute("listIndent",S,v),w=!0,m=S}else f=null,h=x+1,m=x}return w}(i,a)||n.return},{priority:"high"}),this.on("postFixer",(n,{listNodes:i,writer:a,seenIds:c})=>{n.return=function(d,h,m){const f=new Set;let w=!1;for(const{node:v}of d){if(f.has(v))continue;let x=v.getAttribute("listType"),S=v.getAttribute("listItemId");if(h.has(S)&&(S=hs.next()),h.add(S),v.is("element","listItem"))v.getAttribute("listItemId")!=S&&(m.setAttribute("listItemId",S,v),w=!0);else for(const I of hi(v,{direction:"forward"}))f.add(I),I.getAttribute("listType")!=x&&(S=hs.next(),x=I.getAttribute("listType")),I.getAttribute("listItemId")!=S&&(m.setAttribute("listItemId",S,I),w=!0)}return w}(i,c,a)||n.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(n){return(i,[a,c])=>{const d=a.is("documentFragment")?Array.from(a.getChildren()):[a];if(!d.length)return;const h=(c?n.createSelection(c):n.document.selection).getFirstPosition();let m;if(gt(h.parent))m=h.parent;else{if(!gt(h.nodeBefore))return;m=h.nodeBefore}n.change(f=>{const w=m.getAttribute("listType"),v=m.getAttribute("listIndent"),x=d[0].getAttribute("listIndent")||0,S=Math.max(v-x,0);for(const I of d){const P=gt(I);m.is("element","listItem")&&I.is("element","paragraph")&&f.rename(I,"listItem"),f.setAttributes({listIndent:(P?I.getAttribute("listIndent"):0)+S,listItemId:P?I.getAttribute("listItemId"):hs.next(),listType:w},I)}})}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(n,i)=>{e.change(a=>{const c=Array.from(i.content.getChildren()),d=c[c.length-1];if(c.length>1&&d.is("element")&&d.isEmpty&&c.slice(0,-1).every(gt)&&a.remove(d),i.method=="copy"||i.method=="cut"){const h=Array.from(i.content.getChildren());qa(h)&&bd(h,a)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function rx(r,e){const t=r.document.selection;if(!t.isCollapsed)return!Wa(r);if(e==="forward")return!0;const n=t.getFirstPosition().parent,i=n.previousSibling;return!r.schema.isObject(i)&&(!!i.isEmpty||qa([n,i]))}function ix(r,e,t,n){r.ui.componentFactory.add(e,()=>{const i=ox(Ne,r,e,t,n);return i.set({tooltip:!0,isToggleable:!0}),i}),r.ui.componentFactory.add(`menuBar:${e}`,()=>ox(bn,r,e,t,n))}function ox(r,e,t,n,i){const a=e.commands.get(t),c=new r(e.locale);return c.set({label:n,icon:i}),c.bind("isOn","isEnabled").to(a,"value","isEnabled"),c.on("execute",()=>{e.execute(t),e.editing.view.focus()}),c}class iL extends J{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||ix(this.editor,"numberedList",e("Numbered List"),ge.numberedList),this.editor.ui.componentFactory.has("bulletedList")||ix(this.editor,"bulletedList",e("Bulleted List"),ge.bulletedList)}}class oL extends J{static get requires(){return[rL,iL]}static get pluginName(){return"List"}}const sL=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:r,typeAttribute:e,listType:t}of sL);var sx=p(9968),aL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(sx.A,aL),sx.A.locals;var ax=p(7141),lL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(ax.A,lL),ax.A.locals,ga("Ctrl+Enter");var lx=p(8991),cL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(lx.A,cL),lx.A.locals,ga("Ctrl+Enter");function cx(r,e){const t=(n,i,a)=>{if(!a.consumable.consume(i.item,n.name))return;const c=i.attributeNewValue,d=a.writer,h=a.mapper.toViewElement(i.item),m=[...h.getChildren()].find(w=>w.getCustomProperty("media-content"));d.remove(m);const f=r.getMediaViewElement(d,c,e);d.insert(d.createPositionAt(h,0),f)};return n=>{n.on("attribute:url:media",t)}}function dx(r,e,t,n){return r.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(r,t,n),r.createSlot()])}function ux(r){const e=r.getSelectedElement();return e&&e.is("element","media")?e:null}function hx(r,e,t,n){r.change(i=>{const a=i.createElement("media",{url:e});r.insertObject(a,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class dL extends Ae{refresh(){const e=this.editor.model,t=e.document.selection,n=ux(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(i){const a=i.getSelectedElement();return!!a&&a.name==="media"}(t)||function(i,a){let d=mv(i,a).start.parent;return d.isEmpty&&!a.schema.isLimit(d)&&(d=d.parent),a.schema.checkChild(d,"media")}(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,i=ux(n);i?t.change(a=>{a.setAttribute("url",e,i)}):hx(t,e,n,!0)}}class uL{constructor(e,t){const n=t.providers,i=t.extraProviders||[],a=new Set(t.removeProviders),c=n.concat(i).filter(d=>{const h=d.name;return h?!a.has(h):($("media-embed-no-provider-name",{provider:d}),!1)});this.locale=e,this.providerDefinitions=c}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new px(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,i=qe(t.url);for(const a of i){const c=this._getUrlMatches(e,a);if(c)return new px(this.locale,e,c,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let i=e.replace(/^https?:\/\//,"");return n=i.match(t),n||(i=i.replace(/^www\./,""),n=i.match(t),n||null)}}class px{constructor(e,t,n,i){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=i}getViewElement(e,t){const n={};let i;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const a=this._getPreviewHtml(t);i=e.createRawElement("div",n,(c,d)=>{d.setContentOf(c,a)})}else this.url&&(n.url=this.url),i=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,i),i}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Br,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new qn({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var mx=p(7048),hL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(mx.A,hL),mx.A.locals;class vd extends J{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],i=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${i?`?start=${i}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new uL(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,i=e.conversion,a=e.config.get("mediaEmbed.previewsInData"),c=e.config.get("mediaEmbed.elementName"),d=this.registry;e.commands.add("mediaEmbed",new dL(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),i.for("dataDowncast").elementToStructure({model:"media",view:(h,{writer:m})=>{const f=h.getAttribute("url");return dx(m,d,f,{elementName:c,renderMediaPreview:!!f&&a})}}),i.for("dataDowncast").add(cx(d,{elementName:c,renderMediaPreview:a})),i.for("editingDowncast").elementToStructure({model:"media",view:(h,{writer:m})=>{const f=h.getAttribute("url");return function(w,v,x){return v.setCustomProperty("media",!0,w),Xp(w,v,{label:x})}(dx(m,d,f,{elementName:c,renderForEditingView:!0}),m,n("media widget"))}}),i.for("editingDowncast").add(cx(d,{elementName:c,renderForEditingView:!0})),i.for("upcast").elementToElement({view:h=>["oembed",c].includes(h.name)&&h.getAttribute("url")?{name:!0}:null,model:(h,{writer:m})=>{const f=h.getAttribute("url");return d.hasMedia(f)?m.createElement("media",{url:f}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(h,{writer:m})=>{const f=h.getAttribute("data-oembed-url");return d.hasMedia(f)?m.createElement("media",{url:f}):null}}).add(h=>{h.on("element:figure",(m,f,w)=>{if(!w.consumable.consume(f.viewItem,{name:!0,classes:"media"}))return;const{modelRange:v,modelCursor:x}=w.convertChildren(f.viewItem,f.modelCursor);f.modelRange=v,f.modelCursor=x,_t(v.getItems())||w.consumable.revert(f.viewItem,{name:!0,classes:"media"})})})}}const pL=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class mL extends J{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[Bv,Or,Rv]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const i=t.selection.getFirstRange(),a=Et.fromPosition(i.start);a.stickiness="toPrevious";const c=Et.fromPosition(i.end);c.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(a,c),a.detach(),c.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(_.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,i=n.plugins.get(vd).registry,a=new fn(e,t),c=a.getWalker({ignoreElementEnd:!0});let d="";for(const h of c)h.item.is("$textProxy")&&(d+=h.item.data);if(d=d.trim(),!d.match(pL)||!i.hasMedia(d))return void a.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Et.fromPosition(e),this._timeoutId=_.window.setTimeout(()=>{n.model.change(h=>{this._timeoutId=null,h.remove(a),a.detach();let m=null;this._positionToInsert.root.rootName!=="$graveyard"&&(m=this._positionToInsert),hx(n.model,d,m,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(Or).requestUndoOnBackspace()},100)):a.detach()}}var gx=p(5651),gL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(gx.A,gL),gx.A.locals;class fL extends ce{constructor(e,t){super(t);const n=t.t;this.focusTracker=new At,this.keystrokes=new Ut,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),ge.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),ge.cancel,"ck-button-cancel","cancel"),this._focusables=new Tn,this._focusCycler=new Mn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Ac({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Hc(this.locale,Wc),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,i){const a=new Ne(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.extendTemplate({attributes:{class:n}}),i&&a.delegate("execute").to(this,i),a}}class kL extends J{static get requires(){return[vd]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const i=jr(n);return this._setUpDropdown(i,t),i})}_setUpDropdown(e,t){const n=this.editor,i=n.t,a=e.buttonView,c=n.plugins.get(vd).registry;e.once("change:isOpen",()=>{const d=new(Jh(fL))(function(h,m){return[f=>{if(!f.url.length)return h("The URL must not be empty.")},f=>{if(!m.hasMedia(f.url))return h("This media URL is not supported.")}]}(n.t,c),n.locale);e.panelView.children.add(d),a.on("open",()=>{d.disableCssTransitions(),d.url=t.value||"",d.urlInputView.fieldView.select(),d.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{d.isValid()&&(n.execute("mediaEmbed",d.url),n.editing.view.focus())}),e.on("change:isOpen",()=>d.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),d.delegate("submit","cancel").to(e),d.urlInputView.fieldView.bind("value").to(t,"value"),d.urlInputView.on("change:errorText",()=>{n.ui.update()}),d.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),a.set({label:i("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var fx=p(70),bL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(fx.A,bL),fx.A.locals;function kx(r){return r!==void 0&&r.endsWith("px")}function ps(r){return r.toFixed(2).replace(/\.?0+$/,"")+"px"}var wL=Object.defineProperty,_L=Object.defineProperties,AL=Object.getOwnPropertyDescriptors,bx=Object.getOwnPropertySymbols,vL=Object.prototype.hasOwnProperty,CL=Object.prototype.propertyIsEnumerable,wx=(r,e,t)=>e in r?wL(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yL=(r,e)=>{for(var t in e||(e={}))vL.call(e,t)&&wx(r,t,e[t]);if(bx)for(var t of bx(e))CL.call(e,t)&&wx(r,t,e[t]);return r};function xL(r,e,t){if(!r.childCount)return;const n=new Nr(r.document),i=function(h,m){const f=m.createRangeIn(h),w=[],v=new Set;for(const x of f.getItems()){if(!x.is("element")||!x.name.match(/^(p|h\d+|li|div)$/))continue;let S=BL(x);if(S===void 0||parseFloat(S)!=0||Array.from(x.getClassNames()).find(I=>I.startsWith("MsoList"))||(S=void 0),x.hasStyle("mso-list")||S!==void 0&&v.has(S)){const I=ML(x);w.push({element:x,id:I.id,order:I.order,indent:I.indent,marginLeft:S}),S!==void 0&&v.add(S)}else v.clear()}return w}(r,n);if(!i.length)return;const a={},c=[];for(const h of i)if(h.indent!==void 0){EL(h)||(c.length=0);const m=`${h.id}:${h.indent}`,f=Math.min(h.indent-1,c.length);if(f<c.length&&c[f].id!==h.id&&(c.length=f),f<c.length-1)c.length=f+1;else{const v=SL(h,e);if(f>c.length-1||c[f].listElement.name!=v.type){f==0&&v.type=="ol"&&h.id!==void 0&&a[m]&&(v.startIndex=a[m]);const x=IL(v,n,t);if(kx(h.marginLeft)&&(f==0||kx(c[f-1].marginLeft))){let S=h.marginLeft;f>0&&(S=ps(parseFloat(S)-parseFloat(c[f-1].marginLeft))),n.setStyle("padding-left",S,x)}if(c.length==0){const S=h.element.parent,I=S.getChildIndex(h.element)+1;n.insertChild(I,x,S)}else{const S=c[f-1].listItemElements;n.appendChild(x,S[S.length-1])}c[f]=(d=yL({},h),_L(d,AL({listElement:x,listItemElements:[]}))),f==0&&h.id!==void 0&&(a[m]=v.startIndex||1)}}const w=h.element.name=="li"?h.element:n.createElement("li");n.appendChild(w,c[f].listElement),c[f].listItemElements.push(w),f==0&&h.id!==void 0&&a[m]++,h.element!=w&&n.appendChild(h.element,w),NL(h.element,n),n.removeStyle("text-indent",h.element),n.removeStyle("margin-left",h.element)}else{const m=c.find(f=>f.marginLeft==h.marginLeft);if(m){const f=m.listItemElements;n.appendChild(h.element,f[f.length-1]),n.removeStyle("margin-left",h.element)}else c.length=0}var d}function EL(r){const e=r.element.previousSibling;return DL(e||r.element.parent)}function DL(r){return r.is("element","ol")||r.is("element","ul")}function SL(r,e){const t=new RegExp(`@list l${r.id}:level${r.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,i=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,a=new RegExp(`@list\\s+l${r.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),c=new RegExp(`@list l${r.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),d=a.exec(e),h=c.exec(e),m=d&&!h,f=t.exec(e);let w="decimal",v="ol",x=null;if(f&&f[1]){const S=n.exec(f[1]);if(S&&S[1]&&(w=S[1].trim(),v=w!=="bullet"&&w!=="image"?"ol":"ul"),w==="bullet"){const I=function(P){if(P.name=="li"&&P.parent.name=="ul"&&P.parent.hasAttribute("type"))return P.parent.getAttribute("type");const z=function(W){if(W.getChild(0).is("$text"))return null;for(const K of W.getChildren()){if(!K.is("element","span"))continue;const ie=K.getChild(0);if(ie)return ie.is("$text")?ie:ie.getChild(0)}return null}(P);if(!z)return null;const F=z._data;return F==="o"?"circle":F===""?"disc":F===""?"square":null}(r.element);I&&(w=I)}else{const I=i.exec(f[1]);I&&I[1]&&(x=parseInt(I[1]))}m&&(v="ol")}return{type:v,startIndex:x,style:TL(w),isLegalStyleList:m}}function TL(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function IL(r,e,t){const n=e.createElement(r.type);return r.style&&e.setStyle("list-style-type",r.style,n),r.startIndex&&r.startIndex>1&&e.setAttribute("start",r.startIndex,n),r.isLegalStyleList&&t&&e.addClass("legal-list",n),n}function ML(r){const e=r.getStyle("mso-list");if(e===void 0)return{};const t=e.match(/(^|\s{1,100})l(\d+)/i),n=e.match(/\s{0,100}lfo(\d+)/i),i=e.match(/\s{0,100}level(\d+)/i);return t&&n&&i?{id:t[2],order:n[1],indent:parseInt(i[1])}:{indent:1}}function NL(r,e){const t=new gr({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(r);for(const i of n)i.type==="elementStart"&&t.match(i.item)&&e.remove(i.item)}function BL(r){const e=r.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(t){const n=parseFloat(t);return t.endsWith("pt")?ps(96*n/72):t.endsWith("pc")?ps(12*n*96/72):t.endsWith("in")?ps(96*n):t.endsWith("cm")?ps(96*n/2.54):t.endsWith("mm")?ps(n/10*96/2.54):t}(e)}function jL(r,e){if(!r.childCount)return;const t=new Nr(r.document),n=function(a,c){const d=c.createRangeIn(a),h=new gr({name:/v:(.+)/}),m=[];for(const f of d){if(f.type!="elementStart")continue;const w=f.item,v=w.previousSibling,x=v&&v.is("element")?v.name:null,S=["Chart"],I=h.match(w),P=w.getAttribute("o:gfxdata"),z=x==="v:shapetype",F=P&&S.some(W=>w.getAttribute("id").includes(W));I&&P&&!z&&!F&&m.push(f.item.getAttribute("id"))}return m}(r,t);(function(a,c,d){const h=d.createRangeIn(c),m=new gr({name:"img"}),f=[];for(const w of h)if(w.item.is("element")&&m.match(w.item)){const v=w.item,x=v.getAttribute("v:shapes")?v.getAttribute("v:shapes").split(" "):[];x.length&&x.every(S=>a.indexOf(S)>-1)?f.push(v):v.getAttribute("src")||f.push(v)}for(const w of f)d.remove(w)})(n,r,t),function(a,c,d){const h=d.createRangeIn(c),m=[];for(const v of h)if(v.type=="elementStart"&&v.item.is("element","v:shape")){const x=v.item.getAttribute("id");if(a.includes(x))continue;f(v.item.parent.getChildren(),x)||m.push(v.item)}for(const v of m){const x={src:w(v)};v.hasAttribute("alt")&&(x.alt=v.getAttribute("alt"));const S=d.createElement("img",x);d.insertChild(v.index+1,S,v.parent)}function f(v,x){for(const S of v)if(S.is("element")&&(S.name=="img"&&S.getAttribute("v:shapes")==x||f(S.getChildren(),x)))return!0;return!1}function w(v){for(const x of v.getChildren())if(x.is("element")&&x.getAttribute("src"))return x.getAttribute("src")}}(n,r,t),function(a,c){const d=c.createRangeIn(a),h=new gr({name:/v:(.+)/}),m=[];for(const f of d)f.type=="elementStart"&&h.match(f.item)&&m.push(f.item);for(const f of m)c.remove(f)}(r,t);const i=function(a,c){const d=c.createRangeIn(a),h=new gr({name:"img"}),m=[];for(const f of d)f.item.is("element")&&h.match(f.item)&&f.item.getAttribute("src").startsWith("file://")&&m.push(f.item);return m}(r,t);i.length&&function(a,c,d){if(a.length===c.length)for(let h=0;h<a.length;h++){const m=`data:${c[h].type};base64,${PL(c[h].hex)}`;d.setAttribute("src",m,a[h])}}(i,function(a){if(!a)return[];const c=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,d=new RegExp("(?:("+c.source+"))([\\da-fA-F\\s]+)\\}","g"),h=a.match(d),m=[];if(h)for(const f of h){let w=!1;f.includes("\\pngblip")?w="image/png":f.includes("\\jpegblip")&&(w="image/jpeg"),w&&m.push({hex:f.replace(c,"").replace(/[^\da-fA-F]/g,""),type:w})}return m}(e),t)}function PL(r){return btoa(r.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const OL=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,LL=/xmlns:o="urn:schemas-microsoft-com/i;class RL{constructor(e,t=!1){this.document=e,this.hasMultiLevelListPlugin=t}isActive(e){return OL.test(e)||LL.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;xL(t,n,this.hasMultiLevelListPlugin),jL(t,e.dataTransfer.getData("text/rtf")),function(i){const a=[],c=new Nr(i.document);for(const{item:d}of c.createRangeIn(i))if(d.is("element")){for(const h of d.getClassNames())/\bmso/gi.exec(h)&&c.removeClass(h,d);for(const h of d.getStyleNames())/\bmso/gi.exec(h)&&c.removeStyle(h,d);(d.is("element","w:sdt")||d.is("element","w:sdtpr")&&d.isEmpty||d.is("element","o:p")&&d.isEmpty)&&a.push(d)}for(const d of a){const h=d.parent,m=h.getChildIndex(d);c.insertChild(m,d.getChildren(),h),c.remove(d)}}(t),e.content=t}}function _x(r,e,t,{blockElements:n,inlineObjectElements:i}){let a=t.createPositionAt(r,e=="forward"?"after":"before");return a=a.getLastMatchingPosition(({item:c})=>c.is("element")&&!n.includes(c.name)&&!i.includes(c.name),{direction:e}),e=="forward"?a.nodeAfter:a.nodeBefore}function Ax(r,e){return!!r&&r.is("element")&&e.includes(r.name)}const zL=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class FL{constructor(e){this.document=e}isActive(e){return zL.test(e)}execute(e){const t=new Nr(this.document),{body:n}=e._parsedData;(function(i,a){for(const c of i.getChildren())if(c.is("element","b")&&c.getStyle("font-weight")==="normal"){const d=i.getChildIndex(c);a.remove(c),a.insertChild(d,c.getChildren(),i)}})(n,t),function(i,a){for(const c of a.createRangeIn(i)){const d=c.item;if(d.is("element","li")){const h=d.getChild(0);h&&h.is("element","p")&&a.unwrapElement(h)}}}(n,t),function(i,a){const c=new Sc(a.document.stylesProcessor),d=new Mc(c,{renderingMode:"data"}),h=d.blockElements,m=d.inlineObjectElements,f=[];for(const w of a.createRangeIn(i)){const v=w.item;if(v.is("element","br")){const x=_x(v,"forward",a,{blockElements:h,inlineObjectElements:m}),S=_x(v,"backward",a,{blockElements:h,inlineObjectElements:m}),I=Ax(x,h);(Ax(S,h)||I)&&f.push(v)}}for(const w of f)w.hasClass("Apple-interchange-newline")?a.remove(w):a.replace(w,a.createElement("p"))}(n,t),e.content=n}}const VL=/<google-sheets-html-origin/i;class UL{constructor(e){this.document=e}isActive(e){return VL.test(e)}execute(e){const t=new Nr(this.document),{body:n}=e._parsedData;(function(i,a){for(const c of i.getChildren())if(c.is("element","google-sheets-html-origin")){const d=i.getChildIndex(c);a.remove(c),a.insertChild(d,c.getChildren(),i)}})(n,t),function(i,a){for(const c of i.getChildren())c.is("element","table")&&c.hasAttribute("xmlns")&&a.removeAttribute("xmlns",c)}(n,t),function(i,a){for(const c of i.getChildren())c.is("element","table")&&c.getStyle("width")==="0px"&&a.removeStyle("width",c)}(n,t),function(i,a){for(const c of Array.from(i.getChildren()))c.is("element","style")&&a.remove(c)}(n,t),e.content=n}}function vx(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join(" ").substr(0,t.length))}function HL(r,e){const t=new DOMParser,n=function(h){return vx(vx(h)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(h){const m="</body>",f="</html>",w=h.indexOf(m);if(w<0)return h;const v=h.indexOf(f,w+m.length);return h.substring(0,w+m.length)+(v>=0?h.substring(v):"")}(r=(r=r.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),i=t.parseFromString(n,"text/html");(function(h){h.querySelectorAll("span[style*=spacerun]").forEach(m=>{const f=m,w=f.innerText.length||0;f.innerText=Array(w+1).join(" ").substr(0,w)})})(i);const a=i.body.innerHTML,c=function(h,m){const f=new Sc(m),w=new Mc(f,{renderingMode:"data"}),v=h.createDocumentFragment(),x=h.body.childNodes;for(;x.length>0;)v.appendChild(x[0]);return w.domToView(v,{skipComments:!0})}(i,e),d=function(h){const m=[],f=[],w=Array.from(h.getElementsByTagName("style"));for(const v of w)v.sheet&&v.sheet.cssRules&&v.sheet.cssRules.length&&(m.push(v.sheet),f.push(v.innerHTML));return{styles:m,stylesString:f.join(" ")}}(i);return{body:c,bodyString:a,styles:d.styles,stylesString:d.stylesString}}function ot(r,e,t,n,i=1){e!=null&&i!=null&&e>i?n.setAttribute(r,e,t):n.removeAttribute(r,t)}function co(r,e,t={}){const n=r.createElement("tableCell",t);return r.insertElement("paragraph",n),r.insert(n,e),n}function xm(r,e){const t=e.parent.parent,n=parseInt(t.getAttribute("headingColumns")||"0"),{column:i}=r.getCellLocation(e);return!!n&&i<n}function $L(){return r=>{r.on("element:table",(e,t,n)=>{const i=t.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:a,headingRows:c,headingColumns:d}=function(f){let w,v=0;const x=[],S=[];let I;for(const P of Array.from(f.getChildren())){if(P.name!=="tbody"&&P.name!=="thead"&&P.name!=="tfoot")continue;P.name!=="thead"||I||(I=P);const z=Array.from(P.getChildren()).filter(F=>F.is("element","tr"));for(const F of z)if(I&&P===I||P.name==="tbody"&&Array.from(F.getChildren()).length&&Array.from(F.getChildren()).every(W=>W.is("element","th")))v++,x.push(F);else{S.push(F);const W=qL(F);(!w||W<w)&&(w=W)}}return{headingRows:v,headingColumns:w||0,rows:[...x,...S]}}(i),h={};d&&(h.headingColumns=d),c&&(h.headingRows=c);const m=n.writer.createElement("table",h);if(n.safeInsert(m,t.modelCursor)){if(n.consumable.consume(i,{name:!0}),a.forEach(f=>n.convertItem(f,n.writer.createPositionAt(m,"end"))),n.convertChildren(i,n.writer.createPositionAt(m,"end")),m.isEmpty){const f=n.writer.createElement("tableRow");n.writer.insert(f,n.writer.createPositionAt(m,"end")),co(n.writer,n.writer.createPositionAt(f,"end"))}n.updateConversionResult(m,t)}})}}function Cx(r){return e=>{e.on(`element:${r}`,(t,n,{writer:i})=>{if(!n.modelRange)return;const a=n.modelRange.start.nodeAfter,c=i.createPositionAt(a,0);if(n.viewItem.isEmpty)return void i.insertElement("paragraph",c);const d=Array.from(a.getChildren());if(d.every(h=>h.is("element","$marker"))){const h=i.createElement("paragraph");i.insert(h,i.createPositionAt(a,0));for(const m of d)i.move(i.createRangeOn(m),i.createPositionAt(h,"end"))}},{priority:"low"})}}function qL(r){let e=0,t=0;const n=Array.from(r.getChildren()).filter(i=>i.name==="th"||i.name==="td");for(;t<n.length&&n[t].name==="th";){const i=n[t];e+=parseInt(i.getAttribute("colspan")||"1"),t++}return e}class ze{constructor(e,t={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const i=e.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();const a=parseInt(i.getAttribute("colspan")||"1"),c=parseInt(i.getAttribute("rowspan")||"1");(a>1||c>1)&&this._recordSpans(i,c,a),this._shouldSkipSlot()||(t=this._formatOutValue(i)),this._nextCellAtColumn=this._column+a}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new WL(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,i=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||n||i}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const i={cell:e,row:this._row,column:this._column};for(let a=this._row;a<this._row+t;a++)for(let c=this._column;c<this._column+n;c++)a==this._row&&c==this._column||this._markSpannedCell(a,c,i)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}}class WL{constructor(e,t,n,i){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=i,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function yx(r,e){return(t,{writer:n})=>{const i=t.getAttribute("headingRows")||0,a=n.createContainerElement("table",null,[]),c=n.createContainerElement("figure",{class:"table"},a);i>0&&n.insert(n.createPositionAt(a,"end"),n.createContainerElement("thead",null,n.createSlot(d=>d.is("element","tableRow")&&d.index<i))),i<r.getRows(t)&&n.insert(n.createPositionAt(a,"end"),n.createContainerElement("tbody",null,n.createSlot(d=>d.is("element","tableRow")&&d.index>=i)));for(const{positionOffset:d,filter:h}of e.additionalSlots)n.insert(n.createPositionAt(a,d),n.createSlot(h));return n.insert(n.createPositionAt(a,"after"),n.createSlot(d=>!d.is("element","tableRow")&&!e.additionalSlots.some(({filter:h})=>h(d)))),e.asWidget?function(d,h){return h.setCustomProperty("table",!0,d),Xp(d,h,{hasSelectionHandle:!0})}(c,n):c}}function xx(r={}){return(e,{writer:t})=>{const n=e.parent,i=n.parent,a=i.getChildIndex(n),c=new ze(i,{row:a}),d=i.getAttribute("headingRows")||0,h=i.getAttribute("headingColumns")||0;let m=null;for(const f of c)if(f.cell==e){const w=f.row<d||f.column<h?"th":"td";m=r.asWidget?pv(t.createEditableElement(w),t):t.createContainerElement(w);break}return m}}function Ex(r={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!Dx(e))return null;if(r.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function Dx(r){return r.parent.childCount==1&&!!r.getAttributeKeys().next().done}class GL extends Ae{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(i,a){const c=i.getFirstPosition().parent,d=c===c.root?c:c.parent;return a.checkChild(d,"table")}(t,n)}execute(e={}){const t=this.editor,n=t.model,i=t.plugins.get("TableUtils"),a=t.config.get("table.defaultHeadings.rows"),c=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&a&&(e.headingRows=a),e.headingColumns===void 0&&c&&(e.headingColumns=c),n.change(d=>{const h=i.createTable(d,e);n.insertObject(h,null,null,{findOptimalPosition:"auto"}),d.setSelection(d.createPositionAt(h.getNodeByPath([0,0,0]),0))})}}class Sx extends Ae{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i=this.order==="above",a=n.getSelectionAffectedTableCells(t),c=n.getRowIndexes(a),d=i?c.first:c.last,h=a[0].findAncestor("table");n.insertRows(h,{at:i?d:d+1,copyStructureFromAbove:!i})}}class Tx extends Ae{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i=this.order==="left",a=n.getSelectionAffectedTableCells(t),c=n.getColumnIndexes(a),d=i?c.first:c.last,h=a[0].findAncestor("table");n.insertColumns(h,{columns:1,at:i?d:d+1})}}class Ix extends Ae{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function Mx(r,e,t){const{startRow:n,startColumn:i,endRow:a,endColumn:c}=e,d=t.createElement("table"),h=a-n+1;for(let f=0;f<h;f++)t.insertElement("tableRow",d,"end");const m=[...new ze(r,{startRow:n,endRow:a,startColumn:i,endColumn:c,includeAllSlots:!0})];for(const{row:f,column:w,cell:v,isAnchor:x,cellAnchorRow:S,cellAnchorColumn:I}of m){const P=f-n,z=d.getChild(P);if(x){const F=t.cloneElement(v);t.append(F,z),Ox(F,f,w,a,c,t)}else(S<n||I<i)&&co(t,t.createPositionAt(z,"end"))}return function(f,w,v,x,S){const I=parseInt(w.getAttribute("headingRows")||"0");I>0&&ot("headingRows",I-v,f,S,0);const P=parseInt(w.getAttribute("headingColumns")||"0");P>0&&ot("headingColumns",P-x,f,S,0)}(d,r,n,i,t),d}function Nx(r,e,t=0){const n=[],i=new ze(r,{startRow:t,endRow:e-1});for(const a of i){const{row:c,cellHeight:d}=a;c<e&&e<=c+d-1&&n.push(a)}return n}function Bx(r,e,t){const n=r.parent,i=n.parent,a=n.index,c=e-a,d={},h=parseInt(r.getAttribute("rowspan"))-c;h>1&&(d.rowspan=h);const m=parseInt(r.getAttribute("colspan")||"1");m>1&&(d.colspan=m);const f=a+c,w=[...new ze(i,{startRow:a,endRow:f,includeAllSlots:!0})];let v,x=null;for(const S of w){const{row:I,column:P,cell:z}=S;z===r&&v===void 0&&(v=P),v!==void 0&&v===P&&I===f&&(x=co(t,S.getPositionBefore(),d))}return ot("rowspan",c,r,t),x}function jx(r,e){const t=[],n=new ze(r);for(const i of n){const{column:a,cellWidth:c}=i;a<e&&e<=a+c-1&&t.push(i)}return t}function Px(r,e,t,n){const i=t-e,a={},c=parseInt(r.getAttribute("colspan"))-i;c>1&&(a.colspan=c);const d=parseInt(r.getAttribute("rowspan")||"1");d>1&&(a.rowspan=d);const h=co(n,n.createPositionAfter(r),a);return ot("colspan",i,r,n),h}function Ox(r,e,t,n,i,a){const c=parseInt(r.getAttribute("colspan")||"1"),d=parseInt(r.getAttribute("rowspan")||"1");t+c-1>i&&ot("colspan",i-t+1,r,a,1),e+d-1>n&&ot("rowspan",n-e+1,r,a,1)}function Em(r,e){const t=e.getColumns(r),n=new Array(t).fill(0);for(const{column:a}of new ze(r))n[a]++;const i=n.reduce((a,c,d)=>c?a:[...a,d],[]);if(i.length>0){const a=i[i.length-1];return e.removeColumns(r,{at:a}),!0}return!1}function Dm(r,e){const t=[],n=e.getRows(r);for(let i=0;i<n;i++)r.getChild(i).isEmpty&&t.push(i);if(t.length>0){const i=t[t.length-1];return e.removeRows(r,{at:i}),!0}return!1}function Sm(r,e){Em(r,e)||Dm(r,e)}function Lx(r,e){const t=Array.from(new ze(r,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:i})=>i===1))return e.lastRow;const n=t[0].cellHeight-1;return e.lastRow+n}function Rx(r,e){const t=Array.from(new ze(r,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:i})=>i===1))return e.lastColumn;const n=t[0].cellWidth-1;return e.lastColumn+n}class Cd extends Ae{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],i=this.value,a=this.direction;e.change(c=>{const d=a=="right"||a=="down",h=d?n:i,m=d?i:n,f=m.parent;(function(I,P,z){zx(I)||(zx(P)&&z.remove(z.createRangeIn(P)),z.move(z.createRangeIn(I),z.createPositionAt(P,"end"))),z.remove(I)})(m,h,c);const w=this.isHorizontal?"colspan":"rowspan",v=parseInt(n.getAttribute(w)||"1"),x=parseInt(i.getAttribute(w)||"1");c.setAttribute(w,v+x,h),c.setSelection(c.createRangeIn(h));const S=this.editor.plugins.get("TableUtils");Sm(f.findAncestor("table"),S)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const i=this.isHorizontal?function(d,h,m){const f=d.parent,w=f.parent,v=h=="right"?d.nextSibling:d.previousSibling,x=(w.getAttribute("headingColumns")||0)>0;if(!v)return;const S=h=="right"?d:v,I=h=="right"?v:d,{column:P}=m.getCellLocation(S),{column:z}=m.getCellLocation(I),F=parseInt(S.getAttribute("colspan")||"1"),W=xm(m,S),K=xm(m,I);if(!(x&&W!=K))return P+F===z?v:void 0}(n,this.direction,t):function(d,h,m){const f=d.parent,w=f.parent,v=w.getChildIndex(f);if(h=="down"&&v===m.getRows(w)-1||h=="up"&&v===0)return null;const x=parseInt(d.getAttribute("rowspan")||"1"),S=w.getAttribute("headingRows")||0,I=h=="down"&&v+x===S,P=h=="up"&&v===S;if(S&&(I||P))return null;const z=parseInt(d.getAttribute("rowspan")||"1"),F=h=="down"?v+z:v,W=[...new ze(w,{endRow:F})],K=W.find(ke=>ke.cell===d),ie=K.column,de=W.find(({row:ke,cellHeight:We,column:ft})=>ft===ie&&(h=="down"?ke===F:F===ke+We));return de&&de.cell?de.cell:null}(n,this.direction,t);if(!i)return;const a=this.isHorizontal?"rowspan":"colspan",c=parseInt(n.getAttribute(a)||"1");return parseInt(i.getAttribute(a)||"1")===c?i:void 0}}function zx(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class KL extends Ae{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const i=n.findAncestor("table"),a=e.getRows(i)-1,c=e.getRowIndexes(t),d=c.first===0&&c.last===a;this.isEnabled=!d}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(n),a=n[0],c=a.findAncestor("table"),d=t.getCellLocation(a).column;e.change(h=>{const m=i.last-i.first+1;t.removeRows(c,{at:i.first,rows:m});const f=function(w,v,x,S){const I=w.getChild(Math.min(v,S-1));let P=I.getChild(0),z=0;for(const F of I.getChildren()){if(z>x)return P;P=F,z+=parseInt(F.getAttribute("colspan")||"1")}return P}(c,i.first,d,t.getRows(c));h.setSelection(h.createPositionAt(f,0))})}}class YL extends Ae{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const i=n.findAncestor("table"),a=e.getColumns(i),{first:c,last:d}=e.getColumnIndexes(t);this.isEnabled=d-c<a-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(h,m){const f=m.getSelectionAffectedTableCells(h),w=f[0],v=f.pop(),x=[w,v];return w.isBefore(v)?x:x.reverse()}(this.editor.model.document.selection,e),i=t.parent.parent,a=[...new ze(i)],c={first:a.find(h=>h.cell===t).column,last:a.find(h=>h.cell===n).column},d=function(h,m,f,w){return parseInt(f.getAttribute("colspan")||"1")>1?f:m.previousSibling||f.nextSibling?f.nextSibling||m.previousSibling:w.first?h.reverse().find(({column:x})=>x<w.first).cell:h.reverse().find(({column:x})=>x>w.last).cell}(a,t,n,c);this.editor.model.change(h=>{const m=c.last-c.first+1;e.removeColumns(i,{at:c.first,columns:m}),h.setSelection(h.createPositionAt(d,0))})}}class QL extends Ae{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every(a=>this._isInHeading(a,a.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=t.getSelectionAffectedTableCells(n.document.selection),a=i[0].findAncestor("table"),{first:c,last:d}=t.getRowIndexes(i),h=this.value?c:d+1,m=a.getAttribute("headingRows")||0;n.change(f=>{if(h){const w=Nx(a,h,h>m?m:0);for(const{cell:v}of w)Bx(v,h,f)}ot("headingRows",h,a,f,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class JL extends Ae{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every(a=>xm(t,a))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=t.getSelectionAffectedTableCells(n.document.selection),a=i[0].findAncestor("table"),{first:c,last:d}=t.getColumnIndexes(i),h=this.value?c:d+1;n.change(m=>{if(h){const f=jx(a,h);for(const{cell:w,column:v}of f)Px(w,v,h,m)}ot("headingColumns",h,a,m,0)})}}function ZL(r){if(r.is("element","tableColumnGroup"))return r;const e=r.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function XL(r){const e=ZL(r);return e?Array.from(e.getChildren()):[]}class Dt extends J{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,i=n.getChildIndex(t),a=new ze(n,{row:i});for(const{cell:c,row:d,column:h}of a)if(c===e)return{row:d,column:h}}createTable(e,t){const n=e.createElement("table"),i=t.rows||2,a=t.columns||2;return Tm(e,n,0,i,a),t.headingRows&&ot("headingRows",Math.min(t.headingRows,i),n,e,0),t.headingColumns&&ot("headingColumns",Math.min(t.headingColumns,a),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,i=t.at||0,a=t.rows||1,c=t.copyStructureFromAbove!==void 0,d=t.copyStructureFromAbove?i-1:i,h=this.getRows(e),m=this.getColumns(e);if(i>h)throw new M("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change(f=>{const w=e.getAttribute("headingRows")||0;if(w>i&&ot("headingRows",w+a,e,f,0),!c&&(i===0||i===h))return void Tm(f,e,i,a,m);const v=c?Math.max(i,d):i,x=new ze(e,{endRow:v}),S=new Array(m).fill(1);for(const{row:I,column:P,cellHeight:z,cellWidth:F,cell:W}of x){const K=I+z-1,ie=I<=d&&d<=K;I<i&&i<=K?(f.setAttribute("rowspan",z+a,W),S[P]=-F):c&&ie&&(S[P]=F)}for(let I=0;I<a;I++){const P=f.createElement("tableRow");f.insert(P,e,i);for(let z=0;z<S.length;z++){const F=S[z],W=f.createPositionAt(P,"end");F>0&&co(f,W,F>1?{colspan:F}:void 0),z+=Math.abs(F)-1}}})}insertColumns(e,t={}){const n=this.editor.model,i=t.at||0,a=t.columns||1;n.change(c=>{const d=e.getAttribute("headingColumns");i<d&&c.setAttribute("headingColumns",d+a,e);const h=this.getColumns(e);if(i===0||h===i){for(const f of e.getChildren())f.is("element","tableRow")&&ms(a,c,c.createPositionAt(f,i?"end":0));return}const m=new ze(e,{column:i,includeAllSlots:!0});for(const f of m){const{row:w,cell:v,cellAnchorColumn:x,cellAnchorRow:S,cellWidth:I,cellHeight:P}=f;if(x<i){c.setAttribute("colspan",I+a,v);const z=S+P-1;for(let F=w;F<=z;F++)m.skipRow(F)}else ms(a,c,f.getPositionBefore())}})}removeRows(e,t){const n=this.editor.model,i=t.rows||1,a=this.getRows(e),c=t.at,d=c+i-1;if(d>a-1)throw new M("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change(h=>{const m={first:c,last:d},{cellsToMove:f,cellsToTrim:w}=function(v,{first:x,last:S}){const I=new Map,P=[];for(const{row:z,column:F,cellHeight:W,cell:K}of new ze(v,{endRow:S})){const ie=z+W-1;if(z>=x&&z<=S&&ie>S){const de=W-(S-z+1);I.set(F,{cell:K,rowspan:de})}if(z<x&&ie>=x){let de;de=ie>=S?S-x+1:ie-x+1,P.push({cell:K,rowspan:W-de})}}return{cellsToMove:I,cellsToTrim:P}}(e,m);f.size&&function(v,x,S,I){const P=new ze(v,{includeAllSlots:!0,row:x}),z=[...P],F=v.getChild(x);let W;for(const{column:K,cell:ie,isAnchor:de}of z)if(S.has(K)){const{cell:ke,rowspan:We}=S.get(K),ft=W?I.createPositionAfter(W):I.createPositionAt(F,0);I.move(I.createRangeOn(ke),ft),ot("rowspan",We,ke,I),W=ke}else de&&(W=ie)}(e,d+1,f,h);for(let v=d;v>=c;v--)h.remove(e.getChild(v));for(const{rowspan:v,cell:x}of w)ot("rowspan",v,x,h);(function(v,{first:x,last:S},I){const P=v.getAttribute("headingRows")||0;x<P&&ot("headingRows",S<P?P-(S-x+1):x,v,I,0)})(e,m,h),Em(e,this)||Dm(e,this)})}removeColumns(e,t){const n=this.editor.model,i=t.at,a=t.columns||1,c=t.at+a-1;n.change(d=>{(function(m,f,w){const v=m.getAttribute("headingColumns")||0;if(v&&f.first<v){const x=Math.min(v-1,f.last)-f.first+1;w.setAttribute("headingColumns",v-x,m)}})(e,{first:i,last:c},d);const h=XL(e);for(let m=c;m>=i;m--){for(const{cell:f,column:w,cellWidth:v}of[...new ze(e)])w<=m&&v>1&&w+v>m?ot("colspan",v-1,f,d):w===m&&d.remove(f);if(h[m]){const f=m===0?h[1]:h[m-1],w=parseFloat(h[m].getAttribute("columnWidth")),v=parseFloat(f.getAttribute("columnWidth"));d.remove(h[m]),d.setAttribute("columnWidth",w+v+"%",f)}}Dm(e,this)||Em(e,this)})}splitCellVertically(e,t=2){const n=this.editor.model,i=e.parent.parent,a=parseInt(e.getAttribute("rowspan")||"1"),c=parseInt(e.getAttribute("colspan")||"1");n.change(d=>{if(c>1){const{newCellsSpan:h,updatedSpan:m}=Fx(c,t);ot("colspan",m,e,d);const f={};h>1&&(f.colspan=h),a>1&&(f.rowspan=a),ms(c>t?t-1:c-1,d,d.createPositionAfter(e),f)}if(c<t){const h=t-c,m=[...new ze(i)],{column:f}=m.find(({cell:S})=>S===e),w=m.filter(({cell:S,cellWidth:I,column:P})=>S!==e&&P===f||P<f&&P+I>f);for(const{cell:S,cellWidth:I}of w)d.setAttribute("colspan",I+h,S);const v={};a>1&&(v.rowspan=a),ms(h,d,d.createPositionAfter(e),v);const x=i.getAttribute("headingColumns")||0;x>f&&ot("headingColumns",x+h,i,d)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,i=e.parent,a=i.parent,c=a.getChildIndex(i),d=parseInt(e.getAttribute("rowspan")||"1"),h=parseInt(e.getAttribute("colspan")||"1");n.change(m=>{if(d>1){const f=[...new ze(a,{startRow:c,endRow:c+d-1,includeAllSlots:!0})],{newCellsSpan:w,updatedSpan:v}=Fx(d,t);ot("rowspan",v,e,m);const{column:x}=f.find(({cell:I})=>I===e),S={};w>1&&(S.rowspan=w),h>1&&(S.colspan=h);for(const I of f){const{column:P,row:z}=I;z>=c+v&&P===x&&(z+c+v)%w==0&&ms(1,m,I.getPositionBefore(),S)}}if(d<t){const f=t-d,w=[...new ze(a,{startRow:0,endRow:c})];for(const{cell:S,cellHeight:I,row:P}of w)if(S!==e&&P+I>c){const z=I+f;m.setAttribute("rowspan",z,S)}const v={};h>1&&(v.colspan=h),Tm(m,a,c+1,f,1,v);const x=a.getAttribute("headingRows")||0;x>c&&ot("headingRows",x+f,a,m)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(t=>t.is("element","tableCell")).reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,n)=>n.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new ze(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const i=n.getContainedElement();i&&i.is("element","tableCell")&&t.push(i)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const i=n.start.findAncestor("tableCell");i&&t.push(i)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(n=>n.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new ze(t)].filter(i=>e.includes(i.cell)).map(i=>i.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let i=0;for(const c of e){const{row:d,column:h}=this.getCellLocation(c),m=parseInt(c.getAttribute("rowspan"))||1,f=parseInt(c.getAttribute("colspan"))||1;t.add(d),n.add(h),m>1&&t.add(d+m-1),f>1&&n.add(h+f-1),i+=m*f}return function(c,d){const h=Array.from(c.values()),m=Array.from(d.values()),f=Math.max(...h),w=Math.min(...h),v=Math.max(...m),x=Math.min(...m);return(f-w+1)*(v-x+1)}(t,n)==i}sortRanges(e){return Array.from(e).sort(eR)}_getFirstLastIndexesObject(e){const t=e.sort((n,i)=>n-i);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),i=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,i))return!1;const a=this.getColumnIndexes(e),c=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(a,c)}_areIndexesInSameSection({first:e,last:t},n){return e<n==t<n}}function Tm(r,e,t,n,i,a={}){for(let c=0;c<n;c++){const d=r.createElement("tableRow");r.insert(d,e,t),ms(i,r,r.createPositionAt(d,"end"),a)}}function ms(r,e,t,n={}){for(let i=0;i<r;i++)co(e,t,n)}function Fx(r,e){if(r<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(r/e);return{newCellsSpan:t,updatedSpan:r-t*e+t}}function eR(r,e){const t=r.start,n=e.start;return t.isBefore(n)?-1:1}class tR extends Ae{refresh(){const e=this.editor.plugins.get(Dt),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(Dt);e.change(n=>{const i=t.getSelectedTableCells(e.document.selection),a=i.shift(),{mergeWidth:c,mergeHeight:d}=function(h,m,f){let w=0,v=0;for(const z of m){const{row:F,column:W}=f.getCellLocation(z);w=Ux(z,W,w,"colspan"),v=Ux(z,F,v,"rowspan")}const{row:x,column:S}=f.getCellLocation(h),I=w-S,P=v-x;return{mergeWidth:I,mergeHeight:P}}(a,i,t);ot("colspan",c,a,n),ot("rowspan",d,a,n);for(const h of i)nR(h,a,n);Sm(a.findAncestor("table"),t),n.setSelection(a,"in")})}}function nR(r,e,t){Vx(r)||(Vx(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(r),t.createPositionAt(e,"end"))),t.remove(r)}function Vx(r){const e=r.getChild(0);return r.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function Ux(r,e,t,n){const i=parseInt(r.getAttribute(n)||"1");return Math.max(t,e+i)}class rR extends Ae{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(n),a=n[0].findAncestor("table"),c=[];for(let d=i.first;d<=i.last;d++)for(const h of a.getChild(d).getChildren())c.push(e.createRangeOn(h));e.change(d=>{d.setSelection(c)})}}class iR extends Ae{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n[0],a=n.pop(),c=i.findAncestor("table"),d=e.getCellLocation(i),h=e.getCellLocation(a),m=Math.min(d.column,h.column),f=Math.max(d.column,h.column),w=[];for(const v of new ze(c,{startColumn:m,endColumn:f}))w.push(t.createRangeOn(v.cell));t.change(v=>{v.setSelection(w)})}}function oR(r){r.document.registerPostFixer(e=>function(t,n){const i=n.document.differ.getChanges();let a=!1;const c=new Set;for(const d of i){let h=null;d.type=="insert"&&d.name=="table"&&(h=d.position.nodeAfter),d.type!="insert"&&d.type!="remove"||d.name!="tableRow"&&d.name!="tableCell"||(h=d.position.findAncestor("table")),lR(d)&&(h=d.range.start.findAncestor("table")),h&&!c.has(h)&&(a=sR(h,t)||a,a=aR(h,t)||a,c.add(h))}return a}(e,r))}function sR(r,e){let t=!1;const n=function(i){const a=parseInt(i.getAttribute("headingRows")||"0"),c=Array.from(i.getChildren()).reduce((h,m)=>m.is("element","tableRow")?h+1:h,0),d=[];for(const{row:h,cell:m,cellHeight:f}of new ze(i)){if(f<2)continue;const w=h<a?a:c;if(h+f>w){const v=w-h;d.push({cell:m,rowspan:v})}}return d}(r);if(n.length){t=!0;for(const i of n)ot("rowspan",i.rowspan,i.cell,e,1)}return t}function aR(r,e){let t=!1;const n=function(d){const h=new Array(d.childCount).fill(0);for(const{rowIndex:m}of new ze(d,{includeAllSlots:!0}))h[m]++;return h}(r),i=[];for(const[d,h]of n.entries())!h&&r.getChild(d).is("element","tableRow")&&i.push(d);if(i.length){t=!0;for(const d of i.reverse())e.remove(r.getChild(d)),n.splice(d,1)}const a=n.filter((d,h)=>r.getChild(h).is("element","tableRow")),c=a[0];if(!a.every(d=>d===c)){const d=a.reduce((h,m)=>m>h?m:h,0);for(const[h,m]of a.entries()){const f=d-m;if(f){for(let w=0;w<f;w++)co(e,e.createPositionAt(r.getChild(h),"end"));t=!0}}}return t}function lR(r){if(r.type!=="attribute")return!1;const e=r.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function cR(r){r.document.registerPostFixer(e=>function(t,n){const i=n.document.differ.getChanges();let a=!1;for(const c of i)c.type=="insert"&&c.name=="table"&&(a=dR(c.position.nodeAfter,t)||a),c.type=="insert"&&c.name=="tableRow"&&(a=Hx(c.position.nodeAfter,t)||a),c.type=="insert"&&c.name=="tableCell"&&(a=Im(c.position.nodeAfter,t)||a),c.type!="remove"&&c.type!="insert"||!uR(c)||(a=Im(c.position.parent,t)||a);return a}(e,r))}function dR(r,e){let t=!1;for(const n of r.getChildren())n.is("element","tableRow")&&(t=Hx(n,e)||t);return t}function Hx(r,e){let t=!1;for(const n of r.getChildren())t=Im(n,e)||t;return t}function Im(r,e){if(r.childCount==0)return e.insertElement("paragraph",r),!0;const t=Array.from(r.getChildren()).filter(n=>n.is("$text"));for(const n of t)e.wrap(e.createRangeOn(n),"paragraph");return!!t.length}function uR(r){return!!r.position.parent.is("element","tableCell")&&(r.type=="insert"&&r.name=="$text"||r.type=="remove")}function hR(r,e){if(!r.is("element","paragraph"))return!1;const t=e.toViewElement(r);return!!t&&Dx(r)!==t.is("element","span")}var $x=p(8137),pR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()($x.A,pR),$x.A.locals;class mR extends J{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Dt]}init(){const e=this.editor,t=e.model,n=t.schema,i=e.conversion,a=e.plugins.get(Dt);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add(c=>{c.on("element:figure",(d,h,m)=>{if(!m.consumable.test(h.viewItem,{name:!0,classes:"table"}))return;const f=function(v){for(const x of v.getChildren())if(x.is("element","table"))return x}(h.viewItem);if(!f||!m.consumable.test(f,{name:!0}))return;m.consumable.consume(h.viewItem,{name:!0,classes:"table"});const w=_t(m.convertItem(f,h.modelCursor).modelRange.getItems());w?(m.convertChildren(h.viewItem,m.writer.createPositionAt(w,"end")),m.updateConversionResult(w,h)):m.consumable.revert(h.viewItem,{name:!0,classes:"table"})})}),i.for("upcast").add($L()),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:yx(a,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:yx(a,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add(c=>{c.on("element:tr",(d,h)=>{h.viewItem.isEmpty&&h.modelCursor.index==0&&d.stop()},{priority:"high"})}),i.for("downcast").elementToElement({model:"tableRow",view:(c,{writer:d})=>c.isEmpty?d.createEmptyElement("tr"):d.createContainerElement("tr")}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(Cx("td")),i.for("upcast").add(Cx("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:xx({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:xx()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:Ex({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:Ex(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:qx("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:qx("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new GL(e)),e.commands.add("insertTableRowAbove",new Sx(e,{order:"above"})),e.commands.add("insertTableRowBelow",new Sx(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new Tx(e,{order:"left"})),e.commands.add("insertTableColumnRight",new Tx(e,{order:"right"})),e.commands.add("removeTableRow",new KL(e)),e.commands.add("removeTableColumn",new YL(e)),e.commands.add("splitTableCellVertically",new Ix(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new Ix(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new tR(e)),e.commands.add("mergeTableCellRight",new Cd(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Cd(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Cd(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Cd(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new JL(e)),e.commands.add("setTableRowHeader",new QL(e)),e.commands.add("selectTableRow",new rR(e)),e.commands.add("selectTableColumn",new iR(e)),oR(t),cR(t),this.listenTo(t.document,"change:data",()=>{(function(c,d){const h=c.document.differ;for(const m of h.getChanges()){let f,w=!1;if(m.type=="attribute"){const I=m.range.start.nodeAfter;if(!I||!I.is("element","table")||m.attributeKey!="headingRows"&&m.attributeKey!="headingColumns")continue;f=I,w=m.attributeKey=="headingRows"}else m.name!="tableRow"&&m.name!="tableCell"||(f=m.position.findAncestor("table"),w=m.name=="tableRow");if(!f)continue;const v=f.getAttribute("headingRows")||0,x=f.getAttribute("headingColumns")||0,S=new ze(f);for(const I of S){const P=I.row<v||I.column<x?"th":"td",z=d.mapper.toViewElement(I.cell);z&&z.is("element")&&z.name!=P&&d.reconvertItem(w?I.cell.parent:I.cell)}}})(t,e.editing),function(c,d){const h=c.document.differ,m=new Set;for(const f of h.getChanges()){const w=f.type=="attribute"?f.range.start.parent:f.position.parent;w.is("element","tableCell")&&m.add(w)}for(const f of m.values()){const w=Array.from(f.getChildren()).filter(v=>hR(v,d.mapper));for(const v of w)d.reconvertItem(v)}}(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function qx(r){return e=>{const t=parseInt(e.getAttribute(r));return Number.isNaN(t)||t<=0?null:t}}var Wx=p(5032),gR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Wx.A,gR),Wx.A.locals;class Gx extends ce{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Ut,this.focusTracker=new At,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,i)=>`${i}  ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(n=>{n.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,i)=>{const{row:a,column:c}=i.target.dataset;this.items.get(10*(parseInt(a,10)-1)+(parseInt(c,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,i,a)=>{if(!a)return;const{row:c,column:d}=a.dataset;this.set({rows:parseInt(c),columns:parseInt(d)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),xI({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,i)=>{const a=Math.floor(i/10)<e&&i%10<t;n.set("isOn",a)})}_createGridButton(e,t,n,i){const a=new Ne(e);return a.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),a.extendTemplate({attributes:{"data-row":t,"data-column":n}}),a}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),i=t%10,a=`${n+1}  ${i+1}`;e.push(this._createGridButton(this.locale,n+1,i+1,a))}return this.createCollection(e)}}class fR extends J{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",i=>{const a=e.commands.get("insertTable"),c=jr(i);let d;return c.bind("isEnabled").to(a),c.buttonView.set({icon:ge.table,label:t("Insert table"),tooltip:!0}),c.on("change:isOpen",()=>{d||(d=new Gx(i),c.panelView.children.add(d),d.delegate("execute").to(c),c.on("execute",()=>{e.execute("insertTable",{rows:d.rows,columns:d.columns}),e.editing.view.focus()}))}),c}),e.ui.componentFactory.add("menuBar:insertTable",i=>{const a=e.commands.get("insertTable"),c=new ss(i),d=new Gx(i);return d.delegate("execute").to(c),c.on("change:isOpen",(h,m,f)=>{f||d.reset()}),d.on("execute",()=>{e.execute("insertTable",{rows:d.rows,columns:d.columns}),e.editing.view.focus()}),c.buttonView.set({label:t("Table"),icon:ge.table}),c.panelView.children.add(d),c.bind("isEnabled").to(a),c}),e.ui.componentFactory.add("tableColumn",i=>{const a=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',a,i)}),e.ui.componentFactory.add("tableRow",i=>{const a=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',a,i)}),e.ui.componentFactory.add("mergeTableCells",i=>{const a=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',a,i)})}_prepareDropdown(e,t,n,i){const a=this.editor,c=jr(i),d=this._fillDropdownWithListOptions(c,n);return c.buttonView.set({label:e,icon:t,tooltip:!0}),c.bind("isEnabled").toMany(d,"isEnabled",(...h)=>h.some(m=>m)),this.listenTo(c,"execute",h=>{a.execute(h.source.commandName),h.source instanceof Vc||a.editing.view.focus()}),c}_prepareMergeSplitButtonDropdown(e,t,n,i){const a=this.editor,c=jr(i,qc),d="mergeTableCells",h=a.commands.get(d),m=this._fillDropdownWithListOptions(c,n);return c.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),c.bind("isEnabled").toMany([h,...m],"isEnabled",(...f)=>f.some(w=>w)),this.listenTo(c.buttonView,"execute",()=>{a.execute(d),a.editing.view.focus()}),this.listenTo(c,"execute",f=>{a.execute(f.source.commandName),a.editing.view.focus()}),c}_fillDropdownWithListOptions(e,t){const n=this.editor,i=[],a=new $n;for(const c of t)kR(c,n,i,a);return x0(e,a),i}}function kR(r,e,t,n){if(r.type==="button"||r.type==="switchbutton"){const i=r.model=new nA(r.model),{commandName:a,bindIsOn:c}=r.model,d=e.commands.get(a);t.push(d),i.set({commandName:a}),i.bind("isEnabled").to(d),c&&i.bind("isOn").to(d,"value"),i.set({withText:!0})}n.add(r)}var Kx=p(8423),bR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Kx.A,bR),Kx.A.locals;class uo extends J{static get pluginName(){return"TableSelection"}static get requires(){return[Dt,Dt]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",(i,a)=>this._handleDeleteContent(i,a),{priority:"high"}),this.listenTo(n.document,"insertText",(i,a)=>this._handleInsertTextEvent(i,a),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Dt),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return n.length==0?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(Dt),t=this.getSelectedTableCells();return t?this.editor.model.change(n=>{const i=n.createDocumentFragment(),{first:a,last:c}=e.getColumnIndexes(t),{first:d,last:h}=e.getRowIndexes(t),m=t[0].findAncestor("table");let f=h,w=c;if(e.isSelectionRectangular(t)){const x={firstColumn:a,lastColumn:c,firstRow:d,lastRow:h};f=Lx(m,x),w=Rx(m,x)}const v=Mx(m,{startRow:d,startColumn:a,endRow:f,endColumn:w},n);return n.insert(v,i,0),i}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(i=>{i.setSelection(n.cells.map(a=>i.createRangeOn(a)),{backward:n.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=_t(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(n=>n.on("selection",(i,a,c)=>{const d=c.writer;(function(f){for(const w of t)f.removeClass("ck-editor__editable_selected",w);t.clear()})(d);const h=this.getSelectedTableCells();if(!h)return;for(const f of h){const w=c.mapper.toViewElement(f);d.addClass("ck-editor__editable_selected",w),t.add(w)}const m=c.mapper.toViewElement(h[h.length-1]);d.setSelection(m,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(n=>{const i=n.createPositionAt(t[0],0),a=e.model.schema.getNearestSelectionRange(i);n.setSelection(a)})}})}_handleDeleteContent(e,t){const n=this.editor.plugins.get(Dt),i=t[0],a=t[1],c=this.editor.model,d=!a||a.direction=="backward",h=n.getSelectedTableCells(i);h.length&&(e.stop(),c.change(m=>{const f=h[d?h.length-1:0];c.change(v=>{for(const x of h)c.deleteContent(v.createSelection(x,"in"))});const w=c.schema.getNearestSelectionRange(m.createPositionAt(f,0));i.is("documentSelection")?m.setSelection(w):i.setTo(w)}))}_handleInsertTextEvent(e,t){const n=this.editor,i=this.getSelectedTableCells();if(!i)return;const a=n.editing.view,c=n.editing.mapper,d=i.map(h=>a.createRangeOn(c.toViewElement(h)));t.selection=a.createSelection(d)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(e),a=n.getCellLocation(t),c=Math.min(i.row,a.row),d=Math.max(i.row,a.row),h=Math.min(i.column,a.column),m=Math.max(i.column,a.column),f=new Array(d-c+1).fill(null).map(()=>[]),w={startRow:c,endRow:d,startColumn:h,endColumn:m};for(const{row:S,cell:I}of new ze(e.findAncestor("table"),w))f[S-c].push(I);const v=a.row<i.row,x=a.column<i.column;return v&&f.reverse(),x&&f.forEach(S=>S.reverse()),{cells:f.flat(),backward:v||x}}}class wR extends J{static get pluginName(){return"TableClipboard"}static get requires(){return[Pa,Nn,uo,Dt]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(n,i)=>this._onCopyCut(n,i)),this.listenTo(t,"cut",(n,i)=>this._onCopyCut(n,i)),this.listenTo(e.model,"insertContent",(n,[i,a])=>this._onInsertContent(n,i,a),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.editing.view,i=this.editor.plugins.get(uo),a=this.editor.plugins.get(Pa);i.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const c=a._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>i.getSelectionAsFragment());n.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(c),method:e.name})}))}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const i=this.editor.model,a=this.editor.plugins.get(Dt),c=this.editor.plugins.get(Pa),d=this.getTableIfOnlyTableInContent(t,i);if(!d)return;const h=a.getSelectionAffectedTableCells(i.document.selection);h.length?(e.stop(),t.is("documentFragment")?c._pasteMarkersIntoTransformedElement(t.markers,m=>this._replaceSelectedCells(d,h,m)):this.editor.model.change(m=>{this._replaceSelectedCells(d,h,m)})):Sm(d,a)}_replaceSelectedCells(e,t,n){const i=this.editor.plugins.get(Dt),a={width:i.getColumns(e),height:i.getRows(e)},c=function(w,v,x,S){const I=w[0].findAncestor("table"),P=S.getColumnIndexes(w),z=S.getRowIndexes(w),F={firstColumn:P.first,lastColumn:P.last,firstRow:z.first,lastRow:z.last},W=w.length===1;return W&&(F.lastRow+=v.height-1,F.lastColumn+=v.width-1,function(K,ie,de,ke){const We=ke.getColumns(K),ft=ke.getRows(K);de>We&&ke.insertColumns(K,{at:We,columns:de-We}),ie>ft&&ke.insertRows(K,{at:ft,rows:ie-ft})}(I,F.lastRow+1,F.lastColumn+1,S)),W||!S.isSelectionRectangular(w)?function(K,ie,de){const{firstRow:ke,lastRow:We,firstColumn:ft,lastColumn:h1}=ie,p1={first:ke,last:We},m1={first:ft,last:h1};Nm(K,ft,p1,de),Nm(K,h1+1,p1,de),Mm(K,ke,m1,de),Mm(K,We+1,m1,de,ke)}(I,F,x):(F.lastRow=Lx(I,F),F.lastColumn=Rx(I,F)),F}(t,a,n,i),d=c.lastRow-c.firstRow+1,h=c.lastColumn-c.firstColumn+1;e=Mx(e,{startRow:0,startColumn:0,endRow:Math.min(d,a.height)-1,endColumn:Math.min(h,a.width)-1},n);const m=t[0].findAncestor("table"),f=this._replaceSelectedCellsWithPasted(e,a,m,c,n);if(this.editor.plugins.get("TableSelection").isEnabled){const w=i.sortRanges(f.map(v=>n.createRangeOn(v)));n.setSelection(w)}else n.setSelection(f[0],0);return m}_replaceSelectedCellsWithPasted(e,t,n,i,a){const{width:c,height:d}=t,h=function(P,z,F){const W=new Array(F).fill(null).map(()=>new Array(z).fill(null));for(const{column:K,row:ie,cell:de}of new ze(P))W[ie][K]=de;return W}(e,c,d),m=[...new ze(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],f=[];let w;for(const P of m){const{row:z,column:F}=P;F===i.firstColumn&&(w=P.getPositionBefore());const W=z-i.firstRow,K=F-i.firstColumn,ie=h[W%d][K%c],de=ie?a.cloneElement(ie):null,ke=this._replaceTableSlotCell(P,de,w,a);ke&&(Ox(ke,z,F,i.lastRow,i.lastColumn,a),f.push(ke),w=a.createPositionAfter(ke))}const v=parseInt(n.getAttribute("headingRows")||"0"),x=parseInt(n.getAttribute("headingColumns")||"0"),S=i.firstRow<v&&v<=i.lastRow,I=i.firstColumn<x&&x<=i.lastColumn;if(S){const P=Mm(n,v,{first:i.firstColumn,last:i.lastColumn},a,i.firstRow);f.push(...P)}if(I){const P=Nm(n,x,{first:i.firstRow,last:i.lastRow},a);f.push(...P)}return f}_replaceTableSlotCell(e,t,n,i){const{cell:a,isAnchor:c}=e;return c&&i.remove(a),t?(i.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const i of n.getItems())if(i.is("element","table")){const a=t.createRange(n.start,t.createPositionBefore(i));if(t.hasContent(a,{ignoreWhitespaces:!0}))return null;const c=t.createRange(t.createPositionAfter(i),n.end);return t.hasContent(c,{ignoreWhitespaces:!0})?null:i}return null}}function Mm(r,e,t,n,i=0){if(!(e<1))return Nx(r,e,i).filter(({column:a,cellWidth:c})=>Yx(a,c,t)).map(({cell:a})=>Bx(a,e,n))}function Nm(r,e,t,n){if(!(e<1))return jx(r,e).filter(({row:i,cellHeight:a})=>Yx(i,a,t)).map(({cell:i,column:a})=>Px(i,a,e,n))}function Yx(r,e,t){const n=r+e-1,{first:i,last:a}=t;return r>=i&&r<=a||r<i&&n>=i}class _R extends J{static get pluginName(){return"TableKeyboard"}static get requires(){return[uo,Dt]}init(){const e=this.editor,t=e.editing.view.document,n=e.t;this.listenTo(t,"arrowKey",(...i)=>this._onArrowKey(...i),{context:"table"}),this.listenTo(t,"tab",(...i)=>this._handleTabOnSelectedTable(...i),{context:"figure"}),this.listenTo(t,"tab",(...i)=>this._handleTab(...i),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:n("Keystrokes that can be used in a table cell"),keystrokes:[{label:n("Move the selection to the next cell"),keystroke:"Tab"},{label:n("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:n("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:n("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const n=this.editor,i=n.model.document.selection.getSelectedElement();i&&i.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change(a=>{a.setSelection(a.createRangeIn(i.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor,i=this.editor.plugins.get(Dt),a=this.editor.plugins.get("TableSelection"),c=n.model.document.selection,d=!t.shiftKey;let h=i.getTableCellsContainingSelection(c)[0];if(h||(h=a.getFocusCell()),!h)return;t.preventDefault(),t.stopPropagation(),e.stop();const m=h.parent,f=m.parent,w=f.getChildIndex(m),v=m.getChildIndex(h),x=v===0;if(!d&&x&&w===0)return void n.model.change(z=>{z.setSelection(z.createRangeOn(f))});const S=v===m.childCount-1,I=w===i.getRows(f)-1;if(d&&I&&S&&(n.execute("insertTableRowBelow"),w===i.getRows(f)-1))return void n.model.change(z=>{z.setSelection(z.createRangeOn(f))});let P;if(d&&S)P=f.getChild(w+1).getChild(0);else if(!d&&x){const z=f.getChild(w-1);P=z.getChild(z.childCount-1)}else P=m.getChild(v+(d?1:-1));n.model.change(z=>{z.setSelection(z.createRangeIn(P))})}_onArrowKey(e,t){const n=this.editor,i=Hh(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(i,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(Dt),i=this.editor.plugins.get("TableSelection"),a=this.editor.model,c=a.document.selection,d=["right","down"].includes(e),h=n.getSelectedTableCells(c);if(h.length){let f;return f=t?i.getFocusCell():d?h[h.length-1]:h[0],this._navigateFromCellInDirection(f,e,t),!0}const m=c.focus.findAncestor("tableCell");if(!m)return!1;if(!c.isCollapsed)if(t){if(c.isBackward==d&&!c.containsEntireContent(m))return!1}else{const f=c.getSelectedElement();if(!f||!a.schema.isObject(f))return!1}return!!this._isSelectionAtCellEdge(c,m,d)&&(this._navigateFromCellInDirection(m,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const i=this.editor.model,a=this.editor.model.schema,c=n?e.getLastPosition():e.getFirstPosition();if(!a.getLimitElement(c).is("element","tableCell"))return i.createPositionAt(t,n?"end":0).isTouching(c);const d=i.createSelection(c);return i.modifySelection(d,{direction:n?"forward":"backward"}),c.isEqual(d.focus)}_navigateFromCellInDirection(e,t,n=!1){const i=this.editor.model,a=e.findAncestor("table"),c=[...new ze(a,{includeAllSlots:!0})],{row:d,column:h}=c[c.length-1],m=c.find(({cell:I})=>I==e);let{row:f,column:w}=m;switch(t){case"left":w--;break;case"up":f--;break;case"right":w+=m.cellWidth;break;case"down":f+=m.cellHeight}if(f<0||f>d||w<0&&f<=0||w>h&&f>=d)return void i.change(I=>{I.setSelection(I.createRangeOn(a))});w<0?(w=n?0:h,f--):w>h&&(w=n?h:0,f++);const v=c.find(I=>I.row==f&&I.column==w).cell,x=["right","down"].includes(t),S=this.editor.plugins.get("TableSelection");if(n&&S.isEnabled){const I=S.getAnchorCell()||e;S.setCellSelection(I,v)}else{const I=i.createPositionAt(v,x?0:"end");i.change(P=>{P.setSelection(I)})}}}class AR extends ai{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class vR extends J{static get pluginName(){return"TableMouse"}static get requires(){return[uo,Dt]}init(){this.editor.editing.view.addObserver(AR),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Dt);let n=!1;const i=e.plugins.get(uo);this.listenTo(e.editing.view.document,"mousedown",(a,c)=>{const d=e.model.document.selection;if(!this.isEnabled||!i.isEnabled||!c.domEvent.shiftKey)return;const h=i.getAnchorCell()||t.getTableCellsContainingSelection(d)[0];if(!h)return;const m=this._getModelTableCellFromDomEvent(c);m&&Qx(h,m)&&(n=!0,i.setCellSelection(h,m),c.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(e.editing.view.document,"selectionChange",a=>{n&&a.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,i=!1,a=!1;const c=e.plugins.get(uo);this.listenTo(e.editing.view.document,"mousedown",(d,h)=>{this.isEnabled&&c.isEnabled&&(h.domEvent.shiftKey||h.domEvent.ctrlKey||h.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(h)))}),this.listenTo(e.editing.view.document,"mousemove",(d,h)=>{if(!h.domEvent.buttons||!t)return;const m=this._getModelTableCellFromDomEvent(h);m&&Qx(t,m)&&(n=m,i||n==t||(i=!0)),i&&(a=!0,c.setCellSelection(t,n),h.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1,a=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",d=>{a&&d.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function Qx(r,e){return r.parent.parent==e.parent.parent}var Jx=p(2329),CR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Jx.A,CR),Jx.A.locals;function yR(r){const e=r.getSelectedElement();return e&&Zx(e)?e:null}function xR(r){const e=r.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&Zx(t))return t;t=t.parent}return null}function Zx(r){return!!r.getCustomProperty("table")&&dt(r)}var Xx=p(5506),ER={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Xx.A,ER),Xx.A.locals;var e1=p(2655),DR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(e1.A,DR),e1.A.locals;var t1=p(4043),SR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(t1.A,SR),t1.A.locals;var n1=p(1623),TR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(n1.A,TR),n1.A.locals;var r1=p(8986),IR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(r1.A,IR),r1.A.locals;const ho=tn.defaultPositions;ho.northArrowSouth,ho.northArrowSouthWest,ho.northArrowSouthEast,ho.southArrowNorth,ho.southArrowNorthWest,ho.southArrowNorthEast,ho.viewportStickyNorth;var i1=p(5562),MR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(i1.A,MR),i1.A.locals;var o1=p(4143),NR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(o1.A,NR),o1.A.locals;var s1=p(8795),BR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(s1.A,BR),s1.A.locals;var jR=Object.defineProperty,a1=Object.getOwnPropertySymbols,PR=Object.prototype.hasOwnProperty,OR=Object.prototype.propertyIsEnumerable,l1=(r,e,t)=>e in r?jR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,c1=(r,e)=>{for(var t in e||(e={}))PR.call(e,t)&&l1(r,t,e[t]);if(a1)for(var t of a1(e))OR.call(e,t)&&l1(r,t,e[t]);return r};const LR={autoRefresh:!0},d1=36e5;class Bm extends Le(){constructor(e,t={}){if(super(),!e)throw new M("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh=typeof e=="function"?e:()=>{return n=e,new Promise((i,a)=>{const c=new XMLHttpRequest;c.open("GET",n),c.addEventListener("load",()=>{const d=c.status,h=c.response;return d<200||d>299?a(new M("token-cannot-download-new-token",null)):i(h)}),c.addEventListener("error",()=>a(new Error("Network Error"))),c.addEventListener("abort",()=>a(new Error("Abort"))),c.send()});var n},this._options=c1(c1({},LR),t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",n=!/^".*"$/.test(e),i=t&&e.split(".").length===3;if(!n||!i)throw new M("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):d1}catch{return d1}}static create(e,t={}){return new Bm(e,t).init()}}const jm=/^data:(\S*?);base64,/;class RR extends Z(){constructor(e,t,n){if(super(),!e)throw new M("fileuploader-missing-file",null);if(!t)throw new M("fileuploader-missing-token",null);if(!n)throw new M("fileuploader-missing-api-address",null);this.file=function(i){if(typeof i!="string")return!1;const a=i.match(jm);return!(!a||!a.length)}(e)?function(i,a=512){try{const c=i.match(jm)[1],d=atob(i.replace(jm,"")),h=[];for(let m=0;m<d.length;m+=a){const f=d.slice(m,m+a),w=new Array(f.length);for(let v=0;v<f.length;v++)w[v]=f.charCodeAt(v);h.push(new Uint8Array(w))}return new Blob(h,{type:c})}catch{throw new M("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",(t,n)=>e(n)),this}onError(e){return this.once("error",(t,n)=>e(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=n=>()=>this.fire("error",n);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})}),e.addEventListener("load",()=>{const n=e.status,i=e.response;if(n<200||n>299)return this.fire("error",i.message||i.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((n,i)=>{t.addEventListener("load",()=>{const a=t.status,c=t.response;return a<200||a>299?c.message?i(new M("fileuploader-uploading-data-failed",this,{message:c.message})):i(c.error):n(c)}),t.addEventListener("error",()=>i(new Error("Network Error"))),t.addEventListener("abort",()=>i(new Error("Abort"))),t.send(e)})}}class zR{constructor(e,t){if(!e)throw new M("uploadgateway-missing-token",null);if(!t)throw new M("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new RR(e,this._token,this._apiAddress)}}class FR extends vc{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new Bm(e,t)}createUploadGateway(e,t){return new zR(e,t)}}var u1=(r,e,t)=>new Promise((n,i)=>{var a=h=>{try{d(t.next(h))}catch(m){i(m)}},c=h=>{try{d(t.throw(h))}catch(m){i(m)}},d=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,c);d((t=t.apply(r,e)).next())});class Pm extends ed{}Pm.builtinPlugins=[class extends J{static get requires(){return[FN,Bv,id,sP,Ij,vj,Rv]}static get pluginName(){return"Essentials"}},class extends J{static get requires(){return[Jn]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const r=this.editor.config.get("ckfinder.uploadUrl");r&&(this.editor.plugins.get(Jn).createUploadAdapter=e=>new bP(e,r,this.editor.t))}},class extends J{static get requires(){return[Or]}static get pluginName(){return"Autoformat"}afterInit(){const r=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),r.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const r=this.editor.commands;r.get("bulletedList")&&ui(this.editor,this,/^[*-]\s$/,"bulletedList"),r.get("numberedList")&&ui(this.editor,this,/^1[.|)]\s$/,"numberedList"),r.get("todoList")&&ui(this.editor,this,/^\[\s?\]\s$/,"todoList"),r.get("checkTodoList")&&ui(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const r=this.editor.commands;if(r.get("bold")){const e=cd(this.editor,"bold");cs(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),cs(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(r.get("italic")){const e=cd(this.editor,"italic");cs(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),cs(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(r.get("code")){const e=cd(this.editor,"code");cs(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(r.get("strikethrough")){const e=cd(this.editor,"strikethrough");cs(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const r=this.editor.commands.get("heading");r&&r.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],n=new RegExp(`^(#{${t}})\\s$`);ui(this.editor,this,n,()=>{if(!r.isEnabled||r.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&ui(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const r=this.editor,e=r.model.document.selection;r.commands.get("codeBlock")&&ui(r,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&ui(this.editor,this,/^---$/,"horizontalLine")}},class extends J{static get requires(){return[wP,_P]}static get pluginName(){return"Bold"}},class extends J{static get requires(){return[vP,CP]}static get pluginName(){return"Italic"}},class extends J{static get requires(){return[xP,DP]}static get pluginName(){return"BlockQuote"}},class extends J{static get pluginName(){return"CKBox"}static get requires(){return[iC,SP]}},class extends J{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",XP,JP]}},class extends vc{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[FR]}init(){return u1(this,null,function*(){const r=this.context.config.get("cloudServices")||{};for(const[t,n]of Object.entries(r))this[t]=n;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(r){return u1(this,null,function*(){if(this._tokens.has(r))return this.getTokenFor(r);const e=this.context.plugins.get("CloudServicesCore"),t=yield e.createToken(r).init();return this._tokens.set(r,t),t})}getTokenFor(r){const e=this._tokens.get(r);if(!e)throw new M("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const r of this._tokens.values())r.destroy()}},class extends J{static get pluginName(){return"EasyImage"}static get requires(){return[e3,"ImageUpload"]}init(){const r=this.editor;r.plugins.has("ImageBlockEditing")||r.plugins.has("ImageInlineEditing")||$("easy-image-image-feature-missing",r)}},class extends J{static get requires(){return[o3,a3]}static get pluginName(){return"Heading"}},class extends J{static get requires(){return[S3,I3]}static get pluginName(){return"Image"}},class extends J{static get requires(){return[N3,B3]}static get pluginName(){return"ImageCaption"}},class extends J{static get requires(){return[dy,rO]}static get pluginName(){return"ImageStyle"}},class extends J{static get requires(){return[sd,rn]}static get pluginName(){return"ImageToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(sd),n=r.plugins.get("ImageUtils");var i;t.register("image",{ariaLabel:e("Image toolbar"),items:(i=r.config.get("image.toolbar")||[],i.map(a=>Se(a)?a.name:a)),getRelatedElement:a=>n.getClosestSelectedImageWidget(a)})}},class extends J{static get pluginName(){return"ImageUpload"}static get requires(){return[G3,O3,F3]}},class extends J{static get pluginName(){return"Indent"}static get requires(){return[iO,oO]}},class extends J{static get requires(){return[My,jO,PO]}static get pluginName(){return"Link"}},oL,class extends J{static get requires(){return[vd,kL,mL,za]}static get pluginName(){return"MediaEmbed"}},sm,class extends J{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Nn]}init(){const r=this.editor,e=r.plugins.get("ClipboardPipeline"),t=r.editing.view.document,n=[],i=this.editor.plugins.has("MultiLevelList");n.push(new RL(t,i)),n.push(new FL(t)),n.push(new UL(t)),e.on("inputTransformation",(a,c)=>{if(c._isTransformedWithPasteFromOffice||r.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const d=c.dataTransfer.getData("text/html"),h=n.find(m=>m.isActive(d));h&&(c._parsedData||(c._parsedData=HL(d,t.stylesProcessor)),h.execute(c),c._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends J{static get requires(){return[lm,rn]}static get pluginName(){return"PictureEditing"}afterInit(){const r=this.editor;r.plugins.has("ImageBlockEditing")&&r.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),r.plugins.has("ImageInlineEditing")&&r.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const r=this.editor,e=r.conversion,t=r.plugins.get("ImageUtils");e.for("upcast").add(function(n){const i=["srcset","media","type","sizes"],a=(c,d,h)=>{const m=d.viewItem;if(!h.consumable.test(m,{name:!0}))return;const f=new Map;for(const x of m.getChildren())if(x.is("element","source")){const S={};for(const I of i)x.hasAttribute(I)&&h.consumable.test(x,{attributes:I})&&(S[I]=x.getAttribute(I));Object.keys(S).length&&f.set(x,S)}const w=n.findViewImgElement(m);if(!w)return;let v=d.modelCursor.parent;if(!v.is("element","imageBlock")){const x=h.convertItem(w,d.modelCursor);d.modelRange=x.modelRange,d.modelCursor=x.modelCursor,v=_t(x.modelRange.getItems())}h.consumable.consume(m,{name:!0});for(const[x,S]of f)h.consumable.consume(x,{attributes:Object.keys(S)});f.size&&h.writer.setAttribute("sources",Array.from(f.values()),v),h.convertChildren(m,v)};return c=>{c.on("element:picture",a)}}(t)),e.for("downcast").add(function(n){const i=(a,c,d)=>{if(!d.consumable.consume(c.item,a.name))return;const h=d.writer,m=d.mapper.toViewElement(c.item),f=n.findViewImgElement(m),w=c.attributeNewValue;if(w&&w.length){const v=h.createContainerElement("picture",null,w.map(I=>h.createEmptyElement("source",I))),x=[];let S=f.parent;for(;S&&S.is("attributeElement");){const I=S.parent;h.unwrap(h.createRangeOn(f),S),x.unshift(S),S=I}h.insert(h.createPositionBefore(f),v),h.move(h.createRangeOn(f),h.createPositionAt(v,"end"));for(const I of x)h.wrap(h.createRangeOn(v),I)}else if(f.parent.is("element","picture")){const v=f.parent;h.move(h.createRangeOn(f),h.createPositionBefore(v)),h.remove(v)}};return a=>{a.on("attribute:sources:imageBlock",i),a.on("attribute:sources:imageInline",i)}}(t))}_setupImageUploadEditingIntegration(){const r=this.editor;if(!r.plugins.has("ImageUploadEditing"))return;const e=r.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(t,{imageElement:n,data:i})=>{const a=i.sources;a&&r.model.change(c=>{c.setAttributes({sources:a},n)})})}},class extends J{static get requires(){return[mR,fR,uo,vR,_R,wR,za]}static get pluginName(){return"Table"}},class extends J{static get requires(){return[sd]}static get pluginName(){return"TableToolbar"}afterInit(){const r=this.editor,e=r.t,t=r.plugins.get(sd),n=r.config.get("table.contentToolbar"),i=r.config.get("table.tableToolbar");n&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:n,getRelatedElement:xR}),i&&t.register("table",{ariaLabel:e("Table toolbar"),items:i,getRelatedElement:yR})}},class extends J{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(r){super(r),r.config.define("typing",{transformations:{include:Cj}})}init(){const r=this.editor.model.document.selection;r.on("change:range",()=>{this.isEnabled=!r.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const r=this.editor,e=r.model,t=r.plugins.get("Delete"),n=function(a){const c=a.extra||[],d=a.remove||[],h=m=>!d.includes(m);return function(m){const f=new Set;for(const w of m)if(typeof w=="string"&&ov[w])for(const v of ov[w])f.add(v);else f.add(w);return Array.from(f)}(a.include.concat(c).filter(h)).filter(h).map(m=>typeof m=="string"&&iv[m]?iv[m]:m).filter(m=>typeof m=="object").map(m=>({from:yj(m.from),to:xj(m.to)}))}(r.config.get("typing.transformations")),i=new tv(r.model,a=>{for(const c of n)if(c.from.test(a))return{normalizedTransformation:c}});i.on("matched:data",(a,c)=>{if(!c.batch.isTyping)return;const{from:d,to:h}=c.normalizedTransformation,m=d.exec(c.text),f=h(m.slice(1)),w=c.range;let v=m.index;e.enqueueChange(x=>{for(let S=1;S<m.length;S++){const I=m[S],P=f[S-1];if(P==null){v+=I.length;continue}const z=w.start.getShiftedBy(v),F=e.createRange(z,z.getShiftedBy(I.length)),W=Ej(z);e.insertContent(x.createText(P,W),F),v+=P.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),i.bind("isEnabled").to(this)}}],Pm.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),g=g.default})())})(Nu,Nu.exports);var IV=Nu.exports;const MV=JE(IV),Bu=()=>{const o=Vn(),{id:s}=Ju(),[l,u]=V.useState(""),[p,g]=V.useState(""),[b,_]=V.useState(null),[k,y]=V.useState(!0),[E,D]=V.useState([]),[C,T]=V.useState(!0),[j,O]=V.useState(null),L=V.useRef(null);V.useEffect(()=>{N(),s?B():T(!1)},[s]);const N=async()=>{try{const{data:q,error:Y}=await _e.from("businesses").select("id, name, status").order("name");if(Y)throw Y;const M=(q==null?void 0:q.filter($=>$.status==="draft"||$.status==="recruiting"))||[];D(M)}catch(q){console.error("Error fetching businesses:",q),O(`   : ${q.message||"   "}`)}},B=async()=>{try{const{data:q,error:Y}=await _e.from("notices").select("*").eq("id",s).single();if(Y)throw Y;q&&(u(q.title),g(q.content),_(q.business_id),y(q.is_visible)),T(!1)}catch(q){console.error("Error fetching notice:",q),O(`  : ${q.message||"   "}`),T(!1)}},R=q=>({upload:()=>new Promise(async(Y,M)=>{try{const $=await q.file;if(!$)return M(new Error("File loader returned null"));const re=`${Date.now()}-${$.name}`,{data:oe,error:be}=await _e.storage.from("notice-images").upload(re,$,{cacheControl:"3600",upsert:!1});if(be)return M(be.message||"Supabase upload error during file .upload");if(!oe||!oe.path)return M(new Error("Supabase upload error: No path returned from .upload"));const{data:ae}=_e.storage.from("notice-images").getPublicUrl(oe.path);if(!ae||!ae.publicUrl)return M(new Error("Error getting public URL: No publicUrl in response or an error occurred."));Y({default:ae.publicUrl})}catch($){console.error("Image upload failed:",$),M($.message||"Image upload failed due to unknown error")}}),abort:()=>{console.log("Image upload aborted")}}),H=async q=>{if(q.preventDefault(),!l||!p){O("  .");return}try{const Y={title:l,content:p,business_id:b,is_visible:k};let M;if(s?M=await _e.from("notices").update(Y).eq("id",s).select():M=await _e.from("notices").insert([Y]).select(),M.error)throw M.error;o("/admin/dashboard",{state:{activeTab:"notices"}})}catch(Y){console.error("Error saving notice:",Y),O(` ${s?"":""} : ${Y.message||"   "}`)}};return C?A.jsx("div",{className:"flex justify-center items-center h-screen",children:A.jsx("p",{className:"text-xl",children:" ..."})}):A.jsx("div",{className:"min-h-screen bg-gray-100 py-8",children:A.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[A.jsx("div",{className:"mb-6",children:A.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:s?" ":"  "})}),j&&A.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-300 rounded-md text-red-700",children:j}),A.jsxs("form",{onSubmit:H,className:"bg-white shadow-lg rounded-xl p-6 space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"text",id:"title",value:l,onChange:q=>u(q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"  "})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx(oT,{editor:MV,data:p,onReady:q=>{L.current=q,q.plugins.get("FileRepository").createUploadAdapter=R},onChange:(q,Y)=>{const M=Y.getData();g(M)},config:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"],language:"ko"}})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"businessId",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),A.jsxs("select",{id:"businessId",value:b||"",onChange:q=>_(q.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white",children:[A.jsx("option",{value:"",children:" "}),E.map(q=>A.jsx("option",{value:q.id,children:q.name},q.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"isVisible",className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),A.jsxs("select",{id:"isVisible",value:k.toString(),onChange:q=>y(q.target.value==="true"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white",children:[A.jsx("option",{value:"true",children:""}),A.jsx("option",{value:"false",children:""})]})]})]}),A.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[A.jsxs("button",{type:"button",onClick:()=>o("/admin/dashboard",{state:{activeTab:"notices"}}),className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 transition-all duration-150 flex items-center",children:[A.jsx(Oi,{size:18,className:"mr-2"}),""]}),A.jsxs("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 transition-all duration-150 flex items-center",children:[A.jsx(zl,{size:18,className:"mr-2"}),s?" ":""]})]})]})]})})},QE=()=>{const o=Vn(),{id:s}=Ju(),[l,u]=V.useState(""),[p,g]=V.useState(""),[b,_]=V.useState(),[k,y]=V.useState(""),[E,D]=V.useState(""),[C,T]=V.useState(1),[j,O]=V.useState(!0),[L,N]=V.useState(!0),[B,R]=V.useState(null),[H,q]=V.useState(null),[Y,M]=V.useState(null),[$,re]=V.useState([]);V.useEffect(()=>{(async()=>{N(!0);try{const{data:pe,error:xe}=await _e.from("notices").select("id, title").order("created_at",{ascending:!1});if(xe)throw xe;if(re(pe||[]),s){const{data:fe,error:De}=await _e.from("popups").select("*").eq("id",s).single();if(De)throw De;fe&&(u(fe.title),g(fe.content),_(fe.image_url),y(fe.start_date?new Date(fe.start_date).toISOString().split("T")[0]:""),D(fe.end_date?new Date(fe.end_date).toISOString().split("T")[0]:""),T(fe.priority),O(fe.is_active),M(fe.linked_notice_id||null),q(null))}else u(""),g(""),_(void 0),y(""),D(""),T(1),O(!0),M(null),q(null)}catch(pe){console.error("Error fetching data for popup form:",pe),R(`  : ${pe.message||"   "}`)}finally{N(!1)}})()},[s]);const oe=async ae=>{var pe;if(!ae)throw console.error("handleImageUpload: No file provided for upload."),new Error("  .");try{console.log("--- File object received by handleImageUpload ---"),console.log("Name:",ae.name),console.log("Size:",ae.size),console.log("Type:",ae.type),console.log("Last Modified:",new Date(ae.lastModified).toLocaleString()),console.log("-------------------------------------------------");const xe=ae.name,fe=xe.substring(xe.lastIndexOf(".")).toLowerCase();let De=xe.substring(0,xe.lastIndexOf("."));De=De.replace(/[^a-zA-Z0-9_.-]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),(!De||De.length<3)&&(De="popup_image");const wt=`${Date.now()}-${De}${fe}`;console.log("Final fileName for Supabase:",wt),console.log("--- File object just before supabase.upload ---"),console.log("Name:",ae.name),console.log("Size:",ae.size),console.log("Type (before upload):",ae.type),console.log("-----------------------------------------------");let Z=ae.type;(!Z||Z==="application/octet-stream")&&(fe===".jpg"||fe===".jpeg"?Z="image/jpeg":fe===".png"?Z="image/png":fe===".gif"&&(Z="image/gif"),console.log(`Inferred contentType based on extension '${fe}': ${Z}`));const{data:ue,error:me}=await _e.storage.from("popup-images").upload(wt,ae,{cacheControl:"3600",upsert:!1,contentType:Z});if(me)throw console.error("Supabase upload raw error:",me),me;if(!ue||!ue.path)throw new Error("    .");const{data:Oe,error:$e}=_e.storage.from("popup-images").getPublicUrl(ue.path);if($e)throw console.error("Supabase getPublicUrl raw error:",$e),$e;if(!Oe||!Oe.publicUrl)throw new Error(" URL   .");return console.log("Uploaded Image Public URL:",Oe.publicUrl),Oe.publicUrl}catch(xe){console.error("Image upload failed:",xe);const fe=xe;let De=fe.message||"   ";throw fe.error&&((pe=fe.message)!=null&&pe.includes(fe.error))||fe.error&&(De=`${De} (Server: ${fe.error})${fe.statusCode?" Status: "+fe.statusCode:""}`),new Error(`  : ${De}`)}},be=async ae=>{if(ae.preventDefault(),!l||!k||!E){R("   .");return}try{let pe=b;H&&(pe=await oe(H));const xe=k?`${k}T00:00:00`:null,fe=E?`${E}T23:59:59`:null;if(!l||!xe||!fe){R("   .");return}const De={title:l,content:p,image_url:pe,start_date:xe,end_date:fe,priority:C,is_active:j,linked_notice_id:Y};let wt;if(s?wt=await _e.from("popups").update(De).eq("id",s).select():wt=await _e.from("popups").insert([De]).select(),wt.error)throw wt.error;o("/admin/dashboard",{state:{activeTab:"popups"}})}catch(pe){console.error("Error saving popup:",pe),R(` ${s?"":""} : ${pe.message||"   "}`)}};return L?A.jsx("div",{className:"flex justify-center items-center h-screen",children:A.jsx("p",{className:"text-xl",children:" ..."})}):A.jsx("div",{className:"min-h-screen bg-gray-100 py-8",children:A.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[A.jsx("div",{className:"mb-6",children:A.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:s?" ":"  "})}),B&&A.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-300 rounded-md text-red-700",children:B}),A.jsxs("form",{onSubmit:be,className:"bg-white shadow-lg rounded-xl p-6 space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"text",id:"title",value:l,onChange:ae=>u(ae.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"  "})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),A.jsx("textarea",{id:"content",value:p,onChange:ae=>g(ae.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"   "})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[b&&A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:b,alt:"Preview",className:"h-32 w-auto object-cover rounded-lg"}),A.jsx("button",{type:"button",onClick:()=>_(void 0),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:A.jsx(Oi,{size:14})})]}),A.jsxs("label",{className:"cursor-pointer flex items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 transition-colors",children:[A.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ae=>{var xe;const pe=(xe=ae.target.files)==null?void 0:xe[0];pe&&(q(pe),_(URL.createObjectURL(pe)))}}),A.jsxs("div",{className:"text-center",children:[A.jsx(mf,{className:"mx-auto h-8 w-8 text-gray-400"}),A.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-600",children:" "})]})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"date",id:"startDate",value:k,onChange:ae=>y(ae.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"date",id:"endDate",value:E,onChange:ae=>D(ae.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"number",id:"priority",min:"1",value:C,onChange:ae=>T(parseInt(ae.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"isActive",className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsxs("select",{id:"isActive",value:j.toString(),onChange:ae=>O(ae.target.value==="true"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white",children:[A.jsx("option",{value:"true",children:""}),A.jsx("option",{value:"false",children:""})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"linkedNotice",className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),A.jsxs("select",{id:"linkedNotice",value:Y||"",onChange:ae=>M(ae.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white",children:[A.jsx("option",{value:"",children:" "}),$.map(ae=>A.jsx("option",{value:ae.id,children:ae.title},ae.id))]})]}),A.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[A.jsxs("button",{type:"button",onClick:()=>o("/admin/dashboard",{state:{activeTab:"popups"}}),className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 transition-all duration-150 flex items-center",children:[A.jsx(Oi,{size:18,className:"mr-2"}),""]}),A.jsxs("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 transition-all duration-150 flex items-center",children:[A.jsx(zl,{size:18,className:"mr-2"}),s?" ":""]})]})]})]})})},aT=({popupToPreview:o,isPreview:s=!1,onClosePreview:l})=>{const u=Vn(),[p,g]=V.useState(o&&s?[o]:[]),[b,_]=V.useState(0),[k,y]=V.useState(s&&!!o),E=V.useRef(null);V.useEffect(()=>{s&&o&&(g([o]),_(0),y(!0),console.log("[PopupModal] Preview mode: Displaying popupToPreview",o))},[s,o]),V.useEffect(()=>{s||D()},[s]),V.useEffect(()=>(k?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[k]);const D=V.useCallback(async()=>{try{const N=new Date().toISOString();console.log("[PopupModal] fetchActivePopups: Fetching active popups...");const{data:B,error:R}=await _e.from("popups").select("*").eq("is_active",!0).lte("start_date",N).gte("end_date",N).order("priority",{ascending:!1});if(R)throw R;if(B&&B.length>0){console.log("[PopupModal] fetchActivePopups: Fetched raw popups:",B);const H=B.filter(q=>{if(!q.id)return console.warn("[PopupModal] fetchActivePopups: Popup with no ID found, filtering out.",q),!1;const Y=`popup_${q.id}_hide_until`,M=localStorage.getItem(Y);return M&&new Date().getTime()<parseInt(M)?(console.log(`[PopupModal] fetchActivePopups: Popup ID ${q.id} is hidden, filtering out.`),!1):!0});console.log("[PopupModal] fetchActivePopups: Visible popups after filtering:",H),H.length>0?(g(H),_(0),y(!0)):(console.log("[PopupModal] fetchActivePopups: No visible popups to display."),y(!1))}else console.log("[PopupModal] fetchActivePopups: No active popups found from DB."),y(!1)}catch(N){console.error("[PopupModal] Error fetching popups:",N),y(!1)}},[]),C=V.useCallback(()=>{s&&l?(console.log("[PopupModal] Preview mode: Closing via onClosePreview."),l(),y(!1)):s?y(!1):(console.log(`[PopupModal] Normal mode: handleClose called. Current index: ${b}, Popups length: ${p.length}`),b<p.length-1?(_(b+1),console.log(`[PopupModal] Normal mode: Moving to next popup. New index: ${b+1}`)):(y(!1),console.log("[PopupModal] Normal mode: All popups shown or closed. Hiding modal.")))},[s,l,b,p.length]),T=V.useCallback(()=>{if(s){C();return}const N=p[b];if(N&&N.id){const B=`popup_${N.id}_hide_until`,R=new Date().setHours(23,59,59,999).toString();localStorage.setItem(B,R)}C()},[s,p,b,C]),j=V.useCallback(()=>{const N=p[b];N&&N.linked_notice_id&&(u(`/notice/${N.linked_notice_id}`),s&&l&&l(),y(!1))},[p,b,u,s,l]),O=V.useCallback(N=>{E.current&&!E.current.contains(N.target)&&C()},[C]);if(!k||s&&(!o||p.length===0)||!s&&(p.length===0||b>=p.length))return null;const L=p[b];return L?(console.log(`[PopupModal] Rendering popup (ID: ${L.id}, Title: ${L.title}, isPreview: ${s})`),A.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:A.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",onClick:O,children:[A.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),A.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),A.jsxs("div",{ref:E,className:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",onClick:N=>N.stopPropagation(),children:[A.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4 z-10",children:A.jsxs("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none",onClick:N=>{N.stopPropagation(),C()},children:[A.jsx("span",{className:"sr-only",children:""}),A.jsx(Oi,{size:24})]})}),A.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:A.jsx("div",{className:"sm:flex sm:items-start",children:A.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[A.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:L.title}),A.jsxs("div",{className:"mt-4",children:[L.image_url&&A.jsx("img",{src:L.image_url,alt:L.title,className:"w-full h-auto max-h-60 object-contain mb-4"}),A.jsxs("div",{className:"text-sm text-gray-700 mb-4",children:[A.jsx("h3",{id:"modal-title",className:"text-lg leading-6 font-medium text-gray-900 mb-2",children:L.title}),A.jsx("div",{dangerouslySetInnerHTML:{__html:L.content||""}})]})]})]})})}),A.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:items-center sm:justify-between",children:[A.jsx("div",{children:L.linked_notice_id&&A.jsxs("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-blue-600 shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm transition-colors duration-150 flex items-center",onClick:j,children:[A.jsx(SS,{size:18,className:"mr-2"})," "]})}),A.jsx("div",{className:"mt-3 sm:mt-0 sm:ml-3 flex flex-col-reverse sm:flex-row",children:!s&&A.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto sm:text-sm transition-colors duration-150",onClick:T,children:"   "})})]})]})]})})):null},NV=()=>{const o=Vn(),s=Qr(),[l,u]=V.useState("applications"),[p,g]=V.useState([]),[b,_]=V.useState([]),[k,y]=V.useState([]),[E,D]=V.useState([]),[C,T]=V.useState(!0),[j,O]=V.useState(null),[L,N]=V.useState(!1),[B,R]=V.useState(null),[H,q]=V.useState(""),[Y,M]=V.useState(""),[$,re]=V.useState("draft"),[oe,be]=V.useState(""),[ae,pe]=V.useState(""),[xe,fe]=V.useState(void 0),[De,wt]=V.useState(null),[Z,ue]=V.useState(""),[me,Oe]=V.useState(""),[$e,Jr]=V.useState("draft"),[Un,Zr]=V.useState(""),[Se,lr]=V.useState(""),[ta,na]=V.useState(void 0),[Ui,oh]=V.useState(""),[sh,Le]=V.useState(""),[Yl,xk]=V.useState(null),[Ek,ah]=V.useState(!0),[lh,Dk]=V.useState(null),[Ql,Nt]=V.useState(""),[Gt,ch]=V.useState(""),[Sk,En]=V.useState(null),[Hn,dh]=V.useState(!0),[ra,uh]=V.useState(""),[xr,hh]=V.useState(""),[ia,ph]=V.useState(""),[Hi,cr]=V.useState("");V.useRef(null);const[zt,Kt]=V.useState(!1),[Bo,Ft]=V.useState(""),[Er,$i]=V.useState({start:"",end:""}),[oa,Jl]=V.useState(""),[jo,Zl]=V.useState(""),[Xr,Vt]=V.useState({key:"created_at",direction:"descending"}),[sa,ei]=V.useState(null),[Po,Xl]=V.useState(!1);V.useEffect(()=>{(async()=>{const{data:{user:ne}}=await _e.auth.getUser();ne?mh():o("/admin/login")})()},[o]),V.useEffect(()=>{const U=s.pathname;Kt(U.includes("/new")||U.includes("/edit"))},[s.pathname]);const mh=async()=>{T(!0),await Promise.all([ec(),gh(),fh(),dr()]),T(!1)},ec=async()=>{try{const{data:U,error:ne}=await _e.from("applications").select("*").order("created_at",{ascending:!1});if(ne)throw ne;g(U||[])}catch(U){console.error("Error fetching applications:",U),O(`   : ${U.message||"   "}`)}},gh=async()=>{try{const{data:U,error:ne}=await _e.from("notices").select("*").order("created_at",{ascending:!1});if(ne)throw ne;_(U||[])}catch(U){console.error("Error fetching notices:",U),O(`  : ${U.message||"   "}`)}},fh=async()=>{try{const{data:U,error:ne}=await _e.from("businesses").select("*").order("created_at",{ascending:!1});if(ne)throw ne;y(U||[])}catch(U){console.error("Error fetching businesses:",U),O(`   : ${U.message||"   "}`)}},dr=V.useCallback(async()=>{try{const{data:U,error:ne}=await _e.from("popups").select("*").order("created_at",{ascending:!1});if(ne)throw ne;D(U||[])}catch(U){console.error("Error fetching popups:",U),O(`   : ${U.message||"   "}`)}},[]);V.useEffect(()=>{dr()},[dr]);const Oo=async()=>{const{error:U}=await _e.auth.signOut();U?(console.error("Error logging out:",U),O(" ")):o("/auth")},kh=async U=>{if(confirm(`   ?
        .`))try{const{error:ne}=await _e.from("notices").update({business_id:null}).eq("business_id",U);if(ne)throw ne;const{error:se}=await _e.from("applications").delete().eq("business_id",U);if(se)throw se;const{error:ve}=await _e.from("businesses").delete().eq("id",U);if(ve)throw ve;y(k.filter(Pe=>Pe.id!==U))}catch(ne){console.error("Error deleting business:",ne),O(`  : ${ne.message||"   "}`)}},bh=async U=>{if(confirm("   ?"))try{const{error:ne}=await _e.from("notices").delete().eq("id",U);if(ne)throw ne;_(b.filter(se=>se.id!==U))}catch(ne){console.error("Error deleting notice:",ne),O(`  : ${ne.message||"   "}`)}},ti=async(U,ne,se)=>{try{if(ne==="approved"){const Jt=k.find(Zt=>Zt.id===se);if(Jt&&Jt.max_participants&&p.filter(hr=>hr.business_id===se&&hr.status==="approved").length>=Jt.max_participants){O(`  (${Jt.max_participants})   .`);return}}const ve={status:ne};ne==="approved"?ve.approved_at=new Date().toISOString():ve.approved_at=null;const{data:Pe,error:Qt}=await _e.from("applications").update(ve).eq("id",U).select();if(Qt)throw Qt;Pe&&(g(p.map(Jt=>Jt.id===U?Pe[0]:Jt)),O(null))}catch(ve){console.error("Error updating application status:",ve),O(`  : ${ve.message||"   "}`)}},tc=async U=>{if(confirm(`   ?
    .`))try{const{error:ne}=await _e.from("applications").delete().eq("id",U);if(ne)throw ne;ec()}catch(ne){console.error("Error deleting application:",ne),O("    .")}},ur=(U,ne)=>{if(!ne)return null;const ve=p.filter(Pe=>Pe.business_id===U&&Pe.status==="approved"&&Pe.approved_at).sort((Pe,Qt)=>new Date(Pe.approved_at).getTime()-new Date(Qt.approved_at).getTime()).findIndex(Pe=>Pe.approved_at===ne);return ve!==-1?ve+1:null},Lo=()=>k.filter(U=>{const ne=!ra||U.name.toLowerCase().includes(ra.toLowerCase()),se=!xr||U.status===xr;return ne&&se}),aa=()=>b.filter(U=>{const ne=!ia||U.title.toLowerCase().includes(ia.toLowerCase()),se=Hi===""||Hi==="visible"&&U.is_visible||Hi==="hidden"&&!U.is_visible;return ne&&se}),wh=()=>p.filter(U=>{k.find(Sr=>Sr.id===U.business_id);const ne=!Bo||U.business_id===Bo,se=new Date(U.created_at),ve=Er.start?new Date(Er.start):null,Pe=Er.end?new Date(Er.end):null,Qt=new Date(se.getFullYear(),se.getMonth(),se.getDate()),Jt=ve?new Date(ve.getFullYear(),ve.getMonth(),ve.getDate()):null,Zt=Pe?new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate()):null,hr=(!Jt||Qt>=Jt)&&(!Zt||Qt<=Zt),Ro=!oa||U.name.toLowerCase().includes(oa.toLowerCase()),zo=!jo||U.phone.includes(jo);return ne&&hr&&Ro&&zo}),_h=()=>{Ft(""),$i({start:"",end:""}),Jl(""),Zl("")},Yt=U=>{Vt(ne=>ne.key===U?ne.direction==="ascending"?{key:U,direction:"descending"}:ne.direction==="descending"?{key:null,direction:null}:{key:U,direction:"ascending"}:{key:U,direction:"ascending"})},nc=()=>{const U=wh();if(!Xr.key||!Xr.direction)return U;const{key:ne,direction:se}=Xr,ve=se==="ascending"?1:-1;return[...U].sort((Pe,Qt)=>{var hr,Ro,zo,Sr,ic,oc;if(ne==="created_at"){const ii=new Date(Pe.created_at).getTime(),Wi=new Date(Qt.created_at).getTime();return(ii-Wi)*ve}if(ne==="business"){const ii=((Ro=(hr=k.find(Dn=>Dn.id===Pe.business_id))==null?void 0:hr.name)==null?void 0:Ro.toLowerCase())||"",Wi=((Sr=(zo=k.find(Dn=>Dn.id===Qt.business_id))==null?void 0:zo.name)==null?void 0:Sr.toLowerCase())||"";return ii.localeCompare(Wi)*ve}if(ne==="status"){const ii={pending:0,approved:1,rejected:2},Wi=ii[Pe.status],Dn=ii[Qt.status];return(Wi-Dn)*ve}const Jt=((ic=Pe[ne])==null?void 0:ic.toString().toLowerCase())||"",Zt=((oc=Qt[ne])==null?void 0:oc.toString().toLowerCase())||"";return Jt.localeCompare(Zt)*ve})},ni=({columnKey:U})=>Xr.key!==U?A.jsx("span",{className:"ml-1 inline-block w-4",children:""}):Xr.direction==="ascending"?A.jsx("span",{className:"ml-1 inline-block w-4",children:""}):Xr.direction==="descending"?A.jsx("span",{className:"ml-1 inline-block w-4",children:""}):A.jsx("span",{className:"ml-1 inline-block w-4",children:""}),Ah=U=>{R(B===U?null:U)},rc=U=>p.filter(ne=>ne.business_id===U),vh=async(U,ne)=>{try{const{data:se,error:ve}=await _e.from("notices").update({is_visible:!ne}).eq("id",U).select();if(ve)throw ve;se&&(_(b.map(Pe=>Pe.id===U?se[0]:Pe)),O(null))}catch(se){console.error("Error updating notice visibility:",se),O(`   : ${se.message||"   "}`)}},Ch=async U=>{if(window.confirm("   ?"))try{const{error:ne}=await _e.from("popups").delete().eq("id",U);if(ne)throw ne;D(E.filter(se=>se.id!==U)),O(null)}catch(ne){console.error("Error deleting popup:",ne),O(`  : ${ne.message||"   "}`)}},yh=async(U,ne)=>{try{const{data:se,error:ve}=await _e.from("popups").update({is_active:!ne}).eq("id",U).select();if(ve)throw ve;se&&se.length>0?(D(E.map(Pe=>Pe.id===U?{...Pe,is_active:se[0].is_active}:Pe)),O(null)):console.warn("Popup visibility update returned no data or empty data array.")}catch(se){console.error("Error updating popup visibility:",se),O(`   : ${se.message||"   "}`)}},xh=U=>{ei(U),Xl(!0)},Dr=()=>{Xl(!1),ei(null)};if(C)return A.jsx("div",{className:"flex justify-center items-center h-screen",children:A.jsx("p",{className:"text-xl",children:" ..."})});const ri=U=>{switch(U){case"draft":return{style:"bg-slate-100 text-slate-700",text:""};case"recruiting":return{style:"bg-blue-100 text-blue-800",text:""};case"closed":return{style:"bg-yellow-100 text-yellow-800",text:""};case"completed":return{style:"bg-green-100 text-green-800",text:""};case"cancelled":return{style:"bg-red-100 text-red-700",text:""};default:return{style:"bg-gray-100 text-gray-500",text:""}}},qi=()=>{switch(l){case"applications":return A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"  "}),j&&A.jsxs("div",{className:"mb-4 p-3 text-red-700 bg-red-100 border border-red-300 rounded-md flex items-center",children:[A.jsx(fo,{size:20,className:"mr-2"}),j]}),A.jsxs("div",{className:"mb-4 bg-white p-4 rounded-xl shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsx("h3",{className:"text-lg font-medium text-gray-800",children:" "}),A.jsx("button",{onClick:_h,className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors border border-gray-300",children:" "})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),A.jsxs("select",{value:Bo,onChange:U=>Ft(U.target.value),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white",children:[A.jsx("option",{value:"",children:" "}),k.map(U=>A.jsx("option",{value:U.id,children:U.name},U.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"text",placeholder:" ...",value:oa,onChange:U=>Jl(U.target.value),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsx("input",{type:"date",value:Er.start,onChange:U=>$i(ne=>({...ne,start:U.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),A.jsx("input",{type:"date",value:Er.end,onChange:U=>$i(ne=>({...ne,end:U.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),A.jsx("input",{type:"text",placeholder:" ...",value:jo,onChange:U=>Zl(U.target.value),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),A.jsx("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"w-[15%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 relative",onClick:()=>Yt("created_at"),children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{children:""}),A.jsx(ni,{columnKey:"created_at"})]})}),A.jsx("th",{scope:"col",className:"w-[20%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 relative",onClick:()=>Yt("business"),children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{children:""}),A.jsx(ni,{columnKey:"business"})]})}),A.jsx("th",{scope:"col",className:"w-[15%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 relative",onClick:()=>Yt("name"),children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{children:""}),A.jsx(ni,{columnKey:"name"})]})}),A.jsx("th",{scope:"col",className:"w-[15%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 relative",onClick:()=>Yt("phone"),children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{children:""}),A.jsx(ni,{columnKey:"phone"})]})}),A.jsx("th",{scope:"col",className:"w-[15%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 relative",onClick:()=>Yt("email"),children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{children:""}),A.jsx(ni,{columnKey:"email"})]})}),A.jsx("th",{scope:"col",className:"w-[10%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 relative",onClick:()=>Yt("status"),children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{children:""}),A.jsx(ni,{columnKey:"status"})]})}),A.jsx("th",{scope:"col",className:"w-[15%] pl-6 pr-0 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),A.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[nc().length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"  ."})}),nc().map(U=>{const ne=k.find(ve=>ve.id===U.business_id),se=ur(U.business_id,U.approved_at);return A.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(U.created_at).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(ne==null?void 0:ne.name)||"   "}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:U.name}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:U.phone}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:U.email}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.jsxs("span",{className:`px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                              ${U.status==="approved"?"bg-green-100 text-green-800":U.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[U.status==="pending"?"":U.status==="approved"?"":"",U.status==="approved"&&se&&A.jsxs("span",{className:"ml-1.5",children:["(",se,")"]})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>ti(U.id,"approved",U.business_id),disabled:U.status==="approved",className:`p-1.5 rounded-md transition-colors duration-150 ${U.status==="approved"?"bg-green-500 text-white cursor-not-allowed":"text-gray-500 hover:bg-gray-100"}`,title:"",children:A.jsx(zl,{size:16})}),A.jsx("button",{onClick:()=>ti(U.id,"rejected",U.business_id),disabled:U.status==="rejected",className:`p-1.5 rounded-md transition-colors duration-150 ${U.status==="rejected"?"bg-red-500 text-white cursor-not-allowed":"text-gray-500 hover:bg-gray-100"}`,title:"",children:A.jsx(Oi,{size:16})}),A.jsx("button",{onClick:()=>ti(U.id,"pending",U.business_id),disabled:U.status==="pending",className:`p-1.5 rounded-md transition-colors duration-150 ${U.status==="pending"?"bg-yellow-500 text-white cursor-not-allowed":"text-gray-500 hover:bg-gray-100"}`,title:"",children:A.jsx(fo,{size:16})}),A.jsx("button",{onClick:()=>tc(U.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(tl,{size:16})})]})})]},U.id)})]})]})})})]});case"business":return A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:" "}),A.jsxs("button",{onClick:()=>o("business/new"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-150 flex items-center space-x-2",children:[A.jsx(ru,{size:20}),A.jsx("span",{children:"  "})]})]}),j&&A.jsxs("div",{className:"mb-4 p-3 text-red-700 bg-red-100 border border-red-300 rounded-md flex items-center",children:[A.jsx(fo,{size:20,className:"mr-2"}),j]}),A.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[A.jsx("input",{type:"text",placeholder:" ...",value:ra,onChange:U=>uh(U.target.value),className:"w-full sm:w-1/3 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition-shadow"}),A.jsxs("select",{value:xr,onChange:U=>hh(U.target.value),className:"w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-shadow",children:[A.jsx("option",{value:"",children:" "}),A.jsx("option",{value:"draft",children:""}),A.jsx("option",{value:"recruiting",children:""}),A.jsx("option",{value:"closed",children:""}),A.jsx("option",{value:"completed",children:""}),A.jsx("option",{value:"cancelled",children:""})]})]}),A.jsx("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),A.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Lo().length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"   ."})}),Lo().map(U=>{const ne=p.filter(se=>se.business_id===U.id&&se.status==="approved").length;return A.jsxs(ir.Fragment,{children:[A.jsxs("tr",{onClick:()=>Ah(U.id),className:`hover:bg-gray-50 transition-colors duration-150 cursor-pointer ${B===U.id?"bg-blue-50":""}`,children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.name}),A.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",title:U.description,children:U.description}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.jsx("span",{className:`px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${ri(U.status).style}`,children:ri(U.status).text})}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[new Date(U.start_date).toLocaleDateString()," ~ ",new Date(U.end_date).toLocaleDateString()]}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[ne,"",U.max_participants?` / ${U.max_participants}`:""]}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:A.jsxs("div",{className:"flex items-center space-x-2",onClick:se=>se.stopPropagation(),children:[A.jsx("button",{onClick:()=>o(`business/edit/${U.id}`),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(dg,{size:16})}),A.jsx("button",{onClick:()=>kh(U.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(tl,{size:16})})]})})]}),B===U.id&&A.jsx("tr",{children:A.jsx("td",{colSpan:6,className:"px-6 py-4 bg-gray-50 border-t border-b border-gray-200",children:A.jsxs("div",{className:"mb-4",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:['"',U.name,'"  ']}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-100",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"w-[25%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"w-[20%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"w-[20%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"w-[20%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"w-[15%] pl-2 pr-0 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:rc(U.id).length===0?A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"  ."})}):rc(U.id).map(se=>{const ve=ur(U.id,se.approved_at);return A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(se.created_at).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:se.name}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:se.phone}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.jsxs("span",{className:`px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full min-w-[60px] justify-center
                                                    ${se.status==="approved"?"bg-green-100 text-green-800":se.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[se.status==="pending"?"":se.status==="approved"?"":"",se.status==="approved"&&ve&&A.jsxs("span",{className:"ml-1.5",children:["(",ve,")"]})]})}),A.jsx("td",{className:"pl-2 pr-0 py-4 whitespace-nowrap text-sm font-medium",children:A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("button",{onClick:()=>ti(se.id,"approved",U.id),disabled:se.status==="approved",className:`w-8 h-8 flex items-center justify-center rounded-md transition-colors duration-150 ${se.status==="approved"?"bg-green-500 text-white cursor-not-allowed":"text-gray-500 hover:bg-gray-100"}`,title:"",children:A.jsx(zl,{size:16})}),A.jsx("button",{onClick:()=>ti(se.id,"rejected",U.id),disabled:se.status==="rejected",className:`w-8 h-8 flex items-center justify-center rounded-md transition-colors duration-150 ${se.status==="rejected"?"bg-red-500 text-white cursor-not-allowed":"text-gray-500 hover:bg-gray-100"}`,title:"",children:A.jsx(Oi,{size:16})}),A.jsx("button",{onClick:()=>ti(se.id,"pending",U.id),disabled:se.status==="pending",className:`w-8 h-8 flex items-center justify-center rounded-md transition-colors duration-150 ${se.status==="pending"?"bg-yellow-500 text-white cursor-not-allowed":"text-gray-500 hover:bg-gray-100"}`,title:"",children:A.jsx(fo,{size:16})}),A.jsx("button",{onClick:()=>tc(se.id),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(tl,{size:16})})]})})]},se.id)})})]})})]})})})]},U.id)})]})]})})})]});case"notices":return A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:" "}),A.jsxs("button",{onClick:()=>o("notice/new"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-150 flex items-center space-x-2",children:[A.jsx(ru,{size:20}),A.jsx("span",{children:"  "})]})]}),j&&A.jsxs("div",{className:"mb-4 p-3 text-red-700 bg-red-100 border border-red-300 rounded-md flex items-center",children:[A.jsx(fo,{size:20,className:"mr-2"}),j]}),A.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[A.jsx("input",{type:"text",placeholder:" ...",value:ia,onChange:U=>ph(U.target.value),className:"w-full sm:w-1/3 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition-shadow"}),A.jsxs("select",{value:Hi,onChange:U=>cr(U.target.value),className:"w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-shadow",children:[A.jsx("option",{value:"",children:" "}),A.jsx("option",{value:"visible",children:""}),A.jsx("option",{value:"hidden",children:""})]})]}),A.jsx("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),A.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[aa().length===0&&A.jsx("tr",{children:A.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[A.jsx(Tu,{size:48,className:"mx-auto mb-4 text-gray-300"}),A.jsx("p",{className:"text-lg",children:"  ."}),A.jsx("p",{className:"text-sm",children:"  ."})]})}),aa().map(U=>{const ne=k.find(se=>se.id===U.business_id);return A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(U.created_at).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),A.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.jsx("div",{className:"font-medium hover:text-blue-600 cursor-pointer",onClick:()=>o(`notice/edit/${U.id}`),children:U.title})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(ne==null?void 0:ne.name)||"-"}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.jsx("button",{onClick:()=>vh(U.id,U.is_visible),className:`px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full min-w-[60px] justify-center transition-colors duration-150
                                ${U.is_visible?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:U.is_visible?"":""})}),A.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{onClick:()=>o(`notice/edit/${U.id}`),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(dg,{size:16})}),A.jsx("button",{onClick:()=>bh(U.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(tl,{size:16})})]})})]},U.id)})]})]})})})]});case"popups":return A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:" "}),A.jsxs("button",{onClick:()=>o("popup/new"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-150 flex items-center space-x-2",children:[A.jsx(ru,{size:20}),A.jsx("span",{children:"  "})]})]}),j&&A.jsxs("div",{className:"mb-4 p-3 text-red-700 bg-red-100 border border-red-300 rounded-md flex items-center",children:[A.jsx(fo,{size:20,className:"mr-2"}),j]}),A.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-100",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(U=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.jsx("div",{className:"font-medium hover:text-blue-600 cursor-pointer",onClick:()=>o(`popup/edit/${U.id}`),children:U.title})}),A.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[new Date(U.start_date).toLocaleDateString()," ~ ",new Date(U.end_date).toLocaleDateString()]}),A.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:U.priority}),A.jsx("td",{className:"px-6 py-4 text-sm",children:A.jsx("button",{onClick:()=>yh(U.id,U.is_active),className:`px-2.5 py-1 inline-flex text-xs leading-5 font-semibold rounded-full min-w-[60px] justify-center transition-colors duration-150 ${U.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:U.is_active?"":""})}),A.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("button",{onClick:()=>xh(U),className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(E7,{size:20})}),A.jsx("button",{onClick:()=>o(`popup/edit/${U.id}`),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(dg,{size:16})}),A.jsx("button",{onClick:()=>Ch(U.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-md transition-colors duration-150",title:"",children:A.jsx(tl,{size:16})})]})})]},U.id))})]})})]});default:return null}};return A.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[!zt&&A.jsxs("aside",{className:"w-64 bg-white shadow-md flex flex-col",children:[A.jsx("div",{className:"p-6 border-b border-gray-200",children:A.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:" "})}),A.jsx("nav",{className:"flex-1 p-4 space-y-2",children:["applications","business","notices","popups"].map(U=>A.jsxs("button",{onClick:()=>u(U),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-150
                ${l===U?"bg-blue-500 text-white shadow-lg":"text-gray-600 hover:bg-gray-200 hover:text-gray-800"}`,children:[U==="applications"&&A.jsx(ES,{size:20}),U==="business"&&A.jsx(mf,{size:20}),U==="notices"&&A.jsx(Tu,{size:20}),U==="popups"&&A.jsx(mf,{size:20}),A.jsx("span",{className:"font-medium",children:U==="applications"?" ":U==="business"?" ":U==="notices"?" ":" "})]},U))}),A.jsxs("div",{className:"p-4 border-t border-gray-200",children:[A.jsxs("button",{onClick:()=>o("/"),className:"flex items-center w-full px-4 py-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-blue-600 transition-colors duration-150 mb-2",children:[A.jsx(SS,{className:"w-5 h-5 mr-3"})," "]}),A.jsxs("button",{onClick:Oo,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-150 shadow-md",children:[A.jsx(D7,{size:20}),A.jsx("span",{className:"font-medium",children:""})]})]})]}),A.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:A.jsxs(CS,{children:[A.jsx(Tt,{path:"/",element:qi()}),A.jsx(Tt,{path:"business/new",element:A.jsx(Mu,{})}),A.jsx(Tt,{path:"business/edit/:id",element:A.jsx(Mu,{})}),A.jsx(Tt,{path:"notice/new",element:A.jsx(Bu,{})}),A.jsx(Tt,{path:"notice/edit/:id",element:A.jsx(Bu,{})}),A.jsx(Tt,{path:"popup/new",element:A.jsx(QE,{})}),A.jsx(Tt,{path:"popup/edit/:id",element:A.jsx(QE,{})})]})}),Po&&sa&&A.jsx(aT,{isPreview:!0,popupToPreview:{...sa,content:sa.content??""},onClosePreview:Dr})]})},BV=()=>{const s=Qr().pathname.startsWith("/admin");return A.jsxs(f7,{children:[!s&&A.jsx(rV,{}),!s&&A.jsx(k7,{}),A.jsx(jV,{})]})},jV=()=>{const{mainPageOpacity:o,triggerAnimation:s,hasAnimationPlayedOnce:l}=wk(),u=Qr(),p=u.pathname.startsWith("/admin");return V.useEffect(()=>{p||s()},[p,s,u.pathname]),A.jsxs("div",{className:"font-sans text-gray-800 bg-gray-50 transition-opacity duration-500",style:{opacity:o},children:[!p&&l&&A.jsx(aT,{}),A.jsxs(CS,{children:[A.jsx(Tt,{path:"/",element:A.jsxs("main",{children:[A.jsx(b7,{}),A.jsx(j7,{}),A.jsx(Z9,{}),A.jsx(X9,{}),A.jsx(eV,{}),A.jsx(tV,{})]})}),A.jsx(Tt,{path:"/notice/:id",element:A.jsx(iV,{})}),A.jsx(Tt,{path:"/apply",element:A.jsx(oV,{})}),A.jsx(Tt,{path:"/admin/login",element:A.jsx(sV,{})}),A.jsx(Tt,{path:"/admin/dashboard/*",element:A.jsx(NV,{})}),A.jsx(Tt,{path:"/admin/dashboard/business/new",element:A.jsx(Mu,{})}),A.jsx(Tt,{path:"/admin/dashboard/business/edit/:id",element:A.jsx(Mu,{})}),A.jsx(Tt,{path:"/admin/dashboard/notice/new",element:A.jsx(Bu,{})}),A.jsx(Tt,{path:"/admin/dashboard/notice/edit/:id",element:A.jsx(Bu,{})})]}),!p&&A.jsx(nV,{})]})};function PV(){return A.jsx(h7,{basename:"/",children:A.jsx(BV,{})})}dS(document.getElementById("root")).render(A.jsx(V.StrictMode,{children:A.jsx(PV,{})}));export{JE as g};
